<!DOCTYPE html>
<!-- Created by pdf2htmlEX (https://github.com/coolwanglu/pdf2htmlex) -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta charset="utf-8"/>
<meta name="generator" content="pdf2htmlEX"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<link rel="stylesheet" href="base.min.css"/>
<link rel="stylesheet" href="fancy.min.css"/>
<link rel="stylesheet" href="note06-Neural-Machine-Translation-Seq2seq-and-Attention.css"/>
<script>
/*
 Copyright 2012 Mozilla Foundation 
 Copyright 2013 Lu Wang <coolwanglu@gmail.com>
 Apachine License Version 2.0 
*/
(function(){function b(a,b,e,f){var c=(a.className||"").split(/\s+/g);""===c[0]&&c.shift();var d=c.indexOf(b);0>d&&e&&c.push(b);0<=d&&f&&c.splice(d,1);a.className=c.join(" ");return 0<=d}if(!("classList"in document.createElement("div"))){var e={add:function(a){b(this.element,a,!0,!1)},contains:function(a){return b(this.element,a,!1,!1)},remove:function(a){b(this.element,a,!1,!0)},toggle:function(a){b(this.element,a,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;
var a=Object.create(e,{element:{value:this,writable:!1,enumerable:!0}});Object.defineProperty(this,"_classList",{value:a,writable:!1,enumerable:!1});return a},enumerable:!0})}})();
</script>
<script>
(function(){/*
 pdf2htmlEX.js: Core UI functions for pdf2htmlEX 
 Copyright 2012,2013 Lu Wang <coolwanglu@gmail.com> and other contributors 
 https://github.com/coolwanglu/pdf2htmlEX/blob/master/share/LICENSE 
*/
var pdf2htmlEX=window.pdf2htmlEX=window.pdf2htmlEX||{},CSS_CLASS_NAMES={page_frame:"pf",page_content_box:"pc",page_data:"pi",background_image:"bi",link:"l",input_radio:"ir",__dummy__:"no comma"},DEFAULT_CONFIG={container_id:"page-container",sidebar_id:"sidebar",outline_id:"outline",loading_indicator_cls:"loading-indicator",preload_pages:3,render_timeout:100,scale_step:0.9,key_handler:!0,hashchange_handler:!0,view_history_handler:!0,__dummy__:"no comma"},EPS=1E-6;
function invert(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[3]*a[4])/b,(a[1]*a[4]-a[0]*a[5])/b]}function transform(a,b){return[a[0]*b[0]+a[2]*b[1]+a[4],a[1]*b[0]+a[3]*b[1]+a[5]]}function get_page_number(a){return parseInt(a.getAttribute("data-page-no"),16)}function disable_dragstart(a){for(var b=0,c=a.length;b<c;++b)a[b].addEventListener("dragstart",function(){return!1},!1)}
function clone_and_extend_objs(a){for(var b={},c=0,e=arguments.length;c<e;++c){var h=arguments[c],d;for(d in h)h.hasOwnProperty(d)&&(b[d]=h[d])}return b}
function Page(a){if(a){this.shown=this.loaded=!1;this.page=a;this.num=get_page_number(a);this.original_height=a.clientHeight;this.original_width=a.clientWidth;var b=a.getElementsByClassName(CSS_CLASS_NAMES.page_content_box)[0];b&&(this.content_box=b,this.original_scale=this.cur_scale=this.original_height/b.clientHeight,this.page_data=JSON.parse(a.getElementsByClassName(CSS_CLASS_NAMES.page_data)[0].getAttribute("data-data")),this.ctm=this.page_data.ctm,this.ictm=invert(this.ctm),this.loaded=!0)}}
Page.prototype={hide:function(){this.loaded&&this.shown&&(this.content_box.classList.remove("opened"),this.shown=!1)},show:function(){this.loaded&&!this.shown&&(this.content_box.classList.add("opened"),this.shown=!0)},rescale:function(a){this.cur_scale=0===a?this.original_scale:a;this.loaded&&(a=this.content_box.style,a.msTransform=a.webkitTransform=a.transform="scale("+this.cur_scale.toFixed(3)+")");a=this.page.style;a.height=this.original_height*this.cur_scale+"px";a.width=this.original_width*this.cur_scale+
"px"},view_position:function(){var a=this.page,b=a.parentNode;return[b.scrollLeft-a.offsetLeft-a.clientLeft,b.scrollTop-a.offsetTop-a.clientTop]},height:function(){return this.page.clientHeight},width:function(){return this.page.clientWidth}};function Viewer(a){this.config=clone_and_extend_objs(DEFAULT_CONFIG,0<arguments.length?a:{});this.pages_loading=[];this.init_before_loading_content();var b=this;document.addEventListener("DOMContentLoaded",function(){b.init_after_loading_content()},!1)}
Viewer.prototype={scale:1,cur_page_idx:0,first_page_idx:0,init_before_loading_content:function(){this.pre_hide_pages()},initialize_radio_button:function(){for(var a=document.getElementsByClassName(CSS_CLASS_NAMES.input_radio),b=0;b<a.length;b++)a[b].addEventListener("click",function(){this.classList.toggle("checked")})},init_after_loading_content:function(){this.sidebar=document.getElementById(this.config.sidebar_id);this.outline=document.getElementById(this.config.outline_id);this.container=document.getElementById(this.config.container_id);
this.loading_indicator=document.getElementsByClassName(this.config.loading_indicator_cls)[0];for(var a=!0,b=this.outline.childNodes,c=0,e=b.length;c<e;++c)if("ul"===b[c].nodeName.toLowerCase()){a=!1;break}a||this.sidebar.classList.add("opened");this.find_pages();if(0!=this.pages.length){disable_dragstart(document.getElementsByClassName(CSS_CLASS_NAMES.background_image));this.config.key_handler&&this.register_key_handler();var h=this;this.config.hashchange_handler&&window.addEventListener("hashchange",
function(a){h.navigate_to_dest(document.location.hash.substring(1))},!1);this.config.view_history_handler&&window.addEventListener("popstate",function(a){a.state&&h.navigate_to_dest(a.state)},!1);this.container.addEventListener("scroll",function(){h.update_page_idx();h.schedule_render(!0)},!1);[this.container,this.outline].forEach(function(a){a.addEventListener("click",h.link_handler.bind(h),!1)});this.initialize_radio_button();this.render()}},find_pages:function(){for(var a=[],b={},c=this.container.childNodes,
e=0,h=c.length;e<h;++e){var d=c[e];d.nodeType===Node.ELEMENT_NODE&&d.classList.contains(CSS_CLASS_NAMES.page_frame)&&(d=new Page(d),a.push(d),b[d.num]=a.length-1)}this.pages=a;this.page_map=b},load_page:function(a,b,c){var e=this.pages;if(!(a>=e.length||(e=e[a],e.loaded||this.pages_loading[a]))){var e=e.page,h=e.getAttribute("data-page-url");if(h){this.pages_loading[a]=!0;var d=e.getElementsByClassName(this.config.loading_indicator_cls)[0];"undefined"===typeof d&&(d=this.loading_indicator.cloneNode(!0),
d.classList.add("active"),e.appendChild(d));var f=this,g=new XMLHttpRequest;g.open("GET",h,!0);g.onload=function(){if(200===g.status||0===g.status){var b=document.createElement("div");b.innerHTML=g.responseText;for(var d=null,b=b.childNodes,e=0,h=b.length;e<h;++e){var p=b[e];if(p.nodeType===Node.ELEMENT_NODE&&p.classList.contains(CSS_CLASS_NAMES.page_frame)){d=p;break}}b=f.pages[a];f.container.replaceChild(d,b.page);b=new Page(d);f.pages[a]=b;b.hide();b.rescale(f.scale);disable_dragstart(d.getElementsByClassName(CSS_CLASS_NAMES.background_image));
f.schedule_render(!1);c&&c(b)}delete f.pages_loading[a]};g.send(null)}void 0===b&&(b=this.config.preload_pages);0<--b&&(f=this,setTimeout(function(){f.load_page(a+1,b)},0))}},pre_hide_pages:function(){var a="@media screen{."+CSS_CLASS_NAMES.page_content_box+"{display:none;}}",b=document.createElement("style");b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a));document.head.appendChild(b)},render:function(){for(var a=this.container,b=a.scrollTop,c=a.clientHeight,a=b-c,b=
b+c+c,c=this.pages,e=0,h=c.length;e<h;++e){var d=c[e],f=d.page,g=f.offsetTop+f.clientTop,f=g+f.clientHeight;g<=b&&f>=a?d.loaded?d.show():this.load_page(e):d.hide()}},update_page_idx:function(){var a=this.pages,b=a.length;if(!(2>b)){for(var c=this.container,e=c.scrollTop,c=e+c.clientHeight,h=-1,d=b,f=d-h;1<f;){var g=h+Math.floor(f/2),f=a[g].page;f.offsetTop+f.clientTop+f.clientHeight>=e?d=g:h=g;f=d-h}this.first_page_idx=d;for(var g=h=this.cur_page_idx,k=0;d<b;++d){var f=a[d].page,l=f.offsetTop+f.clientTop,
f=f.clientHeight;if(l>c)break;f=(Math.min(c,l+f)-Math.max(e,l))/f;if(d===h&&Math.abs(f-1)<=EPS){g=h;break}f>k&&(k=f,g=d)}this.cur_page_idx=g}},schedule_render:function(a){if(void 0!==this.render_timer){if(!a)return;clearTimeout(this.render_timer)}var b=this;this.render_timer=setTimeout(function(){delete b.render_timer;b.render()},this.config.render_timeout)},register_key_handler:function(){var a=this;window.addEventListener("DOMMouseScroll",function(b){if(b.ctrlKey){b.preventDefault();var c=a.container,
e=c.getBoundingClientRect(),c=[b.clientX-e.left-c.clientLeft,b.clientY-e.top-c.clientTop];a.rescale(Math.pow(a.config.scale_step,b.detail),!0,c)}},!1);window.addEventListener("keydown",function(b){var c=!1,e=b.ctrlKey||b.metaKey,h=b.altKey;switch(b.keyCode){case 61:case 107:case 187:e&&(a.rescale(1/a.config.scale_step,!0),c=!0);break;case 173:case 109:case 189:e&&(a.rescale(a.config.scale_step,!0),c=!0);break;case 48:e&&(a.rescale(0,!1),c=!0);break;case 33:h?a.scroll_to(a.cur_page_idx-1):a.container.scrollTop-=
a.container.clientHeight;c=!0;break;case 34:h?a.scroll_to(a.cur_page_idx+1):a.container.scrollTop+=a.container.clientHeight;c=!0;break;case 35:a.container.scrollTop=a.container.scrollHeight;c=!0;break;case 36:a.container.scrollTop=0,c=!0}c&&b.preventDefault()},!1)},rescale:function(a,b,c){var e=this.scale;this.scale=a=0===a?1:b?e*a:a;c||(c=[0,0]);b=this.container;c[0]+=b.scrollLeft;c[1]+=b.scrollTop;for(var h=this.pages,d=h.length,f=this.first_page_idx;f<d;++f){var g=h[f].page;if(g.offsetTop+g.clientTop>=
c[1])break}g=f-1;0>g&&(g=0);var g=h[g].page,k=g.clientWidth,f=g.clientHeight,l=g.offsetLeft+g.clientLeft,m=c[0]-l;0>m?m=0:m>k&&(m=k);k=g.offsetTop+g.clientTop;c=c[1]-k;0>c?c=0:c>f&&(c=f);for(f=0;f<d;++f)h[f].rescale(a);b.scrollLeft+=m/e*a+g.offsetLeft+g.clientLeft-m-l;b.scrollTop+=c/e*a+g.offsetTop+g.clientTop-c-k;this.schedule_render(!0)},fit_width:function(){var a=this.cur_page_idx;this.rescale(this.container.clientWidth/this.pages[a].width(),!0);this.scroll_to(a)},fit_height:function(){var a=this.cur_page_idx;
this.rescale(this.container.clientHeight/this.pages[a].height(),!0);this.scroll_to(a)},get_containing_page:function(a){for(;a;){if(a.nodeType===Node.ELEMENT_NODE&&a.classList.contains(CSS_CLASS_NAMES.page_frame)){a=get_page_number(a);var b=this.page_map;return a in b?this.pages[b[a]]:null}a=a.parentNode}return null},link_handler:function(a){var b=a.target,c=b.getAttribute("data-dest-detail");if(c){if(this.config.view_history_handler)try{var e=this.get_current_view_hash();window.history.replaceState(e,
"","#"+e);window.history.pushState(c,"","#"+c)}catch(h){}this.navigate_to_dest(c,this.get_containing_page(b));a.preventDefault()}},navigate_to_dest:function(a,b){try{var c=JSON.parse(a)}catch(e){return}if(c instanceof Array){var h=c[0],d=this.page_map;if(h in d){for(var f=d[h],h=this.pages[f],d=2,g=c.length;d<g;++d){var k=c[d];if(null!==k&&"number"!==typeof k)return}for(;6>c.length;)c.push(null);var g=b||this.pages[this.cur_page_idx],d=g.view_position(),d=transform(g.ictm,[d[0],g.height()-d[1]]),
g=this.scale,l=[0,0],m=!0,k=!1,n=this.scale;switch(c[1]){case "XYZ":l=[null===c[2]?d[0]:c[2]*n,null===c[3]?d[1]:c[3]*n];g=c[4];if(null===g||0===g)g=this.scale;k=!0;break;case "Fit":case "FitB":l=[0,0];k=!0;break;case "FitH":case "FitBH":l=[0,null===c[2]?d[1]:c[2]*n];k=!0;break;case "FitV":case "FitBV":l=[null===c[2]?d[0]:c[2]*n,0];k=!0;break;case "FitR":l=[c[2]*n,c[5]*n],m=!1,k=!0}if(k){this.rescale(g,!1);var p=this,c=function(a){l=transform(a.ctm,l);m&&(l[1]=a.height()-l[1]);p.scroll_to(f,l)};h.loaded?
c(h):(this.load_page(f,void 0,c),this.scroll_to(f))}}}},scroll_to:function(a,b){var c=this.pages;if(!(0>a||a>=c.length)){c=c[a].view_position();void 0===b&&(b=[0,0]);var e=this.container;e.scrollLeft+=b[0]-c[0];e.scrollTop+=b[1]-c[1]}},get_current_view_hash:function(){var a=[],b=this.pages[this.cur_page_idx];a.push(b.num);a.push("XYZ");var c=b.view_position(),c=transform(b.ictm,[c[0],b.height()-c[1]]);a.push(c[0]/this.scale);a.push(c[1]/this.scale);a.push(this.scale);return JSON.stringify(a)}};
pdf2htmlEX.Viewer=Viewer;})();
</script>
<script>
try{
pdf2htmlEX.defaultViewer = new pdf2htmlEX.Viewer({});
}catch(e){}
</script>
<title></title>
</head>
<body>
<div id="sidebar">
<div id="outline">
<ul><li><a class="l" href="#pf2" data-dest-detail='[2,"XYZ",63.75,806.15,null]'>1.Neural Machine Translation with Seq2Seq</a><ul><li><a class="l" href="#pf2" data-dest-detail='[2,"XYZ",42.5,510.4,null]'>1.1 Brief Note on Historical Approaches</a></li><li><a class="l" href="#pf2" data-dest-detail='[2,"XYZ",42.5,116.7,null]'>1.2 Sequence-to-sequence Basics</a></li><li><a class="l" href="#pf3" data-dest-detail='[3,"XYZ",42.5,663.3,null]'>1.3 Seq2Seq architecture - encoder</a></li><li><a class="l" href="#pf3" data-dest-detail='[3,"XYZ",42.5,224.3,null]'>1.4 Seq2Seq architecture - decoder </a></li><li><a class="l" href="#pf4" data-dest-detail='[4,"XYZ",42.5,451.15,null]'>1.5 Recap &amp; Basic NMT Example</a></li><li><a class="l" href="#pf5" data-dest-detail='[5,"XYZ",42.5,725.75,null]'>1.6 Bidirectional RNNs</a></li></ul></li><li><a class="l" href="#pf5" data-dest-detail='[5,"XYZ",63.75,359.55,null]'>2.Attention Mechanism</a><ul><li><a class="l" href="#pf5" data-dest-detail='[5,"XYZ",42.5,324.75,null]'>2.1 Motivation</a></li><li><a class="l" href="#pf6" data-dest-detail='[6,"XYZ",42.5,806.15,null]'>2.2 Bahdanau et al. NMT model</a><ul><li><a class="l" href="#pf6" data-dest-detail='[6,"XYZ",63.75,666.6,null]'>1)Encoder</a></li><li><a class="l" href="#pf6" data-dest-detail='[6,"XYZ",63.75,586.15,null]'>2)Decoder</a></li></ul></li><li><a class="l" href="#pf7" data-dest-detail='[7,"XYZ",42.5,806.15,null]'>2.3 Connection with translation alignment</a></li><li><a class="l" href="#pf7" data-dest-detail='[7,"XYZ",42.5,610.15,null]'>2.4 Performance on long sentences</a></li></ul></li><li><a class="l" href="#pf7" data-dest-detail='[7,"XYZ",63.75,470.6,null]'>3.Other Models</a><ul><li><a class="l" href="#pf7" data-dest-detail='[7,"XYZ",42.5,435.8,null]'>3.1 Luong et al. NMT model</a></li><li><a class="l" href="#pf8" data-dest-detail='[8,"XYZ",42.5,483.85,null]'>3.2 Google’s new NMT</a></li><li><a class="l" href="#pf9" data-dest-detail='[9,"XYZ",42.5,806.15,null]'>3.3 More advanced papers using attention</a></li></ul></li><li><a class="l" href="#pf9" data-dest-detail='[9,"XYZ",63.75,542.5,null]'>4.Sequence model decoders</a></li><li><a class="l" href="#pfa" data-dest-detail='[10,"XYZ",63.75,456.6,null]'>5.Evaluation of Machine Translation Systems</a><ul><li><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",42.5,806.15,null]'>5.1 Human Evaluation</a></li><li><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",42.5,666.6,null]'>5.2 Evaluation against another task</a></li><li><a class="l" href="#pfb" data-dest-detail='[11,"XYZ",42.5,321.7,null]'>5.3 Bilingual Evaluation Understudy (BLEU)</a></li></ul></li><li><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",63.75,546.4,null]'>6.Dealing with the large output vocabulary</a><ul><li><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",42.5,380.7,null]'>6.1 Scaling softmax</a></li><li><a class="l" href="#pfe" data-dest-detail='[14,"XYZ",42.5,582.85,null]'>6.2 Reducing vocabulary</a></li><li><a class="l" href="#pff" data-dest-detail='[15,"XYZ",42.5,694.1,null]'>6.3 Handling unknown words</a></li></ul></li><li><a class="l" href="#pff" data-dest-detail='[15,"XYZ",63.75,255.95,null]'>7.Word and character-based models</a><ul><li><a class="l" href="#pff" data-dest-detail='[15,"XYZ",42.5,109.05,null]'>7.1 Word segmentation</a></li><li><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",42.5,525.6,null]'>7.2 Character-based model</a></li><li><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",42.5,335.2,null]'>7.3 Hybrid NMT</a></li></ul></li></ul></div>
</div>
<div id="page-container">
<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg1.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 w2 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">1</div></div><div class="t m0 x0 h5 y5 ff2 fs3 fc0 sc0 ls0 ws0">Lecture<span class="_ _4"> </span>Notes:<span class="_ _4"> </span>Part<span class="_ _4"> </span>VI</div><div class="t m0 x0 h5 y6 ff2 fs3 fc0 sc0 ls0 ws0">Neural<span class="_ _4"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _4"> </span>Seq2seq<span class="_ _4"> </span>and<span class="_ _4"> </span>Attention</div><div class="c x2 y7 w3 h6"><div class="t m0 x0 h7 y8 ff4 fs4 fc0 sc0 ls0 ws0">CS224n <span class="ff5">是<span class="_ _2"></span>顶<span class="_ _5"></span>级<span class="_ _2"></span>院<span class="_ _2"></span>校<span class="_ _5"></span>斯<span class="_ _2"></span>坦<span class="_ _2"></span>福<span class="_ _2"></span>出<span class="_ _5"></span>品<span class="_ _2"></span>的<span class="_ _2"></span>深<span class="_ _2"></span>度<span class="_ _5"></span>学习<span class="_ _5"></span>与<span class="_ _2"></span>自<span class="_ _2"></span>然<span class="_ _2"></span>语<span class="_ _5"></span>言<span class="_ _2"></span>处<span class="_ _2"></span>理<span class="_ _2"></span>方</span></div><div class="t m0 x0 h7 y9 ff5 fs4 fc0 sc0 ls0 ws0">向<span class="_ _6"> </span>专<span class="_ _6"> </span>业<span class="_ _6"> </span>课<span class="_ _6"> </span>程<span class="_ _6"> </span>，<span class="_ _7"> </span>核<span class="_ _6"> </span>心<span class="_ _6"> </span>内<span class="_ _6"> </span>容<span class="_ _6"> </span>覆<span class="_ _6"> </span>盖<span class="_ _8"> </span><span class="ff4">RNN<span class="_ _6"> </span></span>、<span class="_ _6"> </span><span class="ff4">LSTM<span class="_ _7"> </span></span>、<span class="_ _6"> </span><span class="ff4">CNN<span class="_ _6"> </span></span>、</div><div class="t m0 x0 h7 ya ff4 fs4 fc0 sc0 ls0 ws0">transformer<span class="_ _2"></span><span class="ff5">、<span class="_ _2"></span></span>bert<span class="_ _2"></span><span class="ff5">、<span class="_ _2"></span>问答<span class="_ _2"></span>、<span class="_ _2"></span>摘<span class="_ _2"></span>要、<span class="_ _2"></span>文<span class="_ _2"></span>本<span class="_ _2"></span>生<span class="_ _2"></span>成、<span class="_ _2"></span>语<span class="_ _2"></span>言<span class="_ _2"></span>模型<span class="_ _2"></span>、<span class="_ _2"></span>阅<span class="_ _2"></span>读</span></div><div class="t m0 x0 h8 yb ff5 fs4 fc0 sc0 ls0 ws0">理解等前沿内<span class="_ _2"></span>容。</div><div class="t m0 x0 h9 yc ff6 fs3 fc0 sc0 ls0 ws0">笔记核心词<span class="_ _9"></span>：</div><div class="t m0 x0 h7 yd ff4 fs4 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _8"> </span>and<span class="_ _8"> </span>Attent<span class="_ _2"></span>ion<span class="_ _8"> </span>Mechanisms,<span class="_ _8"> </span>Neu<span class="_ _2"></span>ral<span class="_ _8"> </span>Machine</div><div class="t m0 x0 h7 ye ff4 fs4 fc0 sc0 ls0 ws0">Translation,<span class="_ _4"> </span>Spe<span class="_ _2"></span>ech<span class="_ _4"> </span>Processing</div><div class="t m0 x0 ha yf ff5 fs4 fc0 sc0 ls0 ws0">课程<span class="_ _5"></span><span class="ff7 fs5">全部<span class="_ _2"></span>资<span class="_ _2"></span>料和<span class="_ _2"></span>信<span class="_ _2"></span>息</span>已<span class="_ _2"></span>整<span class="_ _2"></span>理<span class="_ _2"></span>发<span class="_ _5"></span>布，<span class="_ _5"></span>扫描<span class="_ _2"></span>下<span class="_ _2"></span>方<span class="_ _2"></span><span class="ff7 fs5">任<span class="_ _2"></span>意<span class="_ _2"></span></span>二<span class="_ _2"></span>维<span class="_ _2"></span>码<span class="_ _2"></span>，<span class="_ _2"></span>均<span class="_ _2"></span>可</div><div class="t m0 x0 h8 y10 ff5 fs4 fc0 sc0 ls0 ws0">获取！！</div></div><div class="c x3 y11 w4 hb"><div class="t m0 x4 hc y12 ff6 fs4 fc0 sc0 ls0 ws0">微信公众号<span class="_ _2"></span><span class="ff5 fs2">·全套资料</span></div><div class="t m0 x4 h4 y13 ff5 fs2 fc0 sc0 ls0 ws0">回复 <span class="ff4">CS224n</span></div><div class="t m0 x4 hd y14 ff5 fs2 fc0 sc0 ls0 ws0">底部菜单栏</div></div><div class="c x5 y11 w5 hb"><div class="t m0 x4 hc y12 ff6 fs4 fc0 sc0 ls0 ws0">Bilibili<span class="ff5 fs2">·课程视频</span></div><div class="t m0 x4 hd y13 ff5 fs2 fc0 sc0 ls0 ws0">视频简介</div><div class="t m0 x4 hd y14 ff5 fs2 fc0 sc0 ls0 ws0">置顶评论</div></div><div class="c x6 y11 w4 hb"><div class="t m0 x4 hc y12 ff6 fs4 fc0 sc0 ls0 ws0">GitHub<span class="ff5 fs2">·项目代码</span></div><div class="t m0 x4 h4 y13 ff5 fs2 fc0 sc0 ls0 ws0">阅读 <span class="ff4">ReadMe</span></div><div class="t m0 x4 hd y14 ff5 fs2 fc0 sc0 ls0 ws0">点击超链接</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf2" class="pf w0 h0" data-page-no="2"><div class="pc pc2 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg2.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 w7 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">2</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 hf y15 ff8 fs3 fc0 sc0 ls0 ws0">1.<span class="_ _a"> </span>Neural<span class="_ _4"> </span>Machine<span class="_ _3"> </span>Translation<span class="_ _4"> </span>with<span class="_ _4"> </span>Seq2Seq</div><div class="t m0 x0 h8 y16 ff5 fs4 fc0 sc0 ls0 ws0">到目前为止，<span class="_ _2"></span>我们已经处理<span class="_ _2"></span>了预测单<span class="_ _2"></span>个输出的问题<span class="_ _2"></span>：一个单词的</div><div class="t m0 x0 h7 y17 ff4 fs4 fc0 sc0 ls0 ws0">NER<span class="_ _6"> </span><span class="ff5">标签<span class="_ _2"></span>，<span class="_ _5"></span>在<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>句<span class="_ _2"></span>子<span class="_ _2"></span>中<span class="_ _2"></span>根<span class="_ _5"></span>据<span class="_ _2"></span>前<span class="_ _2"></span>面<span class="_ _2"></span>的<span class="_ _5"></span>单<span class="_ _2"></span>词<span class="_ _2"></span>来<span class="_ _2"></span>预<span class="_ _5"></span>测<span class="_ _2"></span>下<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>最<span class="_ _2"></span>可<span class="_ _2"></span>能</span></div><div class="t m0 x0 h7 y18 ff5 fs4 fc0 sc0 ls0 ws0">的单<span class="_ _2"></span>词<span class="_ _5"></span>，等<span class="_ _2"></span>等<span class="_ _2"></span>。<span class="_ _2"></span>然<span class="_ _2"></span>而<span class="_ _2"></span>有<span class="_ _2"></span>一<span class="_ _2"></span>类<span class="_ _2"></span>的<span class="_ _6"> </span><span class="ff4">NLP<span class="_ _4"> </span></span>任<span class="_ _2"></span>务<span class="_ _2"></span>是<span class="_ _2"></span>依<span class="_ _2"></span>赖<span class="_ _2"></span>序<span class="_ _2"></span>列<span class="_ _2"></span>输<span class="_ _2"></span>出<span class="_ _2"></span>的<span class="_ _2"></span>，<span class="_ _2"></span>或</div><div class="t m0 x0 h8 y19 ff5 fs4 fc0 sc0 ls0 ws0">者输出是长度<span class="_ _2"></span>变化的序列。<span class="_ _2"></span>例如：</div><div class="t m0 x0 h7 y1a ff3 fs4 fc0 sc0 ls0 ws0">•<span class="_ _b"> </span><span class="ff4">Translation<span class="_ _6"> </span><span class="ff5">：将<span class="_ _2"></span>一<span class="_ _5"></span>种语<span class="_ _2"></span>言<span class="_ _2"></span>的<span class="_ _5"></span>一个<span class="_ _5"></span>句<span class="_ _2"></span>子<span class="_ _2"></span>作<span class="_ _2"></span>为<span class="_ _2"></span>输<span class="_ _2"></span>入<span class="_ _2"></span>，<span class="_ _2"></span>然<span class="_ _5"></span>后输<span class="_ _5"></span>出</span></span></div><div class="t m0 x7 h8 y1b ff5 fs4 fc0 sc0 ls0 ws0">是另外一种语<span class="_ _2"></span>言的相同的意<span class="_ _2"></span>思的句子<span class="_ _2"></span>。</div><div class="t m0 x0 h10 y1c ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m0 x7 h7 y1d ff4 fs4 fc0 sc0 ls0 ws0">Conversation<span class="_ _4"> </span><span class="ff5">：以<span class="_ _2"></span>陈述或问题作<span class="_ _2"></span>为输入并作出<span class="_ _2"></span>回应。</span></div><div class="t m0 x0 h10 y1e ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m0 x7 h7 y1f ff4 fs4 fc0 sc0 ls0 ws0">Summarizat<span class="_ _2"></span>ion<span class="_ _4"> </span><span class="ff5">：将大量文本<span class="_ _2"></span>作为输入<span class="_ _2"></span>并输出其摘要<span class="_ _2"></span>。</span></div><div class="t m0 x0 h7 y20 ff5 fs4 fc0 sc0 ls0 ws0">在下面的<span class="_ _2"></span>部分，<span class="_ _2"></span>我们将介<span class="_ _2"></span>绍<span class="_ _4"> </span><span class="ff4">Seq2Seq<span class="_ _4"> </span></span>模<span class="_ _2"></span>型，一<span class="_ _2"></span>个用来处<span class="_ _2"></span>理上述</div><div class="t m0 x0 h8 y21 ff5 fs4 fc0 sc0 ls0 ws0">问题的深度学<span class="_ _2"></span>习框架。这个<span class="_ _2"></span>框架被证<span class="_ _2"></span>明了是非常有<span class="_ _2"></span>效的，在不到</div><div class="t m0 x0 h8 y22 ff5 fs4 fc0 sc0 ls0 ws0">三年的时间里<span class="_ _2"></span>成为了机器翻<span class="_ _2"></span>译的标准<span class="_ _2"></span>方法。</div><div class="t m0 x0 h11 y23 ff9 fs0 fc0 sc0 ls0 ws0">1.1<span class="_ _6"> </span>Brief<span class="_ _4"> </span>Note<span class="_ _6"> </span>o<span class="_ _9"></span>n<span class="_ _6"> </span>Histo<span class="_ _9"></span>rical<span class="_ _6"> </span>Approaches</div><div class="t m0 x0 h8 y24 ff5 fs4 fc0 sc0 ls0 ws0">在过去，翻译<span class="_ _2"></span>系统是基于概<span class="_ _2"></span>率模型构<span class="_ _2"></span>建的</div><div class="t m0 x0 h10 y25 ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m0 x7 h8 y26 ff5 fs4 fc0 sc0 ls0 ws0">一个<span class="_ _6"> </span>翻<span class="_ _2"></span>译<span class="_ _2"></span>模<span class="_ _2"></span>型<span class="_ _6"> </span>，告<span class="_ _2"></span>诉<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>源<span class="_ _2"></span>语<span class="_ _2"></span>言<span class="_ _2"></span>中<span class="_ _2"></span>最<span class="_ _2"></span>有<span class="_ _2"></span>可<span class="_ _2"></span>能<span class="_ _2"></span>被<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>为</div><div class="t m0 x7 h7 y27 ff5 fs4 fc0 sc0 ls0 ws0">的句子<span class="ff4">/</span>短语。</div><div class="t m0 x0 h10 y28 ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m0 x7 h7 y29 ff5 fs4 fc0 sc0 ls0 ws0">一个<span class="_ _4"> </span>语言模型<span class="_ _4"> </span>，告诉我<span class="_ _2"></span>们给定句<span class="_ _2"></span>子<span class="ff4">/</span>短语的整体可<span class="_ _2"></span>能性。</div><div class="t m0 x0 h8 y2a ff5 fs4 fc0 sc0 ls0 ws0">这些组成部分<span class="_ _2"></span>用于构建基于<span class="_ _2"></span>单词或短<span class="_ _2"></span>语的翻译系统<span class="_ _2"></span>。正如你所想</div><div class="t m0 x0 h8 y2b ff5 fs4 fc0 sc0 ls0 ws0">到的，一个简<span class="_ _2"></span>单的的基于单<span class="_ _2"></span>词的翻译<span class="_ _2"></span>系统将完全不<span class="_ _2"></span>能捕获语言之</div><div class="t m0 x0 h8 y2c ff5 fs4 fc0 sc0 ls0 ws0">间的排序差异<span class="_ _2"></span>（例如，否定<span class="_ _2"></span>词移动，<span class="_ _2"></span>句子中的主语<span class="_ _2"></span>和动词的位置</div><div class="t m0 x0 h8 y2d ff5 fs4 fc0 sc0 ls0 ws0">等）。</div><div class="t m0 x0 h7 y2e ff5 fs4 fc0 sc0 ls0 ws0">基于短语<span class="_ _2"></span>的翻译<span class="_ _2"></span>系统在<span class="_ _4"> </span><span class="ff4">Seq2Seq<span class="_ _6"> </span></span>之前是非常<span class="_ _2"></span>常见的<span class="_ _2"></span>。基于短<span class="_ _2"></span>语</div><div class="t m0 x0 h8 y2f ff5 fs4 fc0 sc0 ls0 ws0">的翻译系统可<span class="_ _2"></span>以根据短语序<span class="_ _2"></span>列考虑输<span class="_ _2"></span>入和输出，相<span class="_ _2"></span>比比基于词的</div><div class="t m0 x0 h8 y30 ff5 fs4 fc0 sc0 ls0 ws0">系统可以处理<span class="_ _2"></span>更复杂的语法<span class="_ _2"></span>。然而，<span class="_ _2"></span>在基于短语的<span class="_ _2"></span>翻译系统仍然</div><div class="t m0 x0 h8 y31 ff5 fs4 fc0 sc0 ls0 ws0">难以捕获长距<span class="_ _2"></span>离的信息。</div><div class="t m0 x0 h7 y32 ff4 fs4 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _4"> </span><span class="ff5">带<span class="_ _2"></span>来很<span class="_ _2"></span>大<span class="_ _2"></span>的优<span class="_ _2"></span>势，<span class="_ _2"></span>尤<span class="_ _2"></span>其是<span class="_ _2"></span>使用<span class="_ _6"> </span></span>LSTM<span class="ff5">，<span class="_ _2"></span>现<span class="_ _2"></span>代翻<span class="_ _2"></span>译系<span class="_ _2"></span>统</span></div><div class="t m0 x0 h8 y33 ff5 fs4 fc0 sc0 ls0 ws0">可以在观测到<span class="_ _2"></span>整个输入后生<span class="_ _2"></span>成任意的<span class="_ _2"></span>输出序列。他<span class="_ _2"></span>们甚至可以自</div><div class="t m0 x0 h8 y34 ff5 fs4 fc0 sc0 ls0 ws0">动地专注于输<span class="_ _2"></span>入的特定部分<span class="_ _2"></span>，以帮助<span class="_ _2"></span>生成有用的翻<span class="_ _2"></span>译。</div><div class="t m0 x0 h11 y35 ff9 fs0 fc0 sc0 ls0 ws0">1.2<span class="_ _6"> </span>Sequence-t<span class="_ _9"></span>o-sequence<span class="_ _6"> </span>Basics</div><div class="t m0 x0 h7 y36 ff5 fs4 fc0 sc0 ls0 ws0">序<span class="_ _2"></span>列<span class="_ _2"></span>到<span class="_ _5"></span>序<span class="_ _2"></span>列<span class="_ _2"></span>，<span class="_ _2"></span>或<span class="_ _5"></span>者<span class="_ _6"> </span><span class="ff4">Seq2Seq<span class="_ _5"></span></span>，<span class="_ _2"></span>是<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>比<span class="_ _2"></span>较<span class="_ _2"></span>新<span class="_ _2"></span>的<span class="_ _5"></span>模<span class="_ _2"></span>型<span class="_ _2"></span>，<span class="_ _5"></span>在<span class="_ _6"> </span><span class="ff4">2014</span></div><div class="t m0 x0 h7 y37 ff5 fs4 fc0 sc0 ls0 ws0">年<span class="_ _2"></span>被<span class="_ _5"></span>提<span class="_ _2"></span>出<span class="_ _2"></span>用<span class="_ _5"></span>英<span class="_ _2"></span>语<span class="_ _5"></span><span class="ff4">-<span class="_ _2"></span></span>法<span class="_ _2"></span>语<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>。<span class="_ _5"></span>在<span class="_ _2"></span>更<span class="_ _5"></span>高<span class="_ _2"></span>的<span class="_ _2"></span>层<span class="_ _5"></span>面<span class="_ _2"></span>上<span class="_ _2"></span>，<span class="_ _5"></span><span class="ff4">Seq2Seq<span class="_ _6"> </span></span>是<span class="_ _2"></span>一</div><div class="t m0 x0 h7 y38 ff5 fs4 fc0 sc0 ls0 ws0">个有两个 <span class="ff4">RNN </span>组成的端<span class="_ _2"></span>到端模型</div></div><div class="c x8 y39 w8 h12"><div class="t m0 x4 h13 y3a ff7 fs0 fc0 sc0 ls0 ws0">1<span class="_ _6"> </span>No<span class="_ _9"></span>tes<span class="_ _6"> </span>info.</div></div><div class="c x8 y3b w9 h14"><div class="t m0 x4 hd y3c ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y3b wa h14"><div class="t m0 x4 hd y3c ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P23</div></div><div class="c x8 y3d w9 h14"><div class="t m0 x4 hd y3e ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y3d wa h14"><div class="t m0 x4 hd y3e ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>17:30</div></div><div class="c x8 y3f w9 h15"><div class="t m0 x4 hd y3c ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y3f wa h15"><div class="t m0 x4 h16 y40 ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y41 w9 h14"><div class="t m0 x4 hd y3e ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y41 wa h14"><div class="t m0 x4 h16 y3e ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y42 w8 h17"><div class="t m0 xa hd y43 ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div><div class="c x8 y44 w8 h12"><div class="t m0 x4 h13 y45 ff7 fs0 fc0 sc0 ls0 ws0">1.1<span class="_ _d"> </span>Notes<span class="_ _d"> </span>info.</div></div><div class="c x8 y46 w9 h14"><div class="t m0 x4 hd y47 ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y46 wa h14"><div class="t m0 x4 hd y47 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P7</div></div><div class="c x8 y48 w9 h14"><div class="t m0 x4 hd y49 ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y48 wa h14"><div class="t m0 x4 hd y49 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>6:00</div></div><div class="c x8 y4a w9 h15"><div class="t m0 x4 hd y4b ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y4a wa h15"><div class="t m0 x4 h16 y4c ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y4d w9 h14"><div class="t m0 x4 hd y49 ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y4d wa h14"><div class="t m0 x4 h16 y49 ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y4e w8 h17"><div class="t m0 xa hd y4f ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div><div class="c x8 y50 w8 h12"><div class="t m0 x4 h13 y51 ff7 fs0 fc0 sc0 ls0 ws0">1.2<span class="_ _4"> </span>N<span class="_ _2"></span>otes<span class="_ _d"> </span>info.</div></div><div class="c x8 y52 w9 h14"><div class="t m0 x4 hd y53 ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y52 wa h14"><div class="t m0 x4 hd y53 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P24</div></div><div class="c x8 y54 w9 h14"><div class="t m0 x4 hd y55 ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y54 wa h14"><div class="t m0 x4 hd y55 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>18:00</div></div><div class="c x8 y56 w9 h15"><div class="t m0 x4 hd y53 ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y56 wa h15"><div class="t m0 x4 h16 y57 ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y58 w9 h14"><div class="t m0 x4 hd y55 ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y58 wa h14"><div class="t m0 x4 h16 y55 ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y59 w8 h17"><div class="t m0 xa hd y5a ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf3" class="pf w0 h0" data-page-no="3"><div class="pc pc3 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg3.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 wb h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">3</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h7 y5b ff3 fs4 fc0 sc0 ls0 ws0">•<span class="_ _b"> </span><span class="ff5">一<span class="_ _2"></span>个<span class="_ _6"> </span><span class="ff4">encoder<span class="_ _d"> </span></span>编<span class="_ _5"></span>码<span class="_ _2"></span>器，<span class="_ _5"></span>将<span class="_ _2"></span>模<span class="_ _2"></span>型<span class="_ _5"></span>的<span class="_ _2"></span>输入<span class="_ _5"></span>序<span class="_ _2"></span>列<span class="_ _2"></span>作<span class="_ _5"></span>为<span class="_ _2"></span>输<span class="_ _2"></span>入<span class="_ _2"></span>，<span class="_ _2"></span>然<span class="_ _5"></span>后</span></div><div class="t m0 x7 h7 y5c ff5 fs4 fc0 sc0 ls0 ws0">编码固定大小<span class="_ _2"></span>的<span class="ff4">“</span>上下文向<span class="_ _2"></span>量<span class="ff4">”</span>。</div><div class="t m0 x0 h10 y5d ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m0 x7 h7 y5e ff5 fs4 fc0 sc0 ls0 ws0">一<span class="_ _2"></span>个<span class="_ _d"> </span><span class="ff4">d<span class="_ _2"></span>ecoder<span class="_ _d"> </span></span>解<span class="_ _2"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>，<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _2"></span>来<span class="_ _5"></span>自<span class="_ _2"></span>编<span class="_ _2"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>生<span class="_ _2"></span>成<span class="_ _2"></span>的<span class="_ _2"></span>上<span class="_ _5"></span>下文<span class="_ _5"></span>向量</div><div class="t m0 x7 h7 y5f ff5 fs4 fc0 sc0 ls0 ws0">作为从其生成<span class="_ _2"></span>输出序列的<span class="_ _2"></span><span class="ff4">“</span>种子<span class="ff4">”</span>。</div><div class="t m0 x0 h7 y60 ff5 fs4 fc0 sc0 ls0 ws0">因此<span class="_ _2"></span>，<span class="_ _2"></span><span class="ff4">Seq2S<span class="_ _2"></span>eq<span class="_ _d"> </span></span>模<span class="_ _2"></span>型通<span class="_ _2"></span>常<span class="_ _5"></span>被称<span class="_ _2"></span>为<span class="_ _2"></span><span class="ff4">“<span class="_ _2"></span></span>编<span class="_ _2"></span>码器<span class="_ _5"></span><span class="ff4">-</span>解<span class="_ _2"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>模<span class="_ _2"></span>型<span class="_ _2"></span><span class="ff4">”<span class="_ _2"></span></span>。<span class="_ _2"></span>接<span class="_ _2"></span>下</div><div class="t m0 x0 h8 y61 ff5 fs4 fc0 sc0 ls0 ws0">来我们将分别<span class="_ _2"></span>讨论这两个网<span class="_ _2"></span>络的细节<span class="_ _2"></span>。</div><div class="t m0 x0 h11 y62 ff9 fs0 fc0 sc0 ls0 ws0">1.3<span class="_ _d"> </span>Seq2Seq<span class="_ _d"> </span>architecture<span class="_ _4"> </span>-<span class="_ _6"> </span>encoder</div><div class="t m0 x0 h7 y63 ff5 fs4 fc0 sc0 ls0 ws0">编码器网<span class="_ _2"></span>络的作<span class="_ _2"></span>用是读取<span class="_ _2"></span>输入<span class="_ _2"></span>序列到我<span class="_ _2"></span>们的<span class="_ _4"> </span><span class="ff4">Seq2Seq<span class="_ _d"> </span></span>模型中，</div><div class="t m0 x0 h8 y64 ff5 fs4 fc0 sc0 ls0 ws0">然<span class="_ _2"></span>后<span class="_ _5"></span>对<span class="_ _2"></span>该<span class="_ _5"></span>序<span class="_ _2"></span>列<span class="_ _2"></span>生<span class="_ _5"></span>成<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>固<span class="_ _2"></span>定<span class="_ _5"></span>维<span class="_ _2"></span>度<span class="_ _5"></span>的<span class="_ _2"></span>上<span class="_ _2"></span>下<span class="_ _5"></span>文<span class="_ _2"></span>向<span class="_ _5"></span>量</div><div class="t m0 xb h18 y65 ffb fs4 fc0 sc0 ls0 ws0">C</div><div class="t m0 xc h8 y64 ff5 fs4 fc0 sc0 ls0 ws0">。<span class="_ _2"></span>为<span class="_ _5"></span>此<span class="_ _2"></span>，<span class="_ _5"></span>编<span class="_ _2"></span>码</div><div class="t m0 x0 h7 y66 ff5 fs4 fc0 sc0 ls0 ws0">器<span class="_ _2"></span>使<span class="_ _5"></span>用<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>循<span class="_ _5"></span>环<span class="_ _2"></span>神<span class="_ _5"></span>经<span class="_ _5"></span>网<span class="_ _2"></span>络<span class="_ _5"></span>单<span class="_ _5"></span>元<span class="_ _5"></span><span class="ff4">——<span class="_ _2"></span></span>一<span class="_ _5"></span>般<span class="_ _2"></span>使<span class="_ _5"></span>用<span class="_ _7"> </span><span class="ff4">LSTM<span class="_ _2"></span>——<span class="_ _5"></span></span>每<span class="_ _2"></span>个<span class="_ _5"></span>时</div><div class="t m0 x0 h8 y67 ff5 fs4 fc0 sc0 ls0 ws0">间<span class="_ _2"></span>步<span class="_ _5"></span>读<span class="_ _2"></span>取<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>输<span class="_ _5"></span>入<span class="_ _2"></span>单<span class="_ _5"></span>词<span class="_ _2"></span>。<span class="_ _2"></span>单<span class="_ _5"></span>元<span class="_ _2"></span>的<span class="_ _5"></span>最<span class="_ _2"></span>终<span class="_ _2"></span>隐<span class="_ _5"></span>藏<span class="_ _2"></span>状<span class="_ _5"></span>态<span class="_ _2"></span>就<span class="_ _5"></span>是</div><div class="t m0 xd h18 y68 ffb fs4 fc0 sc0 ls0 ws0">C</div><div class="t m0 xe h8 y67 ff5 fs4 fc0 sc0 ls0 ws0">。<span class="_ _2"></span>然<span class="_ _5"></span>而<span class="_ _2"></span>，</div><div class="t m0 x0 h8 y69 ff5 fs4 fc0 sc0 ls0 ws0">因为将一个任<span class="_ _2"></span>意长度序列压<span class="_ _2"></span>缩到一个<span class="_ _2"></span>单一固定大小<span class="_ _2"></span>的向量是很困</div><div class="t m0 x0 h8 y6a ff5 fs4 fc0 sc0 ls0 ws0">难<span class="_ _2"></span>的<span class="_ _5"></span>（<span class="_ _5"></span>特<span class="_ _2"></span>别<span class="_ _5"></span>是<span class="_ _2"></span>像<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _5"></span>这<span class="_ _5"></span>样<span class="_ _2"></span>的<span class="_ _2"></span>困<span class="_ _5"></span>难<span class="_ _5"></span>任<span class="_ _2"></span>务<span class="_ _5"></span>）<span class="_ _5"></span>，<span class="_ _2"></span>编<span class="_ _2"></span>码<span class="_ _5"></span>器<span class="_ _5"></span>通<span class="_ _2"></span>常<span class="_ _5"></span>由<span class="_ _5"></span>堆<span class="_ _2"></span>叠<span class="_ _2"></span>的</div><div class="t m0 x0 h7 y6b ff4 fs4 fc0 sc0 ls0 ws0">LSTM<span class="_ _d"> </span><span class="ff5">组<span class="_ _2"></span>成<span class="_ _2"></span>：<span class="_ _2"></span>一<span class="_ _2"></span>系<span class="_ _5"></span>列<span class="_ _4"> </span></span>L<span class="_ _2"></span>STM“<span class="_ _2"></span><span class="ff5">层<span class="_ _5"></span></span>”<span class="ff5">，<span class="_ _2"></span>其<span class="_ _2"></span>中<span class="_ _5"></span>每层<span class="_ _5"></span>的输<span class="_ _5"></span>出是<span class="_ _2"></span>下<span class="_ _2"></span>一<span class="_ _5"></span>层的</span></div><div class="t m0 x0 h7 y6c ff5 fs4 fc0 sc0 ls0 ws0">输入序列。<span class="_ _2"></span><span class="ff4">LSTM<span class="_ _4"> </span></span>最后一层的最<span class="_ _2"></span>终隐藏状<span class="_ _2"></span>态就是</div><div class="t m0 xf h18 y6d ffb fs4 fc0 sc0 ls0 ws0">C</div><div class="t m0 x10 h8 y6c ff5 fs4 fc0 sc0 ls0 ws0">。</div><div class="t m0 x0 h7 y6e ff4 fs4 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _d"> </span><span class="ff5">编<span class="_ _2"></span>码器<span class="_ _2"></span>通<span class="_ _2"></span>常会<span class="_ _2"></span>做<span class="_ _2"></span>一<span class="_ _2"></span>些奇<span class="_ _2"></span>怪<span class="_ _2"></span>的事<span class="_ _2"></span>情<span class="_ _2"></span>：<span class="_ _2"></span>它们<span class="_ _2"></span>将<span class="_ _2"></span>反<span class="_ _2"></span>向处<span class="_ _2"></span>理<span class="_ _2"></span>输</span></div><div class="t m0 x0 h8 y6f ff5 fs4 fc0 sc0 ls0 ws0">入序列。实际<span class="_ _2"></span>上这么处理是<span class="_ _2"></span>有目的的<span class="_ _2"></span>。通过这样做<span class="_ _2"></span>，编码器看到</div><div class="t m0 x0 h8 y70 ff5 fs4 fc0 sc0 ls0 ws0">的最后的信息<span class="_ _2"></span>（粗略地）对<span class="_ _2"></span>应于模型<span class="_ _2"></span>输出的开始信<span class="_ _2"></span>息；这使得解</div><div class="t m0 x0 h7 y71 ff5 fs4 fc0 sc0 ls0 ws0">码<span class="_ _2"></span>器<span class="_ _2"></span>更<span class="_ _2"></span>容<span class="_ _2"></span>易<span class="_ _5"></span>在<span class="_ _2"></span>输<span class="_ _2"></span>出<span class="_ _2"></span>上<span class="_ _2"></span><span class="ff4">“<span class="_ _5"></span></span>开<span class="_ _2"></span>始<span class="ff4">”<span class="_ _5"></span></span>，<span class="_ _2"></span>同<span class="_ _2"></span>时<span class="_ _2"></span>解<span class="_ _2"></span>码<span class="_ _5"></span>器<span class="_ _2"></span>也<span class="_ _2"></span>更<span class="_ _2"></span>容<span class="_ _2"></span>易<span class="_ _5"></span>地产<span class="_ _5"></span>生<span class="_ _2"></span>适<span class="_ _2"></span>当</div><div class="t m0 x0 h8 y72 ff5 fs4 fc0 sc0 ls0 ws0">的输出句子。<span class="_ _2"></span>在翻译的环境<span class="_ _2"></span>中，我们<span class="_ _2"></span>允许网络在看<span class="_ _2"></span>到输入的前几</div><div class="t m0 x0 h8 y73 ff5 fs4 fc0 sc0 ls0 ws0">个单词时就进<span class="_ _2"></span>行翻译；一旦<span class="_ _2"></span>前几个单<span class="_ _2"></span>词被正确地翻<span class="_ _2"></span>译，构建一个</div><div class="t m0 x0 h8 y74 ff5 fs4 fc0 sc0 ls0 ws0">正确的句子比<span class="_ _2"></span>从头开始更加<span class="_ _2"></span>容易。</div><div class="t m0 x0 h7 y75 ff5 fs4 fc0 sc0 ls0 ws0">右图是一个<span class="_ _2"></span>展示编<span class="_ _2"></span>码器的例子<span class="_ _2"></span>，这个<span class="_ _2"></span>例子是翻<span class="_ _2"></span>译英语<span class="_ _2"></span>句子<span class="ff4">“what</span></div><div class="t m0 x0 h7 y76 ff4 fs4 fc0 sc0 ls0 ws0">is<span class="_ _d"> </span>your<span class="_ _6"> </span>name?<span class="_ _2"></span>”<span class="_ _2"></span><span class="ff5">注<span class="_ _5"></span>意<span class="_ _5"></span>这<span class="_ _5"></span>里<span class="_ _2"></span>是<span class="_ _5"></span>反<span class="_ _5"></span>向<span class="_ _5"></span>读<span class="_ _2"></span>取<span class="_ _5"></span>输<span class="_ _5"></span>入<span class="_ _5"></span>单<span class="_ _2"></span>词<span class="_ _5"></span>的<span class="_ _5"></span>。<span class="_ _5"></span>注<span class="_ _5"></span>意<span class="_ _2"></span>网<span class="_ _5"></span>络<span class="_ _5"></span>是</span></div><div class="t m0 x0 h8 y77 ff5 fs4 fc0 sc0 ls0 ws0">展开的，每一<span class="_ _2"></span>列是一个时间<span class="_ _2"></span>步和每一<span class="_ _2"></span>行是单一层，<span class="_ _2"></span>所以水平箭头</div><div class="t m0 x0 h7 y78 ff5 fs4 fc0 sc0 ls0 ws0">是对应隐藏状<span class="_ _2"></span>态和垂直箭头<span class="_ _2"></span>是<span class="_ _4"> </span><span class="ff4">LSTM<span class="_ _4"> </span></span>的输入<span class="ff4">/</span>输出<span class="_ _2"></span>。</div><div class="t m0 x0 h11 y79 ff9 fs0 fc0 sc0 ls0 ws0">1.4<span class="_ _4"> </span>Seq2Seq<span class="_ _6"> </span>architecture<span class="_ _d"> </span>-<span class="_ _d"> </span>decoder</div><div class="t m0 x0 h7 y7a ff5 fs4 fc0 sc0 ls0 ws0">解<span class="_ _2"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>也<span class="_ _2"></span>是<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _6"> </span><span class="ff4">LSTM<span class="_ _d"> </span></span>网<span class="_ _5"></span>络<span class="_ _2"></span>，但<span class="_ _5"></span>是<span class="_ _2"></span>它<span class="_ _2"></span>的<span class="_ _5"></span>使<span class="_ _2"></span>用比<span class="_ _5"></span>编<span class="_ _2"></span>码<span class="_ _2"></span>器<span class="_ _5"></span>网<span class="_ _2"></span>络略<span class="_ _5"></span>微</div><div class="t m0 x0 h7 y7b ff5 fs4 fc0 sc0 ls0 ws0">复杂<span class="_ _2"></span>。<span class="_ _2"></span>从<span class="_ _2"></span>本质<span class="_ _2"></span>上讲<span class="_ _2"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们希<span class="_ _2"></span>望<span class="_ _2"></span>它<span class="_ _2"></span>能作<span class="_ _2"></span>为<span class="_ _2"></span>一<span class="_ _2"></span>个语<span class="_ _2"></span>言模<span class="_ _2"></span>型<span class="_ _2"></span>，<span class="_ _2"></span>可以<span class="_ _2"></span><span class="ff4">“<span class="_ _2"></span></span>知</div><div class="t m0 x0 h7 y7c ff5 fs4 fc0 sc0 ls0 ws0">道<span class="_ _5"></span><span class="ff4">”<span class="_ _5"></span></span>到<span class="_ _5"></span>目<span class="_ _5"></span>前<span class="_ _5"></span>为<span class="_ _5"></span>止<span class="_ _5"></span>生<span class="_ _5"></span>成<span class="_ _5"></span>的<span class="_ _5"></span>单<span class="_ _5"></span>词<span class="_ _5"></span>和<span class="_ _2"></span>输<span class="_ _5"></span>入<span class="_ _5"></span>。<span class="_ _5"></span>为<span class="_ _e"></span>此<span class="_ _5"></span>，<span class="_ _5"></span>我<span class="_ _5"></span>们<span class="_ _5"></span>将<span class="_ _5"></span>编<span class="_ _5"></span>码<span class="_ _5"></span>器<span class="_ _5"></span>保<span class="_ _5"></span>持</div><div class="t m0 x0 h7 y7d ff4 fs4 fc0 sc0 ls0 ws0">“<span class="ff5">堆<span class="_ _2"></span>叠<span class="_ _2"></span></span>”<span class="ff5">的<span class="_ _d"> </span></span>L<span class="_ _2"></span>STM<span class="_ _4"> </span><span class="ff5">架<span class="_ _2"></span>构<span class="_ _2"></span>，但<span class="_ _2"></span>是<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>将使<span class="_ _2"></span>用<span class="_ _2"></span>编<span class="_ _2"></span>码器<span class="_ _2"></span>生<span class="_ _2"></span>成<span class="_ _2"></span>的<span class="_ _2"></span>上下<span class="_ _2"></span>文<span class="_ _2"></span>向</span></div><div class="t m0 x0 h8 y7e ff5 fs4 fc0 sc0 ls0 ws0">量来初始化第<span class="_ _2"></span>一层的隐藏层<span class="_ _2"></span>；然后编<span class="_ _2"></span>码器将使用输<span class="_ _2"></span>入的上下文向</div><div class="t m0 x0 h8 y7f ff5 fs4 fc0 sc0 ls0 ws0">量来逐词地生<span class="_ _2"></span>成输出。</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 y80 ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _f"> </span>1:<span class="_ _10"> </span>Exampl<span class="_ _2"></span>e<span class="_ _10"> </span>of<span class="_ _10"> </span>a</span></div><div class="t m0 x12 h1a y81 ffd fs1 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _11"> </span>encoder<span class="_ _11"> </span>network.<span class="_ _11"> </span>This</div><div class="t m0 x12 h1a y82 ffd fs1 fc0 sc0 ls0 ws0">model<span class="_ _12"> </span>may<span class="_ _12"> </span>be<span class="_ _12"> </span>used<span class="_ _12"> </span>to<span class="_ _12"> </span>trans<span class="_ _2"></span>late<span class="_ _12"> </span>the</div><div class="t m0 x12 h1a y83 ffd fs1 fc0 sc0 ls0 ws0">English<span class="_ _13"> </span>sentence<span class="_ _13"> </span>&quot;w<span class="_ _2"></span>hat<span class="_ _13"> </span>is<span class="_ _13"> </span>your</div><div class="t m0 x12 h1a y84 ffd fs1 fc0 sc0 ls0 ws0">name?&quot;<span class="_ _14"> </span>Note<span class="_ _14"> </span>that<span class="_ _14"> </span>the<span class="_ _14"> </span>input<span class="_ _14"> </span>tokens</div><div class="t m0 x12 h1a y85 ffd fs1 fc0 sc0 ls0 ws0">are<span class="_ _15"> </span>read<span class="_ _15"> </span>in<span class="_ _14"> </span>revers<span class="_ _2"></span>e.<span class="_ _15"> </span>Note<span class="_ _15"> </span>that<span class="_ _15"> </span>the</div><div class="t m0 x12 h1a y86 ffd fs1 fc0 sc0 ls0 ws0">network<span class="_ _7"> </span>is<span class="_ _7"> </span>unroll<span class="_ _2"></span>ed;<span class="_ _7"> </span>each<span class="_ _7"> </span>colum<span class="_ _2"></span>n<span class="_ _6"> </span>i<span class="_ _2"></span>s<span class="_ _7"> </span>a</div><div class="t m0 x12 h1a y87 ffd fs1 fc0 sc0 ls0 ws0">timest<span class="_ _2"></span>ep<span class="_ _16"> </span>and<span class="_ _17"> </span>each<span class="_ _17"> </span>row<span class="_ _16"> </span>is<span class="_ _17"> </span>a<span class="_ _16"> </span>s<span class="_ _2"></span>ingle</div><div class="t m0 x12 h1a y88 ffd fs1 fc0 sc0 ls0 ws0">layer,<span class="_ _18"> </span>so<span class="_ _18"> </span>th<span class="_ _9"></span>at<span class="_ _18"> </span>horizontal<span class="_ _18"> </span>arrows</div><div class="t m0 x12 h1a y89 ffd fs1 fc0 sc0 ls0 ws0">corresp<span class="_ _2"></span>ond<span class="_ _19"> </span>to<span class="_ _19"> </span>hidden<span class="_ _1a"> </span>states<span class="_ _19"> </span>and</div><div class="t m0 x12 h1a y8a ffd fs1 fc0 sc0 ls0 ws0">vertical<span class="_ _b"> </span>arrows<span class="_ _1b"> </span>are<span class="_ _1b"> </span>LST<span class="_ _2"></span>M</div><div class="t m0 x12 h1a y8b ffd fs1 fc0 sc0 ls0 ws0">inputs/outputs<span class="_ _2"></span>.<span class="_ _0"> </span><span class="ffa">【<span class="_ _0"> </span>图<span class="_ _8"> </span></span>1:Se<span class="_ _2"></span>q2Seq</div><div class="t m0 x12 h1b y8c ffa fs1 fc0 sc0 ls0 ws0">编<span class="_ _5"></span>码<span class="_ _5"></span>器<span class="_ _5"></span>网<span class="_ _5"></span>络<span class="_ _5"></span>示<span class="_ _5"></span>例<span class="_ _5"></span>。<span class="_ _2"></span>此<span class="_ _5"></span>模<span class="_ _5"></span>型<span class="_ _5"></span>可<span class="_ _5"></span>用<span class="_ _5"></span>于<span class="_ _5"></span>翻</div><div class="t m0 x12 h1a y8d ffa fs1 fc0 sc0 ls0 ws0">译<span class="_ _16"> </span>英<span class="_ _17"> </span>语<span class="_ _16"> </span>句<span class="_ _17"> </span>子<span class="_ _17"> </span>“<span class="_ _16"> </span><span class="ffd">w<span class="_ _2"></span>hat<span class="_ _1c"> </span>is<span class="_ _1c"> </span>your</span></div><div class="t m0 x12 h1a y8e ffd fs1 fc0 sc0 ls0 ws0">name<span class="_ _5"></span><span class="ffa">？<span class="_ _2"></span>”<span class="_ _5"></span>。<span class="_ _5"></span>请<span class="_ _2"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>，<span class="_ _5"></span>输<span class="_ _5"></span>入<span class="_ _2"></span>标<span class="_ _5"></span>记<span class="_ _5"></span>是<span class="_ _2"></span>反</span></div><div class="t m0 x12 h1b y8f ffa fs1 fc0 sc0 ls0 ws0">向<span class="_ _5"></span>读<span class="_ _5"></span>取<span class="_ _5"></span>的<span class="_ _5"></span>。<span class="_ _5"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>网<span class="_ _2"></span>络<span class="_ _5"></span>是<span class="_ _5"></span>展<span class="_ _5"></span>开<span class="_ _5"></span>的<span class="_ _5"></span>；<span class="_ _5"></span>每</div><div class="t m0 x12 h1b y90 ffa fs1 fc0 sc0 ls0 ws0">列<span class="_ _c"> </span>是<span class="_ _e"></span>一<span class="_ _c"> </span>个<span class="_ _1d"> </span>时<span class="_ _1d"> </span>间<span class="_ _1d"> </span>步<span class="_ _c"> </span>，<span class="_ _1d"> </span>每<span class="_ _1d"> </span>行<span class="_ _c"> </span>是<span class="_ _1d"> </span>一<span class="_ _1d"> </span>个<span class="_ _c"> </span>单</div><div class="t m0 x12 h1b y91 ffa fs1 fc0 sc0 ls0 ws0">层<span class="_ _1d"> </span>，<span class="_ _1d"> </span>因<span class="_ _c"> </span>此<span class="_ _1d"> </span>水<span class="_ _1d"> </span>平<span class="_ _c"> </span>箭<span class="_ _1d"> </span>头<span class="_ _1d"> </span>对<span class="_ _c"> </span>应<span class="_ _1d"> </span>于<span class="_ _1d"> </span>隐<span class="_ _c"> </span>藏<span class="_ _1d"> </span>状</div><div class="t m0 x12 h1a y92 ffa fs1 fc0 sc0 ls0 ws0">态<span class="_ _5"></span>，<span class="_ _e"></span>垂<span class="_ _5"></span>直<span class="_ _e"></span>箭<span class="_ _5"></span>头<span class="_ _5"></span>是<span class="_ _16"> </span><span class="ffd">LST<span class="_ _2"></span>M<span class="_ _4"> </span></span>输<span class="_ _5"></span>入<span class="_ _e"></span><span class="ffd">/<span class="_ _5"></span></span>输</div><div class="t m0 x12 h1b y93 ffa fs1 fc0 sc0 ls0 ws0">出。】</div></div><div class="c x8 y94 w8 h12"><div class="t m0 x4 h13 y95 ff7 fs0 fc0 sc0 ls0 ws0">1.4 Notes<span class="_ _4"> </span>i<span class="_ _2"></span>nfo.</div></div><div class="c x8 y96 w9 h14"><div class="t m0 x4 hd y97 ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y96 wa h14"><div class="t m0 x4 hd y97 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P28</div></div><div class="c x8 y98 w9 h14"><div class="t m0 x4 hd y99 ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y98 wa h14"><div class="t m0 x4 hd y99 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>31:20</div></div><div class="c x8 y9a w9 h15"><div class="t m0 x4 hd y97 ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y9a wa h15"><div class="t m0 x4 h16 y97 ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y9b w9 h14"><div class="t m0 x4 hd y99 ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y9b wa h14"><div class="t m0 x4 h16 y9c ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y9d w8 h17"><div class="t m0 xa hd y99 ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf4" class="pf w0 h0" data-page-no="4"><div class="pc pc4 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg4.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 wd h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">4</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h8 y5b ff5 fs4 fc0 sc0 ls0 ws0">一旦编码器使<span class="_ _2"></span>用其上下文向<span class="_ _2"></span>量设置好<span class="_ _2"></span>，我们将传入<span class="_ _2"></span>一个特殊的字</div><div class="t m0 x0 h8 y5c ff5 fs4 fc0 sc0 ls0 ws0">符来表示生成<span class="_ _2"></span>输出的开始。<span class="_ _2"></span>在文献中<span class="_ _2"></span>，一般是附加<span class="_ _2"></span>到输入结尾的</div><div class="t m0 x0 h18 y9e ffb fs4 fc0 sc0 ls0 ws0">&lt;EOS&gt;</div><div class="t m0 x13 h8 y9f ff5 fs4 fc0 sc0 ls0 ws0">标记<span class="_ _5"></span>（在<span class="_ _2"></span>输<span class="_ _5"></span>出的<span class="_ _5"></span>结尾<span class="_ _2"></span>也<span class="_ _2"></span>有<span class="_ _2"></span>这<span class="_ _2"></span>样<span class="_ _2"></span>的<span class="_ _2"></span>标<span class="_ _2"></span>记<span class="_ _5"></span>，表<span class="_ _2"></span>示<span class="_ _2"></span>生<span class="_ _2"></span>成<span class="_ _5"></span>输出<span class="_ _2"></span>完</div><div class="t m0 x0 h8 ya0 ff5 fs4 fc0 sc0 ls0 ws0">成<span class="_ _2"></span>）<span class="_ _5"></span>。<span class="_ _5"></span>然<span class="_ _2"></span>后<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _5"></span>第<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _5"></span>时<span class="_ _2"></span>间<span class="_ _2"></span>步<span class="_ _5"></span>将<span class="_ _5"></span>一<span class="_ _2"></span>层<span class="_ _5"></span>接<span class="_ _5"></span>一<span class="_ _2"></span>层<span class="_ _2"></span>地<span class="_ _5"></span>运<span class="_ _5"></span>行<span class="_ _2"></span>这<span class="_ _5"></span>个<span class="_ _5"></span>三<span class="_ _2"></span>层<span class="_ _2"></span>的</div><div class="t m0 x0 h7 ya1 ff4 fs4 fc0 sc0 ls0 ws0">LSTM<span class="_ _5"></span><span class="ff5">，<span class="_ _2"></span>将<span class="_ _5"></span>最<span class="_ _2"></span>后<span class="_ _5"></span>一<span class="_ _2"></span>层<span class="_ _5"></span>的<span class="_ _5"></span>输<span class="_ _2"></span>出<span class="_ _5"></span>放<span class="_ _2"></span>到<span class="_ _7"> </span></span>softmax<span class="_ _6"> </span><span class="ff5">函<span class="_ _5"></span>数<span class="_ _2"></span>中<span class="_ _5"></span>生<span class="_ _2"></span>成<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>输<span class="_ _5"></span>出</span></div><div class="t m0 x0 h8 ya2 ff5 fs4 fc0 sc0 ls0 ws0">单词。然后我<span class="_ _2"></span>们把这个词传<span class="_ _2"></span>递到下一<span class="_ _2"></span>个时间步的第<span class="_ _2"></span>一层，重复上</div><div class="t m0 x0 h7 ya3 ff5 fs4 fc0 sc0 ls0 ws0">述<span class="_ _2"></span>的<span class="_ _2"></span>流<span class="_ _2"></span>程<span class="_ _2"></span>生<span class="_ _5"></span>成<span class="_ _2"></span>输<span class="_ _2"></span>出<span class="_ _5"></span>单词<span class="_ _2"></span>。<span class="_ _5"></span>这<span class="_ _2"></span>就<span class="_ _2"></span>是<span class="_ _5"></span>我们<span class="_ _2"></span>如<span class="_ _5"></span>何<span class="_ _2"></span>使<span class="_ _6"> </span><span class="ff4">LSTM<span class="_ _d"> </span></span>像<span class="_ _5"></span>语<span class="_ _2"></span>言模<span class="_ _5"></span>型</div><div class="t m0 x0 h8 ya4 ff5 fs4 fc0 sc0 ls0 ws0">一样起作用。</div><div class="t m0 x0 h7 ya5 ff5 fs4 fc0 sc0 ls0 ws0">右<span class="_ _e"></span>图<span class="_ _e"></span>是<span class="_ _e"></span>一<span class="_ _1d"></span>个<span class="_ _e"></span>展<span class="_ _e"></span>示<span class="_ _e"></span>解<span class="_ _e"></span>码<span class="_ _1d"></span>器<span class="_ _e"></span>的<span class="_ _e"></span>例<span class="_ _e"></span>子<span class="_ _e"></span>。<span class="_ _e"></span>该<span class="_ _e"></span>解<span class="_ _e"></span>码<span class="_ _1d"> </span>器<span class="_ _e"></span>正<span class="_ _e"></span>在<span class="_ _e"></span>解<span class="_ _e"></span>码<span class="_ _e"></span><span class="ff4">“<span class="_ _2"></span>what<span class="_ _7"> </span>is</span></div><div class="t m0 x0 h7 ya6 ff4 fs4 fc0 sc0 ls0 ws0">your<span class="_ _d"> </span>name?<span class="_ _2"></span>”<span class="_ _5"></span><span class="ff5">的<span class="_ _2"></span>上<span class="_ _5"></span>下<span class="_ _5"></span>文<span class="_ _2"></span>向<span class="_ _5"></span>量<span class="_ _5"></span>。<span class="_ _5"></span>注<span class="_ _2"></span>意<span class="_ _5"></span>在<span class="_ _5"></span>生<span class="_ _5"></span>成<span class="_ _2"></span>的<span class="_ _5"></span>开<span class="_ _2"></span>始<span class="_ _5"></span>使<span class="_ _5"></span>用<span class="_ _5"></span>了<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _5"></span>特</span></div><div class="t m0 x0 h7 y8 ff5 fs4 fc0 sc0 ls0 ws0">殊的符<span class="_ _2"></span>号<span class="ff4">“GO”<span class="_ _2"></span></span>，而<span class="_ _2"></span>且解<span class="_ _2"></span>码的生成<span class="_ _2"></span>是按<span class="_ _2"></span>照正常<span class="_ _2"></span>的句<span class="_ _2"></span>子顺<span class="_ _2"></span>序，而不</div><div class="t m0 x0 h8 y9 ff5 fs4 fc0 sc0 ls0 ws0">是反向读取的<span class="_ _2"></span>输入。注意输<span class="_ _2"></span>入和输出<span class="_ _2"></span>长度不需要相<span class="_ _2"></span>同。</div><div class="t m0 x0 h8 ya7 ff5 fs4 fc0 sc0 ls0 ws0">一<span class="_ _2"></span>旦<span class="_ _5"></span>我<span class="_ _5"></span>们<span class="_ _2"></span>有<span class="_ _5"></span>了<span class="_ _2"></span>输<span class="_ _5"></span>出<span class="_ _2"></span>序<span class="_ _5"></span>列<span class="_ _5"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _5"></span>就<span class="_ _5"></span>像<span class="_ _2"></span>往<span class="_ _5"></span>常<span class="_ _5"></span>一<span class="_ _2"></span>样<span class="_ _2"></span>使<span class="_ _5"></span>用<span class="_ _5"></span>相<span class="_ _2"></span>同<span class="_ _5"></span>的<span class="_ _5"></span>学<span class="_ _2"></span>习<span class="_ _2"></span>策</div><div class="t m0 x0 h8 ya8 ff5 fs4 fc0 sc0 ls0 ws0">略。我们对预<span class="_ _2"></span>测序列定义一<span class="_ _2"></span>个交叉熵<span class="_ _2"></span>损失函数，然<span class="_ _2"></span>后用梯度下降</div><div class="t m0 x0 h8 ya9 ff5 fs4 fc0 sc0 ls0 ws0">算法和反向传<span class="_ _2"></span>播算法来最小<span class="_ _2"></span>化损失函<span class="_ _2"></span>数。同时对编<span class="_ _2"></span>码器和解码器</div><div class="t m0 x0 h8 yaa ff5 fs4 fc0 sc0 ls0 ws0">进行训练，使<span class="_ _2"></span>得它们都学习<span class="_ _2"></span>到相同的<span class="_ _2"></span>上下文向量表<span class="_ _2"></span>示。</div><div class="t m0 x0 h11 yab ff9 fs0 fc0 sc0 ls0 ws0">1.5<span class="_ _4"> </span>R<span class="_ _2"></span>ecap<span class="_ _d"> </span>&amp;<span class="_ _d"> </span>Basic<span class="_ _d"> </span>NMT<span class="_ _d"> </span>Example</div><div class="t m0 x0 h8 yac ff5 fs4 fc0 sc0 ls0 ws0">注意输入和输<span class="_ _2"></span>出的长度之间<span class="_ _2"></span>是没有任<span class="_ _2"></span>何联系的；模<span class="_ _2"></span>型的输入句子</div><div class="t m0 x0 h8 yad ff5 fs4 fc0 sc0 ls0 ws0">可以是任意长<span class="_ _2"></span>度的，模型的<span class="_ _2"></span>输出句子<span class="_ _2"></span>可以是任意长<span class="_ _2"></span>度的。然而，</div><div class="t m0 x0 h7 yae ff5 fs4 fc0 sc0 ls0 ws0">已经知道<span class="_ _4"> </span><span class="ff4">Seq<span class="_ _2"></span>2Seq<span class="_ _4"> </span></span>模型在<span class="_ _2"></span>输入<span class="_ _2"></span>句子很长<span class="_ _2"></span>的情况<span class="_ _2"></span>下效果会<span class="_ _2"></span>变得很</div><div class="t m0 x0 h7 yaf ff5 fs4 fc0 sc0 ls0 ws0">差，<span class="ff4">LSTM<span class="_ _4"> </span></span>在实<span class="_ _2"></span>际使用中有一<span class="_ _2"></span>系列的限<span class="_ _2"></span>制。</div><div class="t m0 x0 h7 yb0 ff5 fs4 fc0 sc0 ls0 ws0">让<span class="_ _c"> </span>我<span class="_ _c"> </span>们<span class="_ _c"> </span>回<span class="_ _c"> </span>顾<span class="_ _c"> </span>一<span class="_ _c"> </span>下<span class="_ _17"> </span><span class="ff4">Seq2<span class="_ _2"></span>Seq<span class="_ _12"> </span></span>模<span class="_ _c"> </span>型<span class="_ _c"> </span>为<span class="_ _c"> </span>了<span class="_ _c"> </span>将<span class="_ _c"> </span>英<span class="_ _c"> </span>语<span class="_ _1"> </span><span class="ff4">“what<span class="_ _12"> </span>is<span class="_ _12"> </span>your</span></div><div class="t m0 x0 h7 yb1 ff4 fs4 fc0 sc0 ls0 ws0">name?”<span class="ff5">翻<span class="_ _2"></span>译为<span class="_ _2"></span>法语<span class="_ _2"></span></span>“comm<span class="_ _2"></span>ent<span class="_ _4"> </span>t’appel<span class="_ _2"></span>les<span class="_ _4"> </span>tu”<span class="ff5">的例<span class="_ _2"></span>子。<span class="_ _2"></span>首<span class="_ _2"></span>先，</span></div><div class="t m0 x0 h7 yb2 ff5 fs4 fc0 sc0 ls0 ws0">我<span class="_ _2"></span>们<span class="_ _2"></span>从<span class="_ _2"></span>四<span class="_ _2"></span>个<span class="_ _6"> </span><span class="ff4">on<span class="_ _2"></span>e-hot<span class="_ _d"> </span></span>向<span class="_ _2"></span>量<span class="_ _5"></span>输入<span class="_ _5"></span>开<span class="_ _2"></span>始<span class="_ _2"></span>。<span class="_ _2"></span>这<span class="_ _2"></span>些<span class="_ _2"></span>输<span class="_ _5"></span>入<span class="_ _2"></span>需<span class="_ _2"></span>要<span class="_ _2"></span>或<span class="_ _2"></span>者<span class="_ _5"></span>不<span class="_ _2"></span>需<span class="_ _2"></span>要</div><div class="t m0 x0 h8 yb3 ff5 fs4 fc0 sc0 ls0 ws0">（对翻译任务<span class="_ _2"></span>，一般需要）<span class="_ _2"></span>用一个稠<span class="_ _2"></span>密的词向量表<span class="_ _2"></span>示。然后，一</div><div class="t m0 x0 h7 yb4 ff5 fs4 fc0 sc0 ls0 ws0">个<span class="_ _5"></span>层<span class="_ _e"></span>叠<span class="_ _0"> </span><span class="ff4">LSTM<span class="_ _7"> </span></span>反<span class="_ _e"></span>向<span class="_ _5"></span>读<span class="_ _e"></span>取<span class="_ _5"></span>输<span class="_ _e"></span>入<span class="_ _5"></span>序<span class="_ _e"></span>列<span class="_ _5"></span>，<span class="_ _e"></span>将<span class="_ _5"></span>其<span class="_ _e"></span>编<span class="_ _5"></span>码<span class="_ _e"></span>为<span class="_ _5"></span>一<span class="_ _e"></span>个<span class="_ _5"></span>上<span class="_ _e"></span>下<span class="_ _5"></span>文<span class="_ _e"></span>向</div><div class="t m0 x0 h7 yb5 ff5 fs4 fc0 sc0 ls0 ws0">量。<span class="_ _2"></span>这<span class="_ _2"></span>个<span class="_ _2"></span>上下<span class="_ _2"></span>文向<span class="_ _2"></span>量<span class="_ _2"></span>是<span class="_ _2"></span>一个<span class="_ _2"></span>向<span class="_ _2"></span>量<span class="_ _2"></span>空间<span class="_ _2"></span>表<span class="_ _2"></span>示<span class="_ _2"></span>，表<span class="_ _2"></span>示<span class="ff4">“<span class="_ _2"></span></span>询<span class="_ _2"></span>问某<span class="_ _2"></span>人<span class="_ _2"></span>他们</div><div class="t m0 x0 h7 yb6 ff5 fs4 fc0 sc0 ls0 ws0">的名<span class="_ _2"></span>字<span class="_ _2"></span><span class="ff4">”</span>（<span class="_ _2"></span>输入<span class="_ _2"></span>的<span class="_ _2"></span>英<span class="_ _2"></span>文<span class="_ _2"></span>句子<span class="_ _2"></span>）<span class="_ _2"></span>的意<span class="_ _2"></span>思<span class="_ _2"></span>。我<span class="_ _2"></span>们<span class="_ _2"></span>运行<span class="_ _2"></span>这<span class="_ _2"></span>个<span class="_ _2"></span>网<span class="_ _2"></span>络的<span class="_ _2"></span>每一</div><div class="t m0 x0 h7 yb7 ff5 fs4 fc0 sc0 ls0 ws0">层<span class="_ _2"></span>的<span class="_ _2"></span>每<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>时<span class="_ _2"></span>间<span class="_ _5"></span>步<span class="_ _2"></span>，<span class="_ _2"></span>对<span class="_ _2"></span>最<span class="_ _5"></span>后<span class="_ _2"></span>一<span class="_ _2"></span>层<span class="_ _2"></span>的<span class="_ _5"></span>输<span class="_ _2"></span>出<span class="_ _2"></span>放<span class="_ _5"></span>到<span class="_ _d"> </span><span class="ff4">softma<span class="_ _2"></span>x<span class="_ _d"> </span></span>函<span class="_ _2"></span>数<span class="_ _5"></span>中<span class="_ _2"></span>计</div><div class="t m0 x0 h8 yb8 ff5 fs4 fc0 sc0 ls0 ws0">算，并生成我<span class="_ _2"></span>们第一个输出<span class="_ _2"></span>单词。这<span class="_ _2"></span>个单词作为网<span class="_ _2"></span>络下一个时间</div><div class="t m0 x0 h7 yb9 ff5 fs4 fc0 sc0 ls0 ws0">步<span class="_ _e"></span>的<span class="_ _1d"> </span>输<span class="_ _e"></span>入<span class="_ _1d"> </span>，<span class="_ _e"></span>并<span class="_ _1d"> </span>且<span class="_ _1d"></span>以<span class="_ _e"></span>这<span class="_ _1d"></span>种<span class="_ _e"></span>方<span class="_ _e"></span>式<span class="_ _1d"> </span>解<span class="_ _1d"></span>码<span class="_ _e"></span>句<span class="_ _1d"> </span>子<span class="_ _e"></span><span class="ff4">“com<span class="_ _2"></span>ment<span class="_ _0"> </span>t’appelles</span></div><div class="t m0 x0 h7 yba ff4 fs4 fc0 sc0 ls0 ws0">tu”<span class="ff5">的剩余<span class="_ _2"></span>部分。在<span class="_ _2"></span>反向<span class="_ _2"></span>传播期<span class="_ _2"></span>间，编码<span class="_ _2"></span>器的<span class="_ _4"> </span></span>LSTM<span class="_ _d"> </span><span class="ff5">的权值被<span class="_ _2"></span>更</span></div><div class="t m0 x0 h8 ybb ff5 fs4 fc0 sc0 ls0 ws0">新<span class="_ _2"></span>，<span class="_ _5"></span>使<span class="_ _5"></span>得<span class="_ _2"></span>它<span class="_ _5"></span>能<span class="_ _2"></span>学<span class="_ _5"></span>习<span class="_ _2"></span>到<span class="_ _5"></span>更<span class="_ _5"></span>好<span class="_ _2"></span>的<span class="_ _2"></span>句<span class="_ _5"></span>子<span class="_ _5"></span>向<span class="_ _2"></span>量<span class="_ _5"></span>表<span class="_ _5"></span>示<span class="_ _2"></span>，<span class="_ _2"></span>同<span class="_ _5"></span>时<span class="_ _5"></span>训<span class="_ _2"></span>练<span class="_ _5"></span>解<span class="_ _5"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>的</div><div class="t m0 x0 h7 ybc ff4 fs4 fc0 sc0 ls0 ws0">LSTM<span class="_ _d"> </span><span class="ff5">权<span class="_ _5"></span>值<span class="_ _5"></span>，<span class="_ _2"></span>使<span class="_ _2"></span>得<span class="_ _5"></span>它<span class="_ _5"></span>能<span class="_ _2"></span>生<span class="_ _5"></span>成<span class="_ _2"></span>与<span class="_ _5"></span>上<span class="_ _2"></span>下<span class="_ _5"></span>文<span class="_ _5"></span>向<span class="_ _2"></span>量<span class="_ _5"></span>相<span class="_ _2"></span>关<span class="_ _5"></span>的<span class="_ _2"></span>正<span class="_ _5"></span>确<span class="_ _5"></span>语<span class="_ _2"></span>法<span class="_ _5"></span>的<span class="_ _2"></span>句</span></div><div class="t m0 x0 h8 ybd ff5 fs4 fc0 sc0 ls0 ws0">子。</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 ybe ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _f"> </span>2:<span class="_ _10"> </span>Exampl<span class="_ _2"></span>e<span class="_ _10"> </span>of<span class="_ _10"> </span>a</span></div><div class="t m0 x12 h1a ybf ffd fs1 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _11"> </span>d<span class="_ _9"></span>ecoder<span class="_ _11"> </span>network.<span class="_ _1e"> </span>This</div><div class="t m0 x12 h1a yc0 ffd fs1 fc0 sc0 ls0 ws0">decoder<span class="_ _1c"> </span>is<span class="_ _1a"> </span>dec<span class="_ _2"></span>oding<span class="_ _1c"> </span>the<span class="_ _1a"> </span>context</div><div class="t m0 x12 h1a yc1 ffd fs1 fc0 sc0 ls0 ws0">vector<span class="_ _1f"> </span>for<span class="_ _12"> </span>&quot;what<span class="_ _1f"> </span>is<span class="_ _12"> </span>your<span class="_ _1f"> </span>name<span class="_ _2"></span>&quot;<span class="_ _12"> </span>(se<span class="_ _2"></span>e</div><div class="t m0 x12 h1a yc2 ffd fs1 fc0 sc0 ls0 ws0">Fig.<span class="_ _17"> </span>1<span class="_ _1e"> </span>into<span class="_ _16"> </span>i<span class="_ _2"></span>ts<span class="_ _17"> </span>Frenc<span class="_ _2"></span>h<span class="_ _17"> </span>trans<span class="_ _2"></span>lation,</div><div class="t m0 x12 h1a yc3 ffd fs1 fc0 sc0 ls0 ws0">&quot;comme<span class="_ _2"></span>nt<span class="_ _7"> </span>t<span class="_ _c"> </span><span class="ffa">’<span class="_ _1d"> </span></span>app<span class="_ _2"></span>eles<span class="_ _7"> </span>tu?&quot;<span class="_ _0"> </span>Note<span class="_ _7"> </span>the</div><div class="t m0 x12 h1a yc4 ffd fs1 fc0 sc0 ls0 ws0">special<span class="_ _3"> </span>&quot;GO&quot;<span class="_ _4"> </span>token<span class="_ _3"> </span>used<span class="_ _3"> </span>at<span class="_ _3"> </span>the<span class="_ _3"> </span>s<span class="_ _2"></span>tart</div><div class="t m0 x12 h1a yc5 ffd fs1 fc0 sc0 ls0 ws0">of<span class="_ _6"> </span>genera<span class="_ _2"></span>tion,<span class="_ _7"> </span>and<span class="_ _6"> </span>that<span class="_ _7"> </span>generation<span class="_ _7"> </span>is</div><div class="t m0 x12 h1a yc6 ffd fs1 fc0 sc0 ls0 ws0">in<span class="_ _0"> </span>the<span class="_ _0"> </span>forward<span class="_ _12"> </span>direction<span class="_ _0"> </span>as<span class="_ _0"> </span>oppos<span class="_ _2"></span>ed</div><div class="t m0 x12 h1a yc7 ffd fs1 fc0 sc0 ls0 ws0">to<span class="_ _7"> </span>the<span class="_ _7"> </span>input<span class="_ _7"> </span>which<span class="_ _0"> </span>is<span class="_ _7"> </span>read<span class="_ _7"> </span>in<span class="_ _7"> </span>reverse.</div><div class="t m0 x12 h1a yc8 ffd fs1 fc0 sc0 ls0 ws0">Note<span class="_ _7"> </span>also<span class="_ _6"> </span>that<span class="_ _7"> </span>the<span class="_ _7"> </span>input<span class="_ _7"> </span>and<span class="_ _6"> </span>outp<span class="_ _2"></span>ut</div><div class="t m0 x12 h1a yc9 ffd fs1 fc0 sc0 ls0 ws0">do<span class="_ _0"> </span>not<span class="_ _12"> </span>need<span class="_ _12"> </span>to<span class="_ _0"> </span>be<span class="_ _12"> </span>the<span class="_ _12"> </span>same<span class="_ _0"> </span>length.</div><div class="t m0 x12 h1a yca ffa fs1 fc0 sc0 ls0 ws0">【<span class="_ _1"> </span>图<span class="_ _11"> </span><span class="ffd">2:<span class="_ _2"></span>Seq2Seq<span class="_ _12"> </span></span>解<span class="_ _1"> </span>码<span class="_ _1"> </span>器<span class="_ _1"> </span>网<span class="_ _1"> </span>络<span class="_ _3"> </span>示</div><div class="t m0 x12 h1a ycb ffa fs1 fc0 sc0 ls0 ws0">例<span class="_ _c"> </span>。<span class="_ _c"> </span>此<span class="_ _c"> </span>解<span class="_ _c"> </span>码<span class="_ _1d"> </span>器<span class="_ _1"> </span>正<span class="_ _1d"> </span>在<span class="_ _c"> </span>解<span class="_ _c"> </span>码<span class="_ _c"> </span>“<span class="_ _c"> </span><span class="ffd">what<span class="_ _0"> </span>is</span></div><div class="t m0 x12 h1a ycc ffd fs1 fc0 sc0 ls0 ws0">your<span class="_ _3"> </span>nam<span class="_ _2"></span>e<span class="_ _2"></span><span class="ffa">”<span class="_ _2"></span><span class="ffe">（<span class="_ _5"></span></span>参<span class="_ _2"></span>见<span class="_ _5"></span>图<span class="_ _15"> </span></span>1<span class="_ _2"></span><span class="ffe">）<span class="_ _2"></span><span class="ffa">的<span class="_ _2"></span>上<span class="_ _5"></span>下<span class="_ _2"></span>文</span></span></div><div class="t m0 x12 h1a ycd ffa fs1 fc0 sc0 ls0 ws0">向<span class="_ _e"></span>量<span class="_ _e"></span>，<span class="_ _1d"> </span>将<span class="_ _e"></span>其<span class="_ _e"></span>翻<span class="_ _e"> </span>译<span class="_ _1d"> </span>为<span class="_ _e"></span>法<span class="_ _e"> </span>语<span class="_ _1d"> </span>“<span class="_ _e"></span><span class="ffd">comme<span class="_ _2"></span>nt</span></div><div class="t m0 x12 h1a yce ffd fs1 fc0 sc0 ls0 ws0">t&apos;appell<span class="_ _2"></span>es<span class="_ _3"> </span>tu<span class="_ _e"></span><span class="ffa">？<span class="_ _2"></span>”<span class="_ _e"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>在<span class="_ _5"></span>生<span class="_ _5"></span>成<span class="_ _5"></span>开<span class="_ _5"></span>始<span class="_ _5"></span>时</span></div><div class="t m0 x12 h1a ycf ffa fs1 fc0 sc0 ls0 ws0">使<span class="_ _2"></span>用<span class="_ _5"></span>的<span class="_ _5"></span>特<span class="_ _5"></span>殊<span class="_ _5"></span>“<span class="_ _5"></span><span class="ffd">GO<span class="_ _5"></span></span>”<span class="_ _2"></span>标<span class="_ _5"></span>记<span class="_ _5"></span>，<span class="_ _5"></span>并<span class="_ _5"></span>且<span class="_ _5"></span>该</div><div class="t m0 x12 h1b yd0 ffa fs1 fc0 sc0 ls0 ws0">生<span class="_ _5"></span>成<span class="_ _5"></span>是<span class="_ _5"></span>正<span class="_ _5"></span>向<span class="_ _5"></span>的<span class="_ _5"></span>，<span class="_ _5"></span>而<span class="_ _2"></span>不<span class="_ _5"></span>是<span class="_ _5"></span>反<span class="_ _5"></span>向<span class="_ _5"></span>读<span class="_ _5"></span>取<span class="_ _5"></span>的</div><div class="t m0 x12 h1b yb6 ffa fs1 fc0 sc0 ls0 ws0">输<span class="_ _5"></span>入<span class="_ _5"></span>。<span class="_ _5"></span>还<span class="_ _5"></span>要<span class="_ _5"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>的<span class="_ _2"></span>是<span class="_ _5"></span>，<span class="_ _5"></span>输<span class="_ _5"></span>入<span class="_ _5"></span>和<span class="_ _5"></span>输<span class="_ _5"></span>出</div><div class="t m0 x12 h1b yd1 ffa fs1 fc0 sc0 ls0 ws0">不需要是相<span class="_ _2"></span>同的长度。】</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf5" class="pf w0 h0" data-page-no="5"><div class="pc pc5 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg5.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 w7 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">5</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h7 y5b ff3 fs4 fc0 sc0 ls0 ws0">•<span class="_ _b"> </span><span class="ff4">Encoder<span class="ff5">：逐<span class="_ _2"></span>层运行，<span class="_ _2"></span>每一层的输出<span class="_ _2"></span>是下一层的输<span class="_ _2"></span>入</span></span></div><div class="t m0 x0 h7 yd2 ff3 fs4 fc0 sc0 ls0 ws0">•<span class="_ _b"> </span><span class="ff4">Decoder<span class="_ _5"></span><span class="ff5">：<span class="_ _5"></span>逐<span class="_ _2"></span>时<span class="_ _5"></span>间<span class="_ _5"></span>步<span class="_ _5"></span>运<span class="_ _2"></span>行<span class="_ _5"></span>，<span class="_ _5"></span>每<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _5"></span>时<span class="_ _5"></span>间<span class="_ _2"></span>步<span class="_ _5"></span>的<span class="_ _2"></span>最<span class="_ _5"></span>后<span class="_ _5"></span>一<span class="_ _5"></span>层<span class="_ _2"></span>的<span class="_ _5"></span>输</span></span></div><div class="t m0 x7 h8 y5e ff5 fs4 fc0 sc0 ls0 ws0">出是下一个时<span class="_ _2"></span>间步的第一层<span class="_ _2"></span>的输入</div><div class="t m0 x0 h11 yd3 ff9 fs0 fc0 sc0 ls0 ws0">1.6<span class="_ _d"> </span>Bidirectional<span class="_ _4"> </span>R<span class="_ _2"></span>NNs</div><div class="t m0 x0 h8 yd4 ff5 fs4 fc0 sc0 ls0 ws0">之前讨论过句<span class="_ _2"></span>子的依赖不仅<span class="_ _2"></span>仅在一个<span class="_ _2"></span>方向的传播起<span class="_ _2"></span>作用；一个单</div><div class="t m0 x0 h8 yd5 ff5 fs4 fc0 sc0 ls0 ws0">词可以依赖它<span class="_ _2"></span>前面或者后面<span class="_ _2"></span>的单词。<span class="_ _2"></span>到目前为止，<span class="_ _2"></span>我们已经讨论</div><div class="t m0 x0 h7 yd6 ff5 fs4 fc0 sc0 ls0 ws0">过的<span class="_ _4"> </span><span class="ff4">Seq2Se<span class="_ _2"></span>q<span class="_ _4"> </span></span>模型并没有<span class="_ _2"></span>考虑到<span class="_ _2"></span>这一点；<span class="_ _2"></span>在每个<span class="_ _2"></span>时间步，<span class="_ _2"></span>我们</div><div class="t m0 x0 h7 yd7 ff5 fs4 fc0 sc0 ls0 ws0">只<span class="_ _2"></span>是<span class="_ _2"></span>考<span class="_ _2"></span>虑<span class="_ _2"></span>当<span class="_ _5"></span>前<span class="_ _2"></span>时<span class="_ _2"></span>间<span class="_ _5"></span>步的<span class="_ _2"></span>单<span class="_ _5"></span>词<span class="_ _2"></span>的<span class="_ _2"></span>前<span class="_ _5"></span>面单<span class="_ _2"></span>词<span class="_ _5"></span>的<span class="_ _2"></span>信<span class="_ _2"></span>息<span class="_ _5"></span>（通<span class="_ _2"></span>过<span class="_ _6"> </span><span class="ff4">L<span class="_ _2"></span>STM<span class="_ _d"> </span></span>的</div><div class="t m0 x0 h7 yd8 ff5 fs4 fc0 sc0 ls0 ws0">隐藏<span class="_ _2"></span>状<span class="_ _2"></span>态<span class="_ _2"></span>）<span class="_ _2"></span>。<span class="_ _2"></span>对<span class="_ _2"></span>于<span class="_ _d"> </span><span class="ff4">NMT<span class="_ _2"></span></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>需<span class="_ _2"></span>要<span class="_ _2"></span>能<span class="_ _2"></span>够<span class="_ _2"></span>有<span class="_ _2"></span>效<span class="_ _2"></span>地<span class="_ _2"></span>对<span class="_ _2"></span>任意<span class="_ _2"></span>输<span class="_ _2"></span>入<span class="_ _2"></span>进<span class="_ _2"></span>行</div><div class="t m0 x0 h8 yd9 ff5 fs4 fc0 sc0 ls0 ws0">编码，而不管<span class="_ _2"></span>与输入之间的<span class="_ _2"></span>依赖关系<span class="_ _2"></span>的方向，因此<span class="_ _2"></span>这才能够让获</div><div class="t m0 x0 h8 yda ff5 fs4 fc0 sc0 ls0 ws0">得的信息不会<span class="_ _2"></span>减少。</div><div class="t m0 x0 h7 ydb ff5 fs4 fc0 sc0 ls0 ws0">双<span class="_ _2"></span>向<span class="_ _16"> </span><span class="ff4">RNN </span>通<span class="_ _5"></span>过<span class="_ _2"></span>遍<span class="_ _5"></span>历<span class="_ _2"></span>序<span class="_ _5"></span>列<span class="_ _2"></span>的<span class="_ _5"></span>两<span class="_ _2"></span>个<span class="_ _5"></span>方<span class="_ _2"></span>向<span class="_ _5"></span>并<span class="_ _2"></span>连<span class="_ _5"></span>接<span class="_ _2"></span>所<span class="_ _2"></span>得<span class="_ _5"></span>到<span class="_ _5"></span>的<span class="_ _2"></span>输<span class="_ _5"></span>出<span class="_ _2"></span>（<span class="_ _2"></span>神</div><div class="t m0 x0 h8 ydc ff5 fs4 fc0 sc0 ls0 ws0">经元输出和最<span class="_ _2"></span>终隐藏状态都<span class="_ _2"></span>进行连接<span class="_ _2"></span>）来解决这个<span class="_ _2"></span>问题。对于每</div><div class="t m0 x0 h7 ydd ff5 fs4 fc0 sc0 ls0 ws0">个<span class="_ _d"> </span><span class="ff4">RNN<span class="_ _4"> </span></span>神<span class="_ _2"></span>经元<span class="_ _2"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们简<span class="_ _2"></span>单<span class="_ _2"></span>地<span class="_ _2"></span>添<span class="_ _2"></span>加另<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>神经<span class="_ _2"></span>元<span class="_ _2"></span>，但<span class="_ _2"></span>是<span class="_ _2"></span>以相<span class="_ _2"></span>反<span class="_ _2"></span>的</div><div class="t m0 x0 h7 yde ff5 fs4 fc0 sc0 ls0 ws0">方<span class="_ _5"></span>向<span class="_ _5"></span>向<span class="_ _e"></span>其<span class="_ _5"></span>放<span class="_ _e"></span>入<span class="_ _5"></span>输<span class="_ _5"></span>入<span class="_ _e"></span>；<span class="_ _5"></span>对<span class="_ _5"></span>应<span class="_ _e"></span>第<span class="_ _0"> </span><span class="ff4">t<span class="_ _6"> </span></span>个<span class="_ _e"></span>单<span class="_ _5"></span>词<span class="_ _5"></span>的<span class="_ _e"></span>输<span class="_ _5"></span>出</div><div class="t m0 x14 h18 ydf ffb fs4 fc0 sc0 ls0 ws0">o</div><div class="t m0 xb h1c ye0 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x15 h8 yde ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _5"></span>连<span class="_ _5"></span>接<span class="_ _e"></span>了<span class="_ _5"></span>向<span class="_ _e"></span>量</div><div class="t m0 x16 h18 ye1 ffb fs4 fc0 sc0 ls0 ws0">o</div><div class="t m0 x17 h1c ye2 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x17 h1c ye3 ffb fs8 fc0 sc0 ls0 ws0">(f)</div><div class="t m0 x18 h18 ye1 ffb fs4 fc0 sc0 ls0 ws0"> o</div><div class="t m0 x19 h1c ye2 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x19 h1c ye3 ffb fs8 fc0 sc0 ls0 ws0">(b)</div><div class="t m0 x1a h8 ye4 ff5 fs4 fc0 sc0 ls0 ws0">，<span class="_ _2"></span>其<span class="_ _2"></span>中</div><div class="t m0 x1b h18 ye1 ffb fs4 fc0 sc0 ls0 ws0">o</div><div class="t m0 x1c h1c ye2 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x1c h1c ye3 ffb fs8 fc0 sc0 ls0 ws0">(f)</div><div class="t m0 x5 h7 ye4 ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>词<span class="_ _6"> </span><span class="ff4">t<span class="_ _4"> </span></span>在<span class="_ _5"></span>正向<span class="_ _5"></span>的<span class="_ _d"> </span><span class="ff4">RNN<span class="_ _d"> </span></span>的<span class="_ _5"></span>输出<span class="_ _5"></span>，</div><div class="t m0 x1d h18 ye1 ffb fs4 fc0 sc0 ls0 ws0">o</div><div class="t m0 x1e h1c ye2 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x1e h1c ye3 ffb fs8 fc0 sc0 ls0 ws0">(b)</div><div class="t m0 x1f h8 ye4 ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>词</div><div class="t m0 x0 h7 ye5 ff4 fs4 fc0 sc0 ls0 ws0">t <span class="ff5">在<span class="_ _4"> </span>反<span class="_ _d"> </span>向<span class="_ _d"> </span>的<span class="_ _20"> </span></span>RNN <span class="ff5">的<span class="_ _d"> </span>输<span class="_ _d"> </span>出<span class="_ _4"> </span>。<span class="_ _d"> </span>类<span class="_ _d"> </span>似<span class="_ _d"> </span>地<span class="_ _4"> </span>，<span class="_ _d"> </span>最<span class="_ _4"> </span>终<span class="_ _d"> </span>隐<span class="_ _d"> </span>藏<span class="_ _d"> </span>状<span class="_ _d"> </span>态<span class="_ _4"> </span>是</span></div><div class="t m0 x16 h18 ye6 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x17 h1c ye7 ffb fs8 fc0 sc0 ls0 ws0">(f)</div><div class="t m0 x18 h18 ye8 ffb fs4 fc0 sc0 ls0 ws0"> </div><div class="t m0 x20 h18 ye6 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x19 h1c ye7 ffb fs8 fc0 sc0 ls0 ws0">(b)</div><div class="t m0 x1a h18 ye8 ff5 fs4 fc0 sc0 ls0 ws0">，其<span class="_ _2"></span>中<span class="_ _6"> </span><span class="ffb">ℎ</span></div><div class="t m0 x1c h1c ye7 ffb fs8 fc0 sc0 ls0 ws0">(f)</div><div class="t m0 x5 h18 ye8 ff5 fs4 fc0 sc0 ls0 ws0">是正<span class="_ _2"></span>向<span class="_ _2"></span>的<span class="_ _6"> </span><span class="ff4">RNN<span class="_ _4"> </span></span>的<span class="_ _2"></span>最<span class="_ _2"></span>终<span class="_ _2"></span>隐<span class="_ _2"></span>藏<span class="_ _2"></span>状<span class="_ _2"></span>态<span class="_ _2"></span>和<span class="_ _d"> </span><span class="ffb">ℎ</span></div><div class="t m0 x21 h1c ye7 ffb fs8 fc0 sc0 ls0 ws0">(b)</div><div class="t m0 x22 h8 ye8 ff5 fs4 fc0 sc0 ls0 ws0">是</div><div class="t m0 x0 h7 ye9 ff5 fs4 fc0 sc0 ls0 ws0">反<span class="_ _2"></span>向<span class="_ _5"></span>的<span class="_ _7"> </span><span class="ff4">RNN<span class="_ _6"> </span></span>的<span class="_ _5"></span>最<span class="_ _2"></span>终<span class="_ _5"></span>隐<span class="_ _5"></span>藏<span class="_ _2"></span>状<span class="_ _5"></span>态<span class="_ _5"></span>。<span class="_ _2"></span>右<span class="_ _5"></span>图<span class="_ _5"></span>是<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>双<span class="_ _5"></span>向<span class="_ _7"> </span><span class="ff4">LSTM<span class="_ _d"> </span></span>解<span class="_ _5"></span>码<span class="_ _5"></span>器</div><div class="t m0 x0 h8 yea ff5 fs4 fc0 sc0 ls0 ws0">的例子。</div><div class="t m0 x0 hf yeb ff8 fs3 fc0 sc0 ls0 ws0">2.<span class="_ _20"> </span>A<span class="_ _2"></span>ttention<span class="_ _3"> </span>Mechanism</div><div class="t m0 x0 h11 yec ff9 fs0 fc0 sc0 ls0 ws0">2.1<span class="_ _d"> </span>Motivation</div><div class="t m0 x0 h7 yed ff5 fs4 fc0 sc0 ls0 ws0">当<span class="_ _2"></span>你<span class="_ _5"></span>听<span class="_ _2"></span>到<span class="_ _5"></span>句<span class="_ _5"></span>子<span class="_ _2"></span><span class="ff4">“the<span class="_ _d"> </span>ball<span class="_ _6"> </span>is<span class="_ _d"> </span>on<span class="_ _d"> </span>the<span class="_ _6"> </span><span class="fff">ﬁ</span>eld”<span class="_ _5"></span></span>，<span class="_ _5"></span>你<span class="_ _2"></span>不<span class="_ _2"></span>会<span class="_ _5"></span>认<span class="_ _5"></span>为<span class="_ _2"></span>这<span class="_ _7"> </span><span class="ff4">6<span class="_ _4"> </span></span>个<span class="_ _5"></span>单</div><div class="t m0 x0 h7 yee ff5 fs4 fc0 sc0 ls0 ws0">词<span class="_ _3"> </span>都<span class="_ _3"> </span>一<span class="_ _4"> </span>样<span class="_ _3"> </span>重<span class="_ _3"> </span>要<span class="_ _3"> </span>。<span class="_ _4"> </span>你<span class="_ _3"> </span>首<span class="_ _3"> </span>先<span class="_ _3"> </span>会<span class="_ _4"> </span>注<span class="_ _3"> </span>意<span class="_ _3"> </span>到<span class="_ _4"> </span>单<span class="_ _3"> </span>词<span class="_ _3"> </span><span class="ff4">“ball”<span class="_ _4"> </span></span>，<span class="_ _3"> </span><span class="ff4">“on” </span>和</div><div class="t m0 x0 h7 yef ff4 fs4 fc0 sc0 ls0 ws0">“<span class="fff">ﬁ</span>eld”<span class="_ _c"> </span><span class="ff5">，<span class="_ _c"> </span>因<span class="_ _1"> </span>为<span class="_ _c"> </span>这<span class="_ _c"> </span>些<span class="_ _c"> </span>单<span class="_ _c"> </span>词<span class="_ _c"> </span>你<span class="_ _c"> </span>是<span class="_ _c"> </span>觉<span class="_ _1"> </span>得<span class="_ _c"> </span>最<span class="_ _c"> </span></span>“<span class="_ _c"> </span><span class="ff5">重<span class="_ _c"> </span>要<span class="_ _c"> </span></span>”<span class="_ _c"> </span><span class="ff5">的<span class="_ _c"> </span>。<span class="_ _c"> </span>类<span class="_ _c"> </span>似<span class="_ _1"> </span>的<span class="_ _c"> </span>，</span></div><div class="t m0 x0 h7 yf0 ff4 fs4 fc0 sc0 ls0 ws0">Bahdanau<span class="_ _d"> </span><span class="ff5">等<span class="_ _2"></span>人<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>到<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _d"> </span></span>RNN<span class="_ _d"> </span><span class="ff5">的<span class="_ _2"></span>最<span class="_ _2"></span>终状<span class="_ _2"></span>态<span class="_ _5"></span>作为<span class="_ _d"> </span></span>Seq<span class="_ _2"></span>2Seq<span class="_ _4"> </span><span class="ff5">模</span></div><div class="t m0 x0 h7 yf1 ff5 fs4 fc0 sc0 ls0 ws0">型<span class="_ _2"></span>的<span class="_ _2"></span>单<span class="_ _2"></span>一<span class="_ _2"></span><span class="ff4">“<span class="_ _5"></span></span>上<span class="_ _2"></span>下<span class="_ _2"></span>文<span class="_ _2"></span>向<span class="_ _2"></span>量<span class="_ _5"></span><span class="ff4">”</span>的<span class="_ _2"></span>缺<span class="_ _5"></span>点：<span class="_ _5"></span>一<span class="_ _2"></span>般<span class="_ _2"></span>而<span class="_ _2"></span>言<span class="_ _2"></span>，<span class="_ _5"></span>输<span class="_ _2"></span>入<span class="_ _2"></span>的<span class="_ _2"></span>不<span class="_ _2"></span>同<span class="_ _5"></span>部<span class="_ _2"></span>分<span class="_ _2"></span>具</div><div class="t m0 x0 h8 yf2 ff5 fs4 fc0 sc0 ls0 ws0">有不同的重要<span class="_ _2"></span>程度。再者，<span class="_ _2"></span>此外，输<span class="_ _2"></span>出的不同部分<span class="_ _2"></span>甚至可以考虑</div><div class="t m0 x0 h7 yf3 ff5 fs4 fc0 sc0 ls0 ws0">输<span class="_ _2"></span>入<span class="_ _2"></span>的<span class="_ _2"></span>不<span class="_ _2"></span>同<span class="_ _5"></span>部<span class="_ _2"></span>分<span class="_ _2"></span>是<span class="_ _2"></span><span class="ff4">“<span class="_ _2"></span></span>重<span class="_ _5"></span>要<span class="_ _2"></span><span class="ff4">”</span>的<span class="_ _5"></span>。<span class="_ _2"></span>例<span class="_ _2"></span>如<span class="_ _2"></span>，<span class="_ _2"></span>在<span class="_ _5"></span>翻译<span class="_ _5"></span>任<span class="_ _2"></span>务<span class="_ _2"></span>中<span class="_ _2"></span>，<span class="_ _2"></span>输<span class="_ _5"></span>出<span class="_ _2"></span>的<span class="_ _2"></span>第</div><div class="t m0 x0 h8 yf4 ff5 fs4 fc0 sc0 ls0 ws0">一个单词是一<span class="_ _2"></span>般是基于输入<span class="_ _2"></span>的前几个<span class="_ _2"></span>词，输出的最<span class="_ _2"></span>后几个词可能</div><div class="t m0 x0 h8 yf5 ff5 fs4 fc0 sc0 ls0 ws0">基于输入的几<span class="_ _2"></span>个词。</div><div class="t m0 x0 h8 yf6 ff5 fs4 fc0 sc0 ls0 ws0">注意机制利用<span class="_ _2"></span>这一观察结果<span class="_ _2"></span>，为解码<span class="_ _2"></span>器网络提供了<span class="_ _2"></span>在每个解码步</div><div class="t m0 x0 h8 yf7 ff5 fs4 fc0 sc0 ls0 ws0">骤查看整个输<span class="_ _2"></span>入序列的功能<span class="_ _2"></span>；然后解<span class="_ _2"></span>码器可以在任<span class="_ _2"></span>何时间点决定</div><div class="t m0 x0 h8 yf8 ff5 fs4 fc0 sc0 ls0 ws0">哪些输入单词<span class="_ _2"></span>是重要的。有<span class="_ _2"></span>很多类型<span class="_ _2"></span>的编码器机制<span class="_ _2"></span>，但是我们将</div><div class="t m0 x0 h7 yf9 ff5 fs4 fc0 sc0 ls0 ws0">讨论由<span class="_ _4"> </span><span class="ff4">Bahdanau<span class="_ _4"> </span></span>提出的机<span class="_ _2"></span>制。</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 yfa ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _14"> </span>3:<span class="_ _12"> </span>Exam<span class="_ _2"></span>ple<span class="_ _1f"> </span>of<span class="_ _1f"> </span>a<span class="_ _12"> </span>s<span class="_ _2"></span>ingle-</span></div><div class="t m0 x12 h1a yfb ffd fs1 fc0 sc0 ls0 ws0">layer<span class="_ _1f"> </span>bidirectio<span class="_ _2"></span>nal<span class="_ _1f"> </span>LSTM<span class="_ _1f"> </span>encoder</div><div class="t m0 x12 h1a yfc ffd fs1 fc0 sc0 ls0 ws0">network.<span class="_ _12"> </span>Note<span class="_ _12"> </span>that<span class="_ _12"> </span>the<span class="_ _12"> </span>input<span class="_ _12"> </span>is<span class="_ _12"> </span>fed</div><div class="t m0 x12 h1a yfd ffd fs1 fc0 sc0 ls0 ws0">into<span class="_ _1e"> </span>two<span class="_ _17"> </span>differe<span class="_ _2"></span>nt<span class="_ _1e"> </span>LSTM<span class="_ _21"> </span>layers,</div><div class="t m0 x12 h1a yfe ffd fs1 fc0 sc0 ls0 ws0">but<span class="_ _15"> </span>in<span class="_ _15"> </span>differen<span class="_ _2"></span>t<span class="_ _15"> </span>directions<span class="_ _2"></span>,<span class="_ _15"> </span>and<span class="_ _15"> </span>the</div><div class="t m0 x12 h1a yff ffd fs1 fc0 sc0 ls0 ws0">hidden<span class="_ _16"> </span>states<span class="_ _16"> </span>are<span class="_ _15"> </span>c<span class="_ _2"></span>oncatenat<span class="_ _2"></span>ed<span class="_ _16"> </span>to</div><div class="t m0 x12 h1a y100 ffd fs1 fc0 sc0 ls0 ws0">get<span class="_ _3"> </span>the<span class="_ _4"> </span>final<span class="_ _4"> </span>context<span class="_ _4"> </span>vec<span class="_ _2"></span>tor.<span class="_ _2"></span><span class="ffa">【<span class="_ _5"></span>图<span class="_ _15"> </span></span>3<span class="_ _5"></span><span class="ffa">：</span></div><div class="t m0 x12 h1a y101 ffa fs1 fc0 sc0 ls0 ws0">单<span class="_ _1d"> </span>层<span class="_ _1d"> </span>双<span class="_ _c"> </span>向<span class="_ _21"> </span><span class="ffd">LSTM<span class="_ _7"> </span></span>编<span class="_ _1d"> </span>码<span class="_ _1d"> </span>器<span class="_ _c"> </span>网<span class="_ _1d"> </span>络<span class="_ _c"> </span>示</div><div class="t m0 x12 h1b y102 ffa fs1 fc0 sc0 ls0 ws0">例<span class="_ _5"></span>。<span class="_ _5"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>，<span class="_ _5"></span>输<span class="_ _5"></span>入<span class="_ _5"></span>被<span class="_ _2"></span>输<span class="_ _5"></span>入<span class="_ _5"></span>到<span class="_ _5"></span>两<span class="_ _5"></span>个<span class="_ _5"></span>不<span class="_ _5"></span>同</div><div class="t m0 x12 h1a y103 ffa fs1 fc0 sc0 ls0 ws0">的<span class="_ _15"> </span><span class="ffd">LSTM<span class="_ _4"> </span></span>层<span class="_ _2"></span>中<span class="_ _2"></span>，<span class="_ _2"></span>但<span class="_ _5"></span>是<span class="_ _2"></span>方<span class="_ _5"></span>向<span class="_ _2"></span>不<span class="_ _2"></span>同<span class="_ _5"></span>，</div><div class="t m0 x12 h1b y104 ffa fs1 fc0 sc0 ls0 ws0">隐<span class="_ _5"></span>藏<span class="_ _5"></span>状<span class="_ _5"></span>态<span class="_ _5"></span>被<span class="_ _5"></span>连<span class="_ _5"></span>接<span class="_ _5"></span>起<span class="_ _2"></span>来<span class="_ _5"></span>以<span class="_ _5"></span>得<span class="_ _5"></span>到<span class="_ _5"></span>最<span class="_ _5"></span>终<span class="_ _5"></span>的</div><div class="t m0 x12 h1b y105 ffa fs1 fc0 sc0 ls0 ws0">上下文向量<span class="_ _2"></span>。】</div></div><div class="c x8 y106 w8 h12"><div class="t m0 x4 h13 y107 ff7 fs0 fc0 sc0 ls0 ws0">2<span class="_ _d"> </span>Notes<span class="_ _4"> </span>i<span class="_ _2"></span>nfo.</div></div><div class="c x8 y108 w9 h14"><div class="t m0 x4 hd y49 ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y108 wa h14"><div class="t m0 x4 hd y49 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P57</div></div><div class="c x8 y109 w9 h14"><div class="t m0 x4 hd y10a ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y109 wa h14"><div class="t m0 x4 hd y10a ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>67:38</div></div><div class="c x8 y10b w9 h15"><div class="t m0 x4 hd y49 ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y10b wa h15"><div class="t m0 x4 h16 y49 ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y10c w9 h14"><div class="t m0 x4 hd y10a ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y10c wa h14"><div class="t m0 x4 h16 y10a ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y10d w8 h17"><div class="t m0 xa h1d y10e ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA</div><div class="t m0 x23 hd y10a ff7 fs2 fc0 sc0 ls0 ws0">I</div></div><div class="c x8 y10f w8 h12"><div class="t m0 x4 h13 y110 ff7 fs0 fc0 sc0 ls0 ws0">2.1<span class="_ _4"> </span>N<span class="_ _2"></span>otes<span class="_ _d"> </span>info.</div></div><div class="c x8 y111 w9 h14"><div class="t m0 x4 hd y99 ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y111 wa h14"><div class="t m0 x4 hd y99 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P58</div></div><div class="c x8 y112 w9 h14"><div class="t m0 x4 hd y113 ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y112 wa h14"><div class="t m0 x4 hd y113 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>-,<span class="_ _3"> </span>00:00</div></div><div class="c x8 y114 w9 h15"><div class="t m0 x4 hd y99 ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y114 wa h15"><div class="t m0 x4 h16 y9c ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y115 w9 h14"><div class="t m0 x4 hd y113 ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y115 wa h14"><div class="t m0 x4 h16 y113 ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y116 w8 h17"><div class="t m0 xa hd y117 ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf6" class="pf w0 h0" data-page-no="6"><div class="pc pc6 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg6.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 we h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">6</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h11 y118 ff9 fs0 fc0 sc0 ls0 ws0">2.2<span class="_ _d"> </span>Bahdanau<span class="_ _4"> </span>e<span class="_ _2"></span>t<span class="_ _d"> </span>al.<span class="_ _d"> </span>NMT<span class="_ _d"> </span>model</div><div class="t m0 x0 h7 y119 ff5 fs4 fc0 sc0 ls0 ws0">再回顾一<span class="_ _2"></span>下我们<span class="_ _2"></span>的<span class="_ _4"> </span><span class="ff4">Seq2Seq<span class="_ _4"> </span></span>模<span class="_ _2"></span>型是由两<span class="_ _2"></span>部分组<span class="_ _2"></span>成，一个<span class="_ _2"></span>编码器</div><div class="t m0 x0 h8 y11a ff5 fs4 fc0 sc0 ls0 ws0">将一个输入句<span class="_ _2"></span>子编码，以及<span class="_ _2"></span>利用解码<span class="_ _2"></span>器所提取的信<span class="_ _2"></span>息生成翻译句</div><div class="t m0 x0 h8 y11b ff5 fs4 fc0 sc0 ls0 ws0">子的解码器。<span class="_ _2"></span>基本上，我们<span class="_ _2"></span>的输入句<span class="_ _2"></span>子是一个我们<span class="_ _2"></span>想要翻译的词</div><div class="t m0 x0 h18 y11c ff5 fs4 fc0 sc0 ls0 ws0">序<span class="_ _5"></span>列<span class="_ _7"> </span><span class="ffb">x</span></div><div class="t m0 x24 h1c y11d ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x19 h18 y11e ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,</div><div class="t m0 x25 h18 y11c ffb fs4 fc0 sc0 ls0 ws0">x</div><div class="t m0 x26 h1c y11d ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x27 h8 y11c ff5 fs4 fc0 sc0 ls0 ws0">，<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _5"></span>的<span class="_ _5"></span>翻<span class="_ _5"></span>译<span class="_ _5"></span>过<span class="_ _5"></span>结<span class="_ _5"></span>果<span class="_ _2"></span>（<span class="_ _5"></span>目<span class="_ _5"></span>标<span class="_ _5"></span>句<span class="_ _5"></span>子<span class="_ _2"></span>）<span class="_ _5"></span>是<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _5"></span>词<span class="_ _2"></span>序<span class="_ _5"></span>列</div><div class="t m0 x0 h18 y11f ffb fs4 fc0 sc0 ls0 ws0">y</div><div class="t m0 x28 h1c y120 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x17 h18 y121 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,</div><div class="t m0 x29 h18 y11f ffb fs4 fc0 sc0 ls0 ws0">y</div><div class="t m0 x24 h1c y120 ffb fs8 fc0 sc0 ls0 ws0">m</div><div class="t m0 x2a h8 y11f ff5 fs4 fc0 sc0 ls0 ws0">。</div><div class="t m0 x0 h1e y122 ff9 fs4 fc0 sc0 ls0 ws0">1)<span class="_ _18"> </span>Encode<span class="_ _2"></span>r</div><div class="t m0 x0 h8 yd7 ff5 fs4 fc0 sc0 ls0 ws0">令</div><div class="t m0 x18 h18 y123 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x2b h1c y124 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x20 h18 y125 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,</div><div class="t m0 x2c h18 y123 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x25 h1c y124 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x2d h7 yd7 ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>输<span class="_ _2"></span>入<span class="_ _2"></span>句<span class="_ _2"></span>子<span class="_ _2"></span>的<span class="_ _2"></span>隐<span class="_ _5"></span>藏向<span class="_ _2"></span>量<span class="_ _2"></span>表<span class="_ _5"></span>示。<span class="_ _5"></span>这些<span class="_ _5"></span>向量<span class="_ _5"></span>是例<span class="_ _2"></span>如<span class="_ _6"> </span><span class="ff4">bi-</span></div><div class="t m0 x0 h7 yd8 ff4 fs4 fc0 sc0 ls0 ws0">LSTM<span class="_ _4"> </span><span class="ff5">的输出，<span class="_ _2"></span>并且捕获句子<span class="_ _2"></span>中每个单<span class="_ _2"></span>词的上下文表<span class="_ _2"></span>示。</span></div><div class="t m0 x0 h1e y126 ff9 fs4 fc0 sc0 ls0 ws0">2)<span class="_ _18"> </span>Decoder</div><div class="t m0 x0 h8 y127 ff5 fs4 fc0 sc0 ls0 ws0">我们想使用以<span class="_ _2"></span>下形式的递归<span class="_ _2"></span>公式计算<span class="_ _2"></span>解码器的隐藏<span class="_ _2"></span>状态</div><div class="t m0 x1d h18 y128 ffb fs4 fc0 sc0 ls0 ws0">s</div><div class="t m0 x1e h1c y129 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x2e h18 y12a ffb fs4 fc0 sc0 ls0 ws0">s</div><div class="t m0 x2f h1c y12b ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x30 h18 y12a ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>f<span class="_ _1f"> </span>s</div><div class="t m0 x31 h1c y12b ffb fs8 fc0 sc0 ls0 ws0">i−1</div><div class="t m0 x32 h18 y12c ffb fs4 fc0 sc0 ls0 ws0">,</div><div class="t m0 x33 h18 y12a ffb fs4 fc0 sc0 ls0 ws0">y</div><div class="t m0 x34 h1c y12b ffb fs8 fc0 sc0 ls0 ws0">i−1</div><div class="t m0 x35 h18 y12c ffb fs4 fc0 sc0 ls0 ws0">,</div><div class="t m0 x36 h18 y12a ffb fs4 fc0 sc0 ls0 ws0">c</div><div class="t m0 x37 h1c y12b ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x0 h8 y12d ff5 fs4 fc0 sc0 ls0 ws0">其<span class="_ _2"></span>中</div><div class="t m0 x2b h18 y12e ffb fs4 fc0 sc0 ls0 ws0">s</div><div class="t m0 x20 h1c y12f ffb fs8 fc0 sc0 ls0 ws0">i−1</div><div class="t m0 x2c h8 y12d ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>前<span class="_ _2"></span>面<span class="_ _5"></span>的隐<span class="_ _5"></span>藏<span class="_ _2"></span>向<span class="_ _2"></span>量<span class="_ _2"></span>，</div><div class="t m0 x38 h18 y12e ffb fs4 fc0 sc0 ls0 ws0">y</div><div class="t m0 x39 h1c y12f ffb fs8 fc0 sc0 ls0 ws0">i−1</div><div class="t m0 x3a h8 y12d ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>前<span class="_ _2"></span>面<span class="_ _5"></span>时间<span class="_ _5"></span>步<span class="_ _2"></span>生<span class="_ _2"></span>成<span class="_ _2"></span>的<span class="_ _5"></span>单<span class="_ _2"></span>词<span class="_ _2"></span>，</div><div class="t m0 x0 h18 y130 ff5 fs4 fc0 sc0 ls0 ws0">和<span class="_ _4"> </span><span class="ffb">c</span></div><div class="t m0 x18 h1c y131 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x2b h18 y130 ff5 fs4 fc0 sc0 ls0 ws0">是从原始<span class="_ _2"></span>句子捕<span class="_ _2"></span>获与解码器<span class="_ _2"></span>的时间<span class="_ _2"></span>步<span class="_ _4"> </span><span class="ffb">i<span class="_ _4"></span></span>相关的上下文<span class="_ _2"></span>的上下</div><div class="t m0 x0 h8 y132 ff5 fs4 fc0 sc0 ls0 ws0">文向量。</div><div class="t m0 x0 h8 y133 ff5 fs4 fc0 sc0 ls0 ws0">上下文向<span class="_ _2"></span>量</div><div class="t m0 x26 h18 y134 ffb fs4 fc0 sc0 ls0 ws0">c</div><div class="t m0 x3b h1c y135 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x3c h8 y133 ff5 fs4 fc0 sc0 ls0 ws0">捕获对第</div><div class="t m0 x3d h18 y134 ffb fs4 fc0 sc0 ls0 ws0">i</div><div class="t m0 x30 h8 y133 ff5 fs4 fc0 sc0 ls0 ws0">个解码时<span class="_ _2"></span>间步的<span class="_ _2"></span>相关信息（<span class="_ _2"></span>与标准<span class="_ _2"></span>的的</div><div class="t m0 x0 h7 y136 ff4 fs4 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _d"> </span><span class="ff5">模<span class="_ _2"></span>型只<span class="_ _2"></span>有<span class="_ _2"></span>一个<span class="_ _2"></span>上<span class="_ _2"></span>下<span class="_ _2"></span>文向<span class="_ _2"></span>量<span class="_ _2"></span>不同<span class="_ _2"></span>）<span class="_ _2"></span>。<span class="_ _2"></span>对每<span class="_ _2"></span>个<span class="_ _2"></span>原<span class="_ _2"></span>始句<span class="_ _2"></span>子<span class="_ _2"></span>的</span></div><div class="t m0 x0 h18 y137 ff5 fs4 fc0 sc0 ls0 ws0">隐藏向量<span class="_ _4"> </span><span class="ffb">ℎ</span></div><div class="t m0 x25 h1c y138 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x26 h8 y137 ff5 fs4 fc0 sc0 ls0 ws0">，计算分数</div><div class="t m0 x3e h18 y139 ffb fs4 fc0 sc0 ls0 ws0">e</div><div class="t m0 x3f h1c y13a ffb fs8 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x40 h18 y139 ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>a<span class="_ _14"> </span>s</div><div class="t m0 x32 h1c y13a ffb fs8 fc0 sc0 ls0 ws0">i−1</div><div class="t m0 x3a h18 y139 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>ℎ</div><div class="t m0 x41 h1c y13a ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x0 h8 y13b ff5 fs4 fc0 sc0 ls0 ws0">其<span class="_ _2"></span>中</div><div class="t m0 x2b h18 y13c ffb fs4 fc0 sc0 ls0 ws0">a</div><div class="t m0 x42 h8 y13b ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>在</div><div class="t m0 x43 h18 y13c ffb fs4 fc0 sc0 ls0 ws0">ℝ</div><div class="t m0 x44 h8 y13b ff5 fs4 fc0 sc0 ls0 ws0">中<span class="_ _2"></span>具<span class="_ _2"></span>有<span class="_ _2"></span>值<span class="_ _2"></span>的<span class="_ _5"></span>任<span class="_ _2"></span>意<span class="_ _2"></span>函<span class="_ _2"></span>数<span class="_ _2"></span>，<span class="_ _5"></span>例<span class="_ _2"></span>如<span class="_ _2"></span>是<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>单层<span class="_ _5"></span>的<span class="_ _2"></span>全<span class="_ _2"></span>连<span class="_ _2"></span>接</div><div class="t m0 x0 h8 y13d ff5 fs4 fc0 sc0 ls0 ws0">神经<span class="_ _2"></span>网<span class="_ _2"></span>络<span class="_ _5"></span>。然<span class="_ _2"></span>后<span class="_ _2"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>得<span class="_ _2"></span>到<span class="_ _2"></span>一<span class="_ _2"></span>系<span class="_ _2"></span>列标<span class="_ _2"></span>量<span class="_ _5"></span>值</div><div class="t m0 x45 h18 y13e ffb fs4 fc0 sc0 ls0 ws0">e</div><div class="t m0 x46 h1c y13f ffb fs8 fc0 sc0 ls0 ws0">i,1</div><div class="t m0 x47 h18 y13e ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _1"></span>e</div><div class="t m0 xc h1c y140 ffb fs8 fc0 sc0 ls0 ws0">i,n</div><div class="t m0 x48 h8 y13d ff5 fs4 fc0 sc0 ls0 ws0">。然<span class="_ _2"></span>后<span class="_ _2"></span>，<span class="_ _5"></span>使</div><div class="t m0 x0 h7 y141 ff5 fs4 fc0 sc0 ls0 ws0">用<span class="_ _3"> </span><span class="ff4">s<span class="_ _2"></span>oftmax<span class="_ _4"> </span></span>层对这些分数<span class="_ _2"></span>进行归一<span class="_ _2"></span>化，得到向量</div><div class="t m0 x49 h18 y142 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x10 h1c y143 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x4a h18 y142 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x1d h18 y144 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,</div><div class="t m0 x21 h18 y142 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x4b h1c y143 ffb fs8 fc0 sc0 ls0 ws0">i,n</div><div class="t m0 x4c h18 y145 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x3d h1c y146 ffb fs8 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x3f h18 y145 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x4d h18 y147 ffb fs4 fc0 sc0 ls0 ws0">exp<span class="_ _1f"> </span>e</div><div class="t m0 x4e h1c y148 ffb fs8 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x4f h1c y149 ffb fs8 fc0 sc0 ls0 ws0">k=1</div><div class="t m0 x4f h1c y14a ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x32 h18 y14b ffb fs4 fc0 sc0 ls0 ws0">exp</div><div class="t m0 x50 h1f y14c ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x41 h18 y14b ffb fs4 fc0 sc0 ls0 ws0">e</div><div class="t m0 x51 h1c y14d ffb fs8 fc0 sc0 ls0 ws0">i,k</div><div class="t m0 x0 h8 y14e ff5 fs4 fc0 sc0 ls0 ws0">然后，计算原<span class="_ _2"></span>始句子的隐藏<span class="_ _2"></span>向量与注<span class="_ _2"></span>意力向量的加<span class="_ _2"></span>权平均值作为</div><div class="t m0 x0 h8 y14f ff5 fs4 fc0 sc0 ls0 ws0">上下向量</div><div class="t m0 x2c h18 y150 ffb fs4 fc0 sc0 ls0 ws0">c</div><div class="t m0 x52 h1c y151 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x3f h18 y152 ffb fs4 fc0 sc0 ls0 ws0">c</div><div class="t m0 x53 h1c y153 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x40 h18 y152 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x31 h1c y154 ffb fs8 fc0 sc0 ls0 ws0">j=1</div><div class="t m0 x38 h1c y155 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x33 h18 y152 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x34 h1c y153 ffb fs8 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x31 h1f y156 ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x4e h18 y152 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x41 h1c y153 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x0 h8 y157 ff5 fs4 fc0 sc0 ls0 ws0">直观上<span class="_ _2"></span>看<span class="_ _2"></span>，该<span class="_ _2"></span>向量<span class="_ _2"></span>从原<span class="_ _2"></span>始句子<span class="_ _2"></span>的<span class="_ _2"></span>解码<span class="_ _2"></span>器的第</div><div class="t m0 x54 h18 y158 ffb fs4 fc0 sc0 ls0 ws0">i</div><div class="t m0 x47 h8 y157 ff5 fs4 fc0 sc0 ls0 ws0">个时间<span class="_ _2"></span>步<span class="_ _2"></span>中捕<span class="_ _2"></span>获相</div><div class="t m0 x0 h8 y159 ff5 fs4 fc0 sc0 ls0 ws0">关的上下文信<span class="_ _2"></span>息。</div></div><div class="c x8 y39 w8 h12"><div class="t m0 x4 h13 y3a ff7 fs0 fc0 sc0 ls0 ws0">2.2<span class="_ _4"> </span>N<span class="_ _2"></span>otes<span class="_ _d"> </span>info.</div></div><div class="c x8 y3b w9 h14"><div class="t m0 x4 hd y3c ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x9 y3b wa h14"><div class="t m0 x4 hd y3c ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P60</div></div><div class="c x8 y3d w9 h14"><div class="t m0 x4 hd y3e ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x9 y3d wa h14"><div class="t m0 x4 hd y3e ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>68:20</div></div><div class="c x8 y3f w9 h15"><div class="t m0 x4 hd y3c ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代码</span></div></div><div class="c x9 y3f wa h15"><div class="t m0 x4 h16 y40 ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y41 w9 h14"><div class="t m0 x4 hd y3e ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x9 y41 wa h14"><div class="t m0 x4 h16 y3e ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y42 w8 h17"><div class="t m0 xa hd y43 ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 y15a ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffa fs4">向量</span></div><div class="t m0 x20 h18 y15b ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x55 h1c y15c ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x2a h20 y15a ffa fs4 fc0 sc0 ls0 ws0">称为注意力向量</div><div class="t m0 x12 h19 y15d ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _0"> </span><span class="ffa fs4">利用<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>向<span class="_ _2"></span>量<span class="_ _2"></span>提<span class="_ _2"></span>取上<span class="_ _2"></span>下<span class="_ _2"></span>文<span class="_ _2"></span>向<span class="_ _2"></span>量</span></div><div class="t m0 x12 h20 y15e ffa fs4 fc0 sc0 ls0 ws0">并捕获相关上<span class="_ _2"></span>下文</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf7" class="pf w0 h0" data-page-no="7"><div class="pc pc7 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg7.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 w2 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">7</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h11 y118 ff9 fs0 fc0 sc0 ls0 ws0">2.3<span class="_ _d"> </span>Connection<span class="_ _d"> </span>with<span class="_ _d"> </span>translation<span class="_ _d"> </span>alignment</div><div class="t m0 x0 h8 y119 ff5 fs4 fc0 sc0 ls0 ws0">基于注意力的<span class="_ _2"></span>模型为输出的<span class="_ _2"></span>每个时间<span class="_ _2"></span>步分配对输入<span class="_ _2"></span>的不同部分的</div><div class="t m0 x0 h7 y11a ff5 fs4 fc0 sc0 ls0 ws0">显<span class="_ _2"></span>着<span class="_ _5"></span>性<span class="_ _5"></span>（<span class="_ _2"></span><span class="ff4">“<span class="_ _5"></span></span>重<span class="_ _2"></span>要<span class="_ _5"></span>性<span class="_ _2"></span><span class="ff4">”<span class="_ _5"></span></span>）<span class="_ _2"></span>。<span class="_ _5"></span>在<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _5"></span>任<span class="_ _2"></span>务<span class="_ _5"></span>中<span class="_ _2"></span>，<span class="_ _5"></span>注<span class="_ _5"></span>意<span class="_ _2"></span>力<span class="_ _5"></span>可<span class="_ _5"></span>以<span class="_ _2"></span>认<span class="_ _5"></span>为<span class="_ _2"></span>是<span class="_ _5"></span><span class="ff4">“<span class="_ _2"></span></span>对</div><div class="t m0 x0 h18 y11b ff5 fs4 fc0 sc0 ls0 ws0">齐<span class="ff4">”</span>。<span class="_ _2"></span><span class="ff4">Bahdan<span class="_ _2"></span>au<span class="_ _4"> </span></span>等<span class="_ _2"></span>人<span class="_ _2"></span>认为<span class="_ _2"></span>在解<span class="_ _2"></span>码<span class="_ _2"></span>的时<span class="_ _2"></span>间步<span class="_ _d"> </span><span class="ffb">i<span class="_ _4"></span></span>中<span class="_ _2"></span>的<span class="_ _2"></span>注意<span class="_ _2"></span>力分<span class="_ _2"></span>数<span class="_ _d"> </span><span class="ffb">α</span></div><div class="t m0 x56 h1c y15f ffb fs8 fc0 sc0 ls0 ws0">ij</div><div class="t m0 x0 h18 y11c ff5 fs4 fc0 sc0 ls0 ws0">表示<span class="_ _2"></span>源<span class="_ _2"></span>句<span class="_ _2"></span>子<span class="_ _2"></span>中<span class="_ _2"></span>的<span class="_ _2"></span>单<span class="_ _2"></span>词对<span class="_ _2"></span>齐<span class="_ _2"></span>目<span class="_ _2"></span>标<span class="_ _2"></span>句<span class="_ _2"></span>子<span class="_ _2"></span>中<span class="_ _2"></span>的<span class="_ _2"></span>单词<span class="_ _d"> </span><span class="ffb">i<span class="_ _2"></span></span>。<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>到<span class="_ _2"></span>这<span class="_ _2"></span>一<span class="_ _2"></span>点，</div><div class="t m0 x0 h7 y11f ff5 fs4 fc0 sc0 ls0 ws0">我们可以使用<span class="_ _2"></span>注意力分数来<span class="_ _2"></span>构建一个<span class="_ _2"></span>对齐表<span class="ff4">——<span class="_ _2"></span></span>这个表是<span class="_ _2"></span>将源句</div><div class="t m0 x0 h7 y160 ff5 fs4 fc0 sc0 ls0 ws0">子<span class="_ _e"></span>中<span class="_ _e"></span>的<span class="_ _e"></span>单<span class="_ _e"></span>词<span class="_ _e"></span>映<span class="_ _e"></span>射<span class="_ _e"></span>到<span class="_ _5"></span>目<span class="_ _e"></span>标<span class="_ _e"></span>句<span class="_ _e"></span>子<span class="_ _e"></span>中<span class="_ _e"></span>的<span class="_ _e"></span>相<span class="_ _e"></span>应<span class="_ _e"></span>单<span class="_ _e"></span>词<span class="_ _e"></span><span class="ff4">——<span class="_ _e"></span></span>基<span class="_ _e"></span>于<span class="_ _e"></span>从<span class="_ _e"></span>我<span class="_ _e"></span>们<span class="_ _e"></span>从</div><div class="t m0 x0 h7 y161 ff4 fs4 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _6"> </span>NMT<span class="_ _d"> </span><span class="ff5">系<span class="_ _5"></span>统<span class="_ _2"></span>中<span class="_ _5"></span>学<span class="_ _2"></span>习<span class="_ _5"></span>到<span class="_ _2"></span>的<span class="_ _5"></span>编<span class="_ _2"></span>码<span class="_ _5"></span>器<span class="_ _5"></span>和<span class="_ _2"></span>解<span class="_ _2"></span>码<span class="_ _5"></span>器<span class="_ _5"></span>。<span class="_ _2"></span>右<span class="_ _5"></span>图<span class="_ _2"></span>是<span class="_ _5"></span>一<span class="_ _2"></span>个</span></div><div class="t m0 x0 h8 y162 ff5 fs4 fc0 sc0 ls0 ws0">对齐表的例子<span class="_ _2"></span>：</div><div class="t m0 x0 h11 y163 ff9 fs0 fc0 sc0 ls0 ws0">2.4<span class="_ _4"> </span>Pe<span class="_ _2"></span>rformance<span class="_ _d"> </span>on<span class="_ _d"> </span>long<span class="_ _d"> </span>sentences</div><div class="t m0 x0 h8 y164 ff5 fs4 fc0 sc0 ls0 ws0">基于注意力模<span class="_ _2"></span>型的主要优点<span class="_ _2"></span>是能够有<span class="_ _2"></span>效地翻译长句<span class="_ _2"></span>。当句子的输</div><div class="t m0 x0 h8 y165 ff5 fs4 fc0 sc0 ls0 ws0">入长度变大时<span class="_ _2"></span>，模型如果只<span class="_ _2"></span>使用最终<span class="_ _2"></span>隐藏状态表示<span class="_ _2"></span>而不使用注意</div><div class="t m0 x0 h8 y166 ff5 fs4 fc0 sc0 ls0 ws0">机制，这会丢<span class="_ _2"></span>失信息和降低<span class="_ _2"></span>准确度。<span class="_ _2"></span>注意力机制是<span class="_ _2"></span>一个聪明的方</div><div class="t m0 x0 h8 y167 ff5 fs4 fc0 sc0 ls0 ws0">式来解决这个<span class="_ _2"></span>问题，并且现<span class="_ _2"></span>在很多实<span class="_ _2"></span>验也证实了确<span class="_ _2"></span>实如此。<span class="_ _2"></span>右图</div><div class="t m0 x0 h7 y168 ff5 fs4 fc0 sc0 ls0 ws0">是长句子在不<span class="_ _2"></span>同的<span class="_ _4"> </span><span class="ff4">NMT<span class="_ _4"> </span></span>模型中的表现<span class="_ _2"></span>：</div><div class="t m0 x0 hf y169 ff8 fs3 fc0 sc0 ls0 ws0">3.<span class="_ _20"> </span>Other<span class="_ _4"> </span>Models</div><div class="t m0 x0 h11 ye8 ff9 fs0 fc0 sc0 ls0 ws0">3.1<span class="_ _d"> </span>Luong<span class="_ _d"> </span>et<span class="_ _d"> </span>al.<span class="_ _d"> </span>NMT<span class="_ _d"> </span>model</div><div class="t m0 x0 h7 y16a ff4 fs4 fc0 sc0 ls0 ws0">Luong<span class="_ _12"> </span><span class="ff5">等<span class="_ _1"> </span>人<span class="_ _c"> </span>在<span class="_ _1"> </span>论<span class="_ _c"> </span>文<span class="_ _21"> </span>《<span class="_ _1"> </span></span>Effective<span class="_ _12"> </span>Approaches<span class="_ _1f"> </span>to<span class="_ _12"> </span>A<span class="_ _2"></span>ttention-</div><div class="t m0 x0 h7 y16b ff4 fs4 fc0 sc0 ls0 ws0">based<span class="_ _6"> </span>Neural<span class="_ _6"> </span>Machine<span class="_ _6"> </span>Tran<span class="_ _2"></span>slation<span class="_ _5"></span><span class="ff5">》<span class="_ _7"> </span>提<span class="_ _5"></span>出<span class="_ _5"></span>了<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>力<span class="_ _5"></span>机<span class="_ _5"></span>制</span></div><div class="t m0 x0 h8 y16c ff5 fs4 fc0 sc0 ls0 ws0">模型的变体，<span class="_ _2"></span>是由两个不同<span class="_ _2"></span>的注意力<span class="_ _2"></span>机制组成。</div><div class="t m0 x0 h7 y16d ff4 fs4 fc0 sc0 ls0 ws0">Global<span class="_ _6"> </span>atten<span class="_ _2"></span>tion<span class="_ _6"> </span><span class="ff5">：<span class="_ _e"></span>我<span class="_ _5"></span>们<span class="_ _5"></span>运<span class="_ _5"></span>行<span class="_ _e"></span>简<span class="_ _5"></span>单<span class="_ _5"></span>的<span class="_ _0"> </span></span>Seq2Seq<span class="_ _7"> </span>NMT<span class="_ _5"></span><span class="ff5">。<span class="_ _e"></span>我<span class="_ _5"></span>们<span class="_ _5"></span>称</span></div><div class="t m0 x0 h8 y16e ff5 fs4 fc0 sc0 ls0 ws0">编码器的<span class="_ _2"></span>隐藏状<span class="_ _2"></span>态</div><div class="t m0 x1b h18 y16f ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x1c h1c y170 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x57 h18 y16f ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _c"></span>ℎ</div><div class="t m0 x3f h1c y170 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x40 h8 y16e ff5 fs4 fc0 sc0 ls0 ws0">，解码器<span class="_ _2"></span>的隐藏<span class="_ _2"></span>状态</div><div class="t m0 xf h18 y16f ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 xc h1c y171 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x58 h18 y16f ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _c"></span>ℎ</div><div class="t m0 x59 h1c y171 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x5a h8 y16e ff5 fs4 fc0 sc0 ls0 ws0">。现在</div><div class="t m0 x0 h8 y172 ff5 fs4 fc0 sc0 ls0 ws0">对<span class="_ _2"></span>每<span class="_ _2"></span>个</div><div class="t m0 x19 h18 y173 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x2a h1c y174 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x5b h8 y172 ff5 fs4 fc0 sc0 ls0 ws0">，<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>计<span class="_ _2"></span>算<span class="_ _5"></span>编码<span class="_ _5"></span>器<span class="_ _2"></span>的<span class="_ _2"></span>隐<span class="_ _2"></span>藏<span class="_ _2"></span>状<span class="_ _5"></span>态<span class="_ _2"></span>的<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>力<span class="_ _5"></span>向量<span class="_ _5"></span>。<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>可</div><div class="t m0 x0 h8 y175 ff5 fs4 fc0 sc0 ls0 ws0">以使用下面其<span class="_ _2"></span>中一个得分函<span class="_ _2"></span>数：</div><div class="t m0 x5c h18 y176 ffb fs4 fc0 sc0 ls0 ws0">score<span class="_ _1f"> </span>ℎ</div><div class="t m0 x5d h1c y177 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x3f h18 y176 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>ℎ</div><div class="t m0 x40 h1c y178 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x5e h18 y176 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x33 h18 y179 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x34 h1c y17a ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x34 h1c y17b ffb fs8 fc0 sc0 ls0 ws0">T</div><div class="t m0 x3a h18 y17c ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x5f h1c y17d ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x33 h18 y17e ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x34 h1c y17f ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x34 h1c y31 ffb fs8 fc0 sc0 ls0 ws0">T</div><div class="t m0 x3a h18 y17e ffb fs4 fc0 sc0 ls0 ws0">Wℎ</div><div class="t m0 x37 h1c y180 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x60 h18 y17e ffb fs4 fc0 sc0 ls0 ws0"> <span class="_ _d"></span>∈<span class="_ _d"></span>ℝ</div><div class="t m0 x33 h18 y181 ffb fs4 fc0 sc0 ls0 ws0">W<span class="_ _7"></span>ℎ</div><div class="t m0 x41 h1c y182 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x36 h18 y181 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>ℎ</div><div class="t m0 x61 h1c y183 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x0 h7 y184 ff3 fs4 fc0 sc0 ls0 ws0">•<span class="_ _b"> </span><span class="ff5">现<span class="_ _2"></span>在<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>有<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>分<span class="_ _5"></span>数<span class="_ _2"></span>的<span class="_ _5"></span>向<span class="_ _2"></span>量<span class="_ _2"></span>，<span class="_ _5"></span>然<span class="_ _2"></span>后<span class="_ _5"></span>可<span class="_ _2"></span>以<span class="_ _2"></span>用<span class="_ _7"> </span><span class="ff4">Bahdanau<span class="_ _d"> </span></span>等<span class="_ _5"></span>人</span></div><div class="t m0 x7 h8 y185 ff5 fs4 fc0 sc0 ls0 ws0">提<span class="_ _2"></span>出<span class="_ _5"></span>的<span class="_ _5"></span>方<span class="_ _5"></span>法<span class="_ _2"></span>来<span class="_ _5"></span>计<span class="_ _2"></span>算<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>上<span class="_ _5"></span>下<span class="_ _5"></span>文<span class="_ _5"></span>向<span class="_ _2"></span>量<span class="_ _5"></span>。<span class="_ _2"></span>首<span class="_ _5"></span>先<span class="_ _5"></span>，<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _5"></span>通<span class="_ _2"></span>过<span class="_ _5"></span>一<span class="_ _5"></span>个</div><div class="t m0 x7 h7 y186 ff4 fs4 fc0 sc0 ls0 ws0">softmax<span class="_ _16"> </span><span class="ff5">层<span class="_ _d"> </span>来<span class="_ _d"> </span>对<span class="_ _d"> </span>分<span class="_ _d"> </span>数<span class="_ _6"> </span>进<span class="_ _d"> </span>行<span class="_ _d"> </span>归<span class="_ _6"> </span>一<span class="_ _d"> </span>化<span class="_ _d"> </span>，<span class="_ _6"> </span>得<span class="_ _d"> </span>到<span class="_ _d"> </span>向<span class="_ _d"> </span>量</span></div><div class="t m0 x4b h18 y187 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x62 h1c y188 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x63 h18 y186 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x29 h18 y189 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x64 h1c y18a ffb fs8 fc0 sc0 ls0 ws0">i,1</div><div class="t m0 x2a h18 y18b ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,</div><div class="t m0 x26 h18 y189 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x2d h1c y18a ffb fs8 fc0 sc0 ls0 ws0">i,n</div><div class="t m0 x5c h18 y18c ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x1b h1c y18d ffb fs8 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x65 h18 y18e ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x3f h18 y18f ffb fs4 fc0 sc0 ls0 ws0">exp score<span class="_ _1f"> </span>ℎ</div><div class="t m0 x36 h1c y190 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x51 h18 y18f ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>ℎ</div><div class="t m0 x66 h1c y191 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x3e h1c y192 ffb fs8 fc0 sc0 ls0 ws0">k=1</div><div class="t m0 x3e h1c y193 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x50 h18 y194 ffb fs4 fc0 sc0 ls0 ws0">exp</div><div class="t m0 x2e h1f y195 ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x67 h18 y194 ffb fs4 fc0 sc0 ls0 ws0">score<span class="_ _1f"> </span>ℎ</div><div class="t m0 x61 h1c y196 ffb fs8 fc0 sc0 ls0 ws0">k</div><div class="t m0 x68 h18 y194 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>ℎ</div><div class="t m0 x46 h1c y197 ffb fs8 fc0 sc0 ls0 ws0">i</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 y198 ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _22"> </span>4:<span class="_ _22"> </span>Example<span class="_ _23"> </span>of<span class="_ _23"> </span>an</span></div><div class="t m0 x12 h1a y199 ffd fs1 fc0 sc0 ls0 ws0">alignment<span class="_ _0"> </span>table<span class="_ _c"> </span><span class="ffa">【<span class="_ _c"> </span>图<span class="_ _21"> </span></span>4<span class="_ _c"> </span><span class="ffa">：<span class="_ _c"> </span>对<span class="_ _c"> </span>齐<span class="_ _c"> </span>表<span class="_ _c"> </span>示</span></div><div class="t m0 x12 h1b y19a ffa fs1 fc0 sc0 ls0 ws0">例】</div><div class="t m0 x12 h19 y19b ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _15"> </span>5:<span class="_ _14"> </span>P<span class="_ _2"></span>erformance<span class="_ _15"> </span>on<span class="_ _14"> </span>l<span class="_ _2"></span>ong</span></div><div class="t m0 x12 h1a y19c ffd fs1 fc0 sc0 ls0 ws0">sentence<span class="_ _3"> </span>o<span class="_ _2"></span>f<span class="_ _3"> </span>differe<span class="_ _2"></span>nt<span class="_ _3"> </span>NMT<span class="_ _4"> </span>models<span class="_ _3"> </span>-</div><div class="t m0 x12 h1a y19d ffd fs1 fc0 sc0 ls0 ws0">image<span class="_ _12"> </span>taken<span class="_ _12"> </span>from<span class="_ _12"> </span>Luong<span class="_ _12"> </span>et<span class="_ _12"> </span>al. <span class="ffa">【<span class="_ _1"> </span>图</span></div><div class="t m0 x12 h1a y19e ffd fs1 fc0 sc0 ls0 ws0">5<span class="_ _5"></span><span class="ffa">：<span class="_ _2"></span>不<span class="_ _5"></span>同<span class="_ _24"> </span></span>NMT<span class="_ _4"> </span><span class="ffa">模<span class="_ _2"></span>型<span class="_ _5"></span>在<span class="_ _5"></span>长<span class="_ _5"></span>句<span class="_ _5"></span>上<span class="_ _2"></span>的<span class="_ _5"></span>表</span></div><div class="t m0 x12 h1a y19f ffa fs1 fc0 sc0 ls0 ws0">现<span class="ffd">-</span>图片来自<span class="_ _14"> </span><span class="ffd">Luon<span class="_ _2"></span>g </span>等人。】</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf8" class="pf w0 h0" data-page-no="8"><div class="pc pc8 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg8.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 w7 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">8</div></div><div class="c x2 y7 w3 he"><div class="t m0 x3f h18 y1a0 ffb fs4 fc0 sc0 ls0 ws0">c</div><div class="t m0 x53 h1c y1a1 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x40 h18 y1a0 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x31 h1c y1a2 ffb fs8 fc0 sc0 ls0 ws0">j=1</div><div class="t m0 x38 h1c y1a3 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x33 h18 y1a0 ffb fs4 fc0 sc0 ls0 ws0">α</div><div class="t m0 x34 h1c y1a1 ffb fs8 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x31 h1f y1a4 ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x4e h18 y1a0 ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x41 h1c y1a1 ffb fs8 fc0 sc0 ls0 ws0">j</div><div class="t m0 x0 h10 y5d ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m0 x7 h8 y5e ff5 fs4 fc0 sc0 ls0 ws0">然后再计算上<span class="_ _2"></span>下文向量，我<span class="_ _2"></span>们可以使<span class="_ _2"></span>用上下文向量<span class="_ _2"></span>和隐藏状</div><div class="t m0 x7 h18 y5f ff5 fs4 fc0 sc0 ls0 ws0">态对解码器的<span class="_ _2"></span>第<span class="_ _4"> </span><span class="ffb">i<span class="_ _4"></span></span>个时间步计算<span class="_ _2"></span>一个新的向量</div><div class="t m0 x3f h21 y1a5 ffb fs1 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x3f h22 y1a6 ffb fsa fc0 sc0 ls0 ws0"></div><div class="t m0 x53 h23 y1a7 ffb fsb fc0 sc0 ls0 ws0">i</div><div class="t m0 x50 h21 y1a5 ffb fs1 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>f<span class="_ _1c"> </span>ℎ</div><div class="t m0 x33 h23 y1a8 ffb fsb fc0 sc0 ls0 ws0">i</div><div class="t m0 x69 h21 y1a5 ffb fs1 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>c</div><div class="t m0 x3a h23 y1a7 ffb fsb fc0 sc0 ls0 ws0">i</div><div class="t m0 x0 h8 y1a9 ff3 fs4 fc0 sc0 ls0 ws0">•<span class="_ _b"> </span><span class="ff5">最<span class="_ _2"></span>后<span class="_ _2"></span>一<span class="_ _5"></span>步<span class="_ _2"></span>是<span class="_ _2"></span>使<span class="_ _2"></span>用</span></div><div class="t m0 x6a h18 y1aa ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x6a h1f y1ab ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x5 h1c y1ac ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x2f h8 y1a9 ff5 fs4 fc0 sc0 ls0 ws0">来<span class="_ _2"></span>对<span class="_ _2"></span>解<span class="_ _5"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>进<span class="_ _2"></span>行<span class="_ _2"></span>最<span class="_ _5"></span>终<span class="_ _2"></span>预<span class="_ _2"></span>测<span class="_ _2"></span>。<span class="_ _5"></span>为<span class="_ _2"></span>了<span class="_ _2"></span>解<span class="_ _2"></span>决<span class="_ _5"></span>覆</div><div class="t m0 x7 h7 y1ad ff5 fs4 fc0 sc0 ls0 ws0">盖<span class="_ _5"></span>问<span class="_ _5"></span>题<span class="_ _5"></span>，<span class="_ _e"></span><span class="ff4">Luong<span class="_ _6"> </span></span>等<span class="_ _5"></span>人<span class="_ _5"></span>使<span class="_ _e"></span>用<span class="_ _5"></span>了<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _0"> </span><span class="ff4">input-<span class="_ _2"></span>feeding<span class="_ _6"> </span></span>方<span class="_ _e"></span>法<span class="_ _5"></span>。<span class="_ _5"></span>注</div><div class="t m0 x7 h8 y1ae ff5 fs4 fc0 sc0 ls0 ws0">意<span class="_ _5"></span>力<span class="_ _e"></span>加<span class="_ _5"></span>权<span class="_ _e"></span>的<span class="_ _5"></span>向<span class="_ _e"></span>量</div><div class="t m0 x4c h18 y1af ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x4c h1f y1b0 ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x3d h1c y1b1 ffb fs8 fc0 sc0 ls0 ws0">i</div><div class="t m0 x5d h8 y1ae ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _5"></span>作<span class="_ _e"></span>为<span class="_ _5"></span>解<span class="_ _e"></span>码<span class="_ _5"></span>器<span class="_ _e"></span>的<span class="_ _5"></span>输<span class="_ _e"></span>入<span class="_ _5"></span>，<span class="_ _e"></span>而<span class="_ _e"></span>不<span class="_ _5"></span>是<span class="_ _e"></span>最<span class="_ _5"></span>终<span class="_ _e"></span>预</div><div class="t m0 x7 h7 y1b2 ff5 fs4 fc0 sc0 ls0 ws0">测<span class="_ _2"></span>。<span class="_ _5"></span>这<span class="_ _2"></span>类<span class="_ _2"></span>似<span class="_ _5"></span>于<span class="_ _6"> </span><span class="ff4">Bahdan<span class="_ _2"></span>au<span class="_ _d"> </span></span>等<span class="_ _2"></span>人<span class="_ _5"></span>提<span class="_ _2"></span>出<span class="_ _5"></span>的<span class="_ _2"></span>方<span class="_ _2"></span>法<span class="_ _5"></span>，<span class="_ _2"></span>他<span class="_ _5"></span>们<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _5"></span>上<span class="_ _2"></span>下</div><div class="t m0 x7 h8 y1b3 ff5 fs4 fc0 sc0 ls0 ws0">文向量来计算<span class="_ _2"></span>解码器的隐藏<span class="_ _2"></span>向量。</div><div class="t m0 x0 h7 y1b4 ff4 fs4 fc0 sc0 ls0 ws0">Local<span class="_ _d"> </span>attent<span class="_ _2"></span>ion<span class="_ _d"> </span><span class="ff5">：<span class="_ _2"></span>该<span class="_ _5"></span>模<span class="_ _2"></span>型<span class="_ _2"></span>预<span class="_ _2"></span>测<span class="_ _5"></span>输<span class="_ _2"></span>入<span class="_ _5"></span>序<span class="_ _2"></span>列<span class="_ _5"></span>中<span class="_ _2"></span>的<span class="_ _2"></span>对<span class="_ _2"></span>齐<span class="_ _5"></span>位<span class="_ _2"></span>置<span class="_ _2"></span>。<span class="_ _5"></span>然<span class="_ _2"></span>后<span class="_ _5"></span>，</span></div><div class="t m0 x0 h8 y1b5 ff5 fs4 fc0 sc0 ls0 ws0">它使用以此位<span class="_ _2"></span>置为中心的窗<span class="_ _2"></span>口来计算<span class="_ _2"></span>上下文向量。<span class="_ _2"></span>这个计算耗费</div><div class="t m0 x0 h8 y1b6 ff5 fs4 fc0 sc0 ls0 ws0">的计算资源是<span class="_ _2"></span>恒定的，不会<span class="_ _2"></span>随着句子<span class="_ _2"></span>的长度而暴增<span class="_ _2"></span>。</div><div class="t m0 x0 h8 y1b7 ff5 fs4 fc0 sc0 ls0 ws0">有很多方法来<span class="_ _2"></span>使用注意力机<span class="_ _2"></span>制。</div><div class="t m0 x0 h11 y1b8 ff9 fs0 fc0 sc0 ls0 ws0">3.2<span class="_ _d"> </span>Google’s<span class="_ _d"> </span>new<span class="_ _4"> </span>N<span class="_ _2"></span>MT</div><div class="t m0 x0 h7 y1b9 ff5 fs4 fc0 sc0 ls0 ws0">简<span class="_ _2"></span>而<span class="_ _2"></span>言<span class="_ _2"></span>之<span class="_ _2"></span>，<span class="_ _2"></span><span class="ff4">Goo<span class="_ _2"></span>gle<span class="_ _d"> </span></span>最<span class="_ _2"></span>近<span class="_ _2"></span>通<span class="_ _5"></span>过<span class="_ _2"></span>提<span class="_ _2"></span>升<span class="_ _2"></span>自<span class="_ _2"></span>己<span class="_ _5"></span>的<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>系<span class="_ _2"></span>统<span class="_ _5"></span>为<span class="_ _d"> </span><span class="ff4">NMT<span class="_ _d"> </span></span>做<span class="_ _5"></span>出</div><div class="t m0 x0 h8 y1ba ff5 fs4 fc0 sc0 ls0 ws0">了重大突破。<span class="_ _2"></span>不是为他们支<span class="_ _2"></span>持翻译的<span class="_ _2"></span>每一种语言维<span class="_ _2"></span>护一个完整的</div><div class="t m0 x0 h7 y1bb ff4 fs4 fc0 sc0 ls0 ws0">Seq2Seq<span class="_ _d"> </span><span class="ff5">模<span class="_ _2"></span>型</span>——<span class="_ _2"></span><span class="ff5">每<span class="_ _2"></span>种<span class="_ _2"></span>语言<span class="_ _2"></span>必<span class="_ _2"></span>须<span class="_ _2"></span>单独<span class="_ _2"></span>进<span class="_ _2"></span>行<span class="_ _2"></span>训<span class="_ _2"></span>练，<span class="_ _2"></span>而<span class="_ _2"></span>是<span class="_ _2"></span>构建<span class="_ _2"></span>一<span class="_ _2"></span>个</span></div><div class="t m0 x0 h8 y1bc ff5 fs4 fc0 sc0 ls0 ws0">单独系统可以<span class="_ _2"></span>翻译任意两种<span class="_ _2"></span>语言，这<span class="_ _2"></span>在数据和计算<span class="_ _2"></span>时间方面都是</div><div class="t m0 x0 h7 y1bd ff5 fs4 fc0 sc0 ls0 ws0">一个巨大<span class="_ _2"></span>的成就<span class="_ _2"></span>。这是一<span class="_ _2"></span>个<span class="_ _4"> </span><span class="ff4">Seq2Seq<span class="_ _4"> </span></span>模<span class="_ _2"></span>型，它<span class="_ _2"></span>接受一个<span class="_ _2"></span>单词序</div><div class="t m0 x0 h8 y1be ff5 fs4 fc0 sc0 ls0 ws0">列和一个指定<span class="_ _2"></span>要翻译的语言<span class="_ _2"></span>的符号作<span class="_ _2"></span>为输入。该模<span class="_ _2"></span>型使用共享参</div><div class="t m0 x0 h8 y1bf ff5 fs4 fc0 sc0 ls0 ws0">数来翻译为任<span class="_ _2"></span>何目标语言。</div><div class="t m0 x0 h7 y1c0 ff5 fs4 fc0 sc0 ls0 ws0">这个<span class="_ _2"></span>新<span class="_ _2"></span>的<span class="_ _2"></span>的多<span class="_ _2"></span>语言<span class="_ _2"></span>模<span class="_ _2"></span>式<span class="_ _2"></span>不仅<span class="_ _2"></span>改<span class="_ _2"></span>善<span class="_ _2"></span>了他<span class="_ _2"></span>们<span class="_ _2"></span>的<span class="_ _2"></span>翻译<span class="_ _2"></span>表现<span class="_ _2"></span>，<span class="_ _2"></span>还<span class="_ _2"></span>能够<span class="_ _2"></span><span class="ff4">“<span class="_ _2"></span></span>零</div><div class="t m0 x0 h7 y1c1 ff5 fs4 fc0 sc0 ls0 ws0">数据<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="ff4">”<span class="_ _2"></span></span>，<span class="_ _2"></span>即使<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>没有<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>的训<span class="_ _2"></span>练<span class="_ _2"></span>数据<span class="_ _2"></span>。我<span class="_ _2"></span>们<span class="_ _2"></span>也<span class="_ _2"></span>可<span class="_ _2"></span>以在<span class="_ _2"></span>两<span class="_ _2"></span>种</div><div class="t m0 x0 h7 y1c2 ff5 fs4 fc0 sc0 ls0 ws0">语言<span class="_ _2"></span>之<span class="_ _2"></span>间<span class="_ _2"></span>进<span class="_ _2"></span>行<span class="_ _2"></span>翻译<span class="_ _2"></span>。<span class="_ _2"></span>例<span class="_ _2"></span>如<span class="_ _2"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们如<span class="_ _2"></span>果<span class="_ _2"></span>仅<span class="_ _2"></span>有<span class="_ _2"></span>日语<span class="_ _2"></span><span class="ff4">-<span class="_ _2"></span></span>英<span class="_ _2"></span>语<span class="_ _2"></span>的<span class="_ _2"></span>翻<span class="_ _2"></span>译数<span class="_ _2"></span>据</div><div class="t m0 x0 h7 y1c3 ff5 fs4 fc0 sc0 ls0 ws0">和韩语<span class="ff4">-</span>英<span class="_ _2"></span>语的翻译数<span class="_ _2"></span>据，<span class="ff4">Goog<span class="_ _2"></span>le<span class="_ _4"> </span></span>团队发现多<span class="_ _2"></span>语言<span class="_ _4"> </span><span class="ff4">NMT<span class="_ _4"> </span></span>系<span class="_ _2"></span>统对</div><div class="t m0 x0 h7 y1c4 ff5 fs4 fc0 sc0 ls0 ws0">这些<span class="_ _2"></span>数<span class="_ _2"></span>据<span class="_ _2"></span>进<span class="_ _2"></span>行<span class="_ _2"></span>训练<span class="_ _2"></span>后<span class="_ _2"></span>的<span class="_ _2"></span>实<span class="_ _2"></span>际<span class="_ _2"></span>上<span class="_ _2"></span>可以<span class="_ _2"></span>产<span class="_ _2"></span>生<span class="_ _2"></span>合<span class="_ _2"></span>理的<span class="_ _2"></span>日<span class="_ _2"></span>语<span class="_ _2"></span><span class="ff4">-<span class="_ _2"></span></span>韩<span class="_ _2"></span>语<span class="_ _2"></span>翻译<span class="_ _2"></span>。</div><div class="t m0 x0 h8 y1c5 ff5 fs4 fc0 sc0 ls0 ws0">这<span class="_ _2"></span>个<span class="_ _5"></span>发<span class="_ _5"></span>现<span class="_ _2"></span>的<span class="_ _5"></span>重<span class="_ _2"></span>要<span class="_ _5"></span>意<span class="_ _2"></span>义<span class="_ _5"></span>在<span class="_ _5"></span>于<span class="_ _2"></span>，<span class="_ _2"></span>解<span class="_ _5"></span>码<span class="_ _5"></span>过<span class="_ _2"></span>程<span class="_ _5"></span>的<span class="_ _5"></span>部<span class="_ _2"></span>分<span class="_ _2"></span>并<span class="_ _5"></span>不<span class="_ _5"></span>是<span class="_ _2"></span>特<span class="_ _5"></span>定<span class="_ _5"></span>于<span class="_ _2"></span>语<span class="_ _2"></span>言</div><div class="t m0 x0 h8 y1c6 ff5 fs4 fc0 sc0 ls0 ws0">的<span class="_ _2"></span>，<span class="_ _2"></span>而<span class="_ _5"></span>且<span class="_ _2"></span>该<span class="_ _2"></span>模<span class="_ _2"></span>型<span class="_ _5"></span>实<span class="_ _2"></span>际<span class="_ _2"></span>上<span class="_ _2"></span>维<span class="_ _2"></span>持<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>了<span class="_ _6"> </span>独<span class="_ _2"></span>立<span class="_ _5"></span>于<span class="_ _2"></span>所<span class="_ _2"></span>涉<span class="_ _2"></span>及<span class="_ _5"></span>的<span class="_ _2"></span>实<span class="_ _2"></span>际<span class="_ _2"></span>语<span class="_ _2"></span>言<span class="_ _5"></span>的</div><div class="t m0 x0 h7 y1c7 ff5 fs4 fc0 sc0 ls0 ws0">输入<span class="ff4">/</span>输出句子<span class="_ _2"></span>的内部表<span class="_ _2"></span>示<span class="_ _4"> </span>。</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 yb2 ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _0"> </span>6:<span class="_ _0"> </span>Example<span class="_ _0"> </span>of<span class="_ _7"> </span>Google<span class="_ _2"></span>’s</span></div><div class="t m0 x12 h1a y1c8 ffd fs1 fc0 sc0 ls0 ws0">system<span class="ffa">【图<span class="_ _14"> </span></span>6<span class="ffa">：谷<span class="_ _2"></span>歌系统示例<span class="_ _2"></span>】</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf9" class="pf w0 h0" data-page-no="9"><div class="pc pc9 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg9.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x1 y3 wf h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">9</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h11 y118 ff9 fs0 fc0 sc0 ls0 ws0">3.3<span class="_ _d"> </span>More<span class="_ _d"> </span>advanced<span class="_ _d"> </span>papers<span class="_ _d"> </span>using<span class="_ _d"> </span>attention</div><div class="t m0 x0 h10 y1c9 ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m1 x7 h24 y119 ff4 fsc fc0 sc0 ls0 ws0">Show,<span class="_ _25"> </span>Attend<span class="_ _25"> </span>and<span class="_ _25"> </span>Tell:<span class="_ _22"> </span>Neural<span class="_ _25"> </span>Image<span class="_ _25"> </span>Caption</div><div class="t m1 x7 h24 y11a ff4 fsc fc0 sc0 ls0 ws0">Generation<span class="_ _d"> </span>with<span class="_ _4"> </span>Visual<span class="_ _d"> </span>Attention</div><div class="t m0 x7 h25 y1ca ff10 fs4 fc0 sc0 ls0 ws0"></div><div class="t m0 x55 h7 y1cb ff5 fs4 fc0 sc0 ls0 ws0">这篇论文是提<span class="_ _2"></span>出单词<span class="ff4">/</span>图像对齐<span class="_ _2"></span>的方法</div><div class="t m0 x0 h10 y1cc ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m1 x7 h24 y1cd ff4 fsc fc0 sc0 ls0 ws0">Modeling<span class="_ _4"> </span>Cove<span class="_ _2"></span>rage<span class="_ _d"> </span>for<span class="_ _4"> </span>Neura<span class="_ _2"></span>l<span class="_ _4"> </span>Machine<span class="_ _d"> </span>Translation</div><div class="t m0 x7 h25 y1ce ff10 fs4 fc0 sc0 ls0 ws0"></div><div class="t m0 x55 h8 y1cf ff5 fs4 fc0 sc0 ls0 ws0">他<span class="_ _2"></span>们<span class="_ _2"></span>的<span class="_ _2"></span>模<span class="_ _2"></span>型<span class="_ _2"></span>使<span class="_ _5"></span>用<span class="_ _2"></span>覆<span class="_ _2"></span>盖<span class="_ _2"></span>向<span class="_ _2"></span>量<span class="_ _2"></span>，<span class="_ _5"></span>考<span class="_ _2"></span>虑到<span class="_ _5"></span>使<span class="_ _2"></span>用<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>力<span class="_ _2"></span>的<span class="_ _5"></span>历<span class="_ _2"></span>史<span class="_ _2"></span>以</div><div class="t m0 x2c h8 y122 ff5 fs4 fc0 sc0 ls0 ws0">帮助计算将来<span class="_ _2"></span>的注意力。</div><div class="t m0 x0 h10 yd7 ff3 fs4 fc0 sc0 ls0 ws0">•</div><div class="t m1 x7 h24 yd7 ff4 fsc fc0 sc0 ls0 ws0">Incorporating<span class="_ _13"> </span>Structura<span class="_ _2"></span>l<span class="_ _13"> </span>Alignment<span class="_ _13"> </span>Biases<span class="_ _13"> </span>into<span class="_ _13"> </span>an</div><div class="t m1 x7 h24 yd8 ff4 fsc fc0 sc0 ls0 ws0">Attentional<span class="_ _d"> </span>Neural<span class="_ _4"> </span>Tran<span class="_ _2"></span>slation<span class="_ _d"> </span>Model</div><div class="t m0 x7 h25 y1d0 ff10 fs4 fc0 sc0 ls0 ws0"></div><div class="t m0 x55 h8 y66 ff5 fs4 fc0 sc0 ls0 ws0">这<span class="_ _2"></span>篇<span class="_ _2"></span>论<span class="_ _2"></span>文<span class="_ _2"></span>通<span class="_ _2"></span>过<span class="_ _5"></span>引<span class="_ _2"></span>入<span class="_ _2"></span>其<span class="_ _2"></span>他<span class="_ _2"></span>传<span class="_ _2"></span>统<span class="_ _5"></span>语<span class="_ _2"></span>言学<span class="_ _5"></span>的<span class="_ _2"></span>思<span class="_ _2"></span>想<span class="_ _2"></span>来<span class="_ _2"></span>提<span class="_ _2"></span>高<span class="_ _5"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>力</div><div class="t m0 x2c h8 y67 ff5 fs4 fc0 sc0 ls0 ws0">表现。</div><div class="t m0 x0 hf y1d1 ff8 fs3 fc0 sc0 ls0 ws0">4.<span class="_ _1c"> </span>Sequenc<span class="_ _9"></span>e<span class="_ _4"> </span>model<span class="_ _4"> </span>decoders</div><div class="t m0 x0 h8 y1d2 ff5 fs4 fc0 sc0 ls0 ws0">机器翻译的另<span class="_ _2"></span>一种方法来自<span class="_ _2"></span>统计机器<span class="_ _2"></span>翻译。考虑一<span class="_ _2"></span>个计算给定原</div><div class="t m0 x0 h8 y1d3 ff5 fs4 fc0 sc0 ls0 ws0">始句子</div><div class="t m0 x19 h18 y1d4 ffb fs4 fc0 sc0 ls0 ws0">s</div><div class="t m0 x6b h8 y1d3 ff5 fs4 fc0 sc0 ls0 ws0">的翻译</div><div class="t m0 x6c h18 y1d4 ffb fs4 fc0 sc0 ls0 ws0">s</div><div class="t m0 x6d h8 y1d3 ff5 fs4 fc0 sc0 ls0 ws0">的概率模<span class="_ _2"></span>型</div><div class="t m0 x5e h18 y1d4 ffb fs4 fc0 sc0 ls0 ws0">P(s|s)</div><div class="t m0 x4e h8 y1d3 ff5 fs4 fc0 sc0 ls0 ws0">。我们想<span class="_ _2"></span>从这<span class="_ _2"></span>个概率模<span class="_ _2"></span>型中</div><div class="t m0 x0 h18 y1d5 ff5 fs4 fc0 sc0 ls0 ws0">选择概率最高<span class="_ _2"></span>的翻译<span class="_ _4"> </span><span class="ffb">s<span class="_ _3"></span>∗<span class="_ _4"></span></span>。换而言之，我们<span class="_ _2"></span>希望</div><div class="t m0 x5 h18 y1d6 ffb fs4 fc0 sc0 ls0 ws0">s<span class="_ _3"></span>∗=<span class="_ _4"></span>arg<span class="_ _2"></span>max</div><div class="t m0 x32 h1c y1d7 ffb fs8 fc0 sc0 ls0 ws0">s</div><div class="t m0 x6e h18 y1d6 ffb fs4 fc0 sc0 ls0 ws0">P(s|s)</div><div class="t m0 x0 h8 y1d8 ff5 fs4 fc0 sc0 ls0 ws0">因为搜索的空<span class="_ _2"></span>间可能会非常<span class="_ _2"></span>的大，所<span class="_ _2"></span>以我们需要缩<span class="_ _2"></span>小它的大小。</div><div class="t m0 x0 h8 y1d9 ff5 fs4 fc0 sc0 ls0 ws0">以下是序列模<span class="_ _2"></span>型解码器的列<span class="_ _2"></span>表（包含<span class="_ _2"></span>好的和不好的<span class="_ _2"></span>）。</div><div class="t m0 x0 h7 y1da ff4 fs4 fc0 sc0 ls0 ws0">Exhaustive<span class="_ _d"> </span>search<span class="_ _4"> </span><span class="ff5">：<span class="_ _2"></span>这是<span class="_ _2"></span>最<span class="_ _2"></span>简<span class="_ _2"></span>单的<span class="_ _2"></span>思路<span class="_ _2"></span>。<span class="_ _2"></span>对<span class="_ _2"></span>每个<span class="_ _2"></span>可<span class="_ _2"></span>能的<span class="_ _2"></span>序<span class="_ _2"></span>列计</span></div><div class="t m0 x0 h8 y1db ff5 fs4 fc0 sc0 ls0 ws0">算其概率，然<span class="_ _2"></span>后我们从中选<span class="_ _2"></span>择概率最<span class="_ _2"></span>高的序列。但<span class="_ _2"></span>是，搜索空间</div><div class="t m0 x0 h8 y1dc ff5 fs4 fc0 sc0 ls0 ws0">对输入的大小<span class="_ _2"></span>是呈指数级增<span class="_ _2"></span>长的，所<span class="_ _2"></span>以这个方法在<span class="_ _2"></span>很难扩展到大</div><div class="t m0 x0 h7 y1dd ff5 fs4 fc0 sc0 ls0 ws0">规模输出的情<span class="_ _2"></span>况。在这个情<span class="_ _2"></span>况的解码<span class="_ _2"></span>过程是<span class="_ _4"> </span><span class="ff4">NP<span class="_ _4"> </span></span>难度的问题。</div><div class="t m0 x0 h18 y1de ff4 fs4 fc0 sc0 ls0 ws0">Ancestral<span class="_ _4"> </span>sampl<span class="_ _2"></span>ing<span class="_ _4"> </span><span class="ff5">：在<span class="_ _2"></span>时间<span class="_ _2"></span>步<span class="_ _4"> </span><span class="ffb">t<span class="_ _4"></span></span>，我们<span class="_ _2"></span>计算<span class="_ _2"></span>基于<span class="_ _2"></span>时间步<span class="_ _4"> </span><span class="ffb">t<span class="_ _4"></span></span>前<span class="_ _2"></span>面</span></div><div class="t m0 x0 h18 y1df ff5 fs4 fc0 sc0 ls0 ws0">的单词的条件<span class="_ _2"></span>概率分布，并<span class="_ _2"></span>从该分布<span class="_ _2"></span>中进行抽样得<span class="_ _2"></span>到<span class="_ _4"> </span><span class="ffb">x</span></div><div class="t m0 x6f h1c y1e0 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x59 h8 y1df ff5 fs4 fc0 sc0 ls0 ws0">。</div><div class="t m0 x5 h18 y1e1 ffb fs4 fc0 sc0 ls0 ws0">x</div><div class="t m0 x3d h1c y1e2 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x30 h18 y1e1 ffb fs4 fc0 sc0 ls0 ws0">∼<span class="_ _4"></span>ℙ<span class="_ _12"> </span>x</div><div class="t m0 x38 h1c y1e2 ffb fs8 fc0 sc0 ls0 ws0">l</div><div class="t m0 x70 h18 y1e1 ffb fs4 fc0 sc0 ls0 ws0">|x</div><div class="t m0 x33 h1c y1e2 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x71 h18 y1e3 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,</div><div class="t m0 x41 h18 y1e1 ffb fs4 fc0 sc0 ls0 ws0">x</div><div class="t m0 x51 h1c y1e2 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x0 h8 y1e4 ff5 fs4 fc0 sc0 ls0 ws0">理论上这个技<span class="_ _2"></span>术是有效的渐<span class="_ _2"></span>进精确的<span class="_ _2"></span>。然而在实际<span class="_ _2"></span>中，这个方法</div><div class="t m0 x0 h8 y1e5 ff5 fs4 fc0 sc0 ls0 ws0">的表现很差和<span class="_ _2"></span>会出现高方差<span class="_ _2"></span>。</div><div class="t m0 x0 h7 y1e6 ff4 fs4 fc0 sc0 ls0 ws0">Greedy<span class="_ _d"> </span>Search<span class="_ _d"> </span><span class="ff5">：<span class="_ _5"></span>在<span class="_ _2"></span>每<span class="_ _2"></span>个<span class="_ _2"></span>时<span class="_ _2"></span>间<span class="_ _5"></span>步<span class="_ _2"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _5"></span>选<span class="_ _2"></span>择<span class="_ _2"></span>最<span class="_ _2"></span>可<span class="_ _2"></span>能<span class="_ _5"></span>的<span class="_ _2"></span>单<span class="_ _2"></span>词<span class="_ _2"></span>，<span class="_ _5"></span>换</span></div><div class="t m0 x0 h8 y1e7 ff5 fs4 fc0 sc0 ls0 ws0">而言之</div><div class="t m0 x72 h18 y1e8 ffb fs4 fc0 sc0 ls0 ws0">x</div><div class="t m0 x73 h1c y1e9 ffb fs8 fc0 sc0 ls0 ws0">l</div><div class="t m0 x65 h18 y1e8 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x2e h18 y1ea ffb fs4 fc0 sc0 ls0 ws0">argmax</div><div class="t m0 x74 h1c y1e9 ffb fs8 fc0 sc0 ls0 ws0">x</div><div class="t m0 x38 h26 y1eb ffb fsd fc0 sc0 ls0 ws0">l</div><div class="t m0 x70 h18 y1ea ffb fs4 fc0 sc0 ls0 ws0">ℙ<span class="_ _12"> </span>x</div><div class="t m0 x69 h1f y1ec ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x75 h1c y1ed ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x3a h18 y1ea ffb fs4 fc0 sc0 ls0 ws0">|x</div><div class="t m0 x41 h1c y1ed ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x51 h18 y1ea ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _1"></span>x</div><div class="t m0 x76 h1c y1ed ffb fs8 fc0 sc0 ls0 ws0">n</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfa" class="pf w0 h0" data-page-no="a"><div class="pc pca w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bga.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w10 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">10</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h8 y5b ff5 fs4 fc0 sc0 ls0 ws0">这种技术是有<span class="_ _2"></span>效的，但是它<span class="_ _2"></span>探索了一<span class="_ _2"></span>小部分的搜索<span class="_ _2"></span>空间，如果我</div><div class="t m0 x0 h8 y5c ff5 fs4 fc0 sc0 ls0 ws0">们在一个时间<span class="_ _2"></span>步中出现一个<span class="_ _2"></span>错误，那<span class="_ _2"></span>么剩下的句子<span class="_ _2"></span>生成可能会受</div><div class="t m0 x0 h8 y9f ff5 fs4 fc0 sc0 ls0 ws0">到很大的影响<span class="_ _2"></span>。</div><div class="t m0 x0 h7 y1ee ff4 fs4 fc0 sc0 ls0 ws0">Beam<span class="_ _4"> </span>search<span class="_ _4"> </span><span class="ff5">：这个方法是<span class="_ _2"></span>在每个时<span class="_ _2"></span>间步保持着<span class="_ _4"> </span></span>K<span class="_ _4"> </span><span class="ff5">个候<span class="_ _2"></span>选单词</span></div><div class="t m0 x78 h18 y1ef ffb fs4 fc0 sc0 ls0 ws0">ℋ</div><div class="t m0 x1b h1c y1f0 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x1c h18 y1ef ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _22"> </span>x</div><div class="t m0 x30 h1c y1f1 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x30 h1c y1f2 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x53 h18 y1ef ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _1"></span>x</div><div class="t m0 x4d h1c y1f0 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x4d h1c y1f3 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x32 h18 y1ef ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…, x</div><div class="t m0 x36 h1c y1f1 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x36 h1c y1f2 ffb fs8 fc0 sc0 ls0 ws0">K</div><div class="t m0 x60 h18 y1ef ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _1"></span>x</div><div class="t m0 x54 h1c y1f0 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x54 h1c y1f3 ffb fs8 fc0 sc0 ls0 ws0">K</div><div class="t m0 x0 h8 y1f4 ff5 fs4 fc0 sc0 ls0 ws0">通过<span class="_ _2"></span>扩<span class="_ _2"></span>展</div><div class="t m0 x79 h18 y1f5 ffb fs4 fc0 sc0 ls0 ws0">ℋ</div><div class="t m0 x26 h1c y1f6 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x2d h7 y1f4 ff5 fs4 fc0 sc0 ls0 ws0">并保<span class="_ _2"></span>持<span class="_ _d"> </span><span class="ff4">K<span class="_ _d"> </span></span>个<span class="_ _2"></span>最好<span class="_ _2"></span>的<span class="_ _2"></span>候<span class="_ _2"></span>选<span class="_ _2"></span>单词<span class="_ _2"></span>来<span class="_ _2"></span>计<span class="_ _2"></span>算</div><div class="t m0 x49 h18 y1f5 ffb fs4 fc0 sc0 ls0 ws0">ℋ</div><div class="t m0 x7a h1c y1f6 ffb fs8 fc0 sc0 ls0 ws0">t+1</div><div class="t m0 xe h8 y1f4 ff5 fs4 fc0 sc0 ls0 ws0">。换<span class="_ _2"></span>而<span class="_ _2"></span>言</div><div class="t m0 x0 h7 y1f7 ff5 fs4 fc0 sc0 ls0 ws0">之，我们在下<span class="_ _2"></span>面的集合中选<span class="_ _2"></span>择最好的<span class="_ _4"> </span><span class="ff4">K<span class="_ _4"> </span></span>个序列</div><div class="t m0 x3d h18 y1f8 ffb fs4 fc0 sc0 ls0 ws0">ℋ</div><div class="t m0 x2f h1f y1e ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x7b h1c y1f9 ffb fs8 fc0 sc0 ls0 ws0">t+1</div><div class="t m0 x4f h18 y1fa ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x70 h1c y1fb ffb fs8 fc0 sc0 ls0 ws0">k=1</div><div class="t m0 x32 h1c y1fc ffb fs8 fc0 sc0 ls0 ws0">K</div><div class="t m0 x6e h18 y1f8 ffb fs4 fc0 sc0 ls0 ws0">ℋ</div><div class="t m0 x5f h1c y1fd ffb fs8 fc0 sc0 ls0 ws0">t+1</div><div class="t m0 x5f h1c y1fe ffb fs8 fc0 sc0 ls0 ws0">k</div><div class="t m0 x35 h27 y1ff ffb fse fc0 sc0 ls0 ws0"></div><div class="t m0 x70 h1f y1fa ffb fs9 fc0 sc0 ls0 ws0"></div><div class="t m0 x26 h18 ybe ffb fs4 fc0 sc0 ls0 ws0">ℋ</div><div class="t m0 x3c h1c y200 ffb fs8 fc0 sc0 ls0 ws0">t+1</div><div class="t m0 x3c h1c y201 ffb fs8 fc0 sc0 ls0 ws0">k</div><div class="t m0 x7c h27 y68 ffb fse fc0 sc0 ls0 ws0"></div><div class="t m0 x5c h18 ybe ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _22"> </span>x</div><div class="t m0 x5 h1c y200 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x5 h1c y201 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x3d h18 ybe ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _c"></span>x</div><div class="t m0 x7d h1c y202 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x7d h1c y203 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x4f h18 ybe ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>v</div><div class="t m0 x38 h1c y202 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x7e h18 ybe ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…, x</div><div class="t m0 x51 h1c y200 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x51 h1c y204 ffb fs8 fc0 sc0 ls0 ws0">K</div><div class="t m0 x7f h18 ybe ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>…,<span class="_ _1"></span>x</div><div class="t m0 x80 h1c y202 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x80 h1c y203 ffb fs8 fc0 sc0 ls0 ws0">K</div><div class="t m0 x6 h18 ybe ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>v</div><div class="t m0 xb h1c y202 ffb fs8 fc0 sc0 ls0 ws0">|V|</div><div class="t m0 x0 h7 y205 ff5 fs4 fc0 sc0 ls0 ws0">随<span class="_ _2"></span>着<span class="_ _2"></span>增<span class="_ _5"></span>加<span class="_ _6"> </span><span class="ff4">K<span class="_ _d"> </span></span>的<span class="_ _2"></span>增<span class="_ _2"></span>加<span class="_ _5"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>获<span class="_ _5"></span>得<span class="_ _2"></span>了<span class="_ _5"></span>准<span class="_ _2"></span>确<span class="_ _2"></span>率<span class="_ _2"></span>和<span class="_ _5"></span>渐<span class="_ _2"></span>近<span class="_ _2"></span>地<span class="_ _2"></span>精<span class="_ _5"></span>确<span class="_ _2"></span>。<span class="_ _2"></span>然<span class="_ _2"></span>而<span class="_ _5"></span>，</div><div class="t m0 x0 h7 y206 ff5 fs4 fc0 sc0 ls0 ws0">提高并不具<span class="_ _2"></span>有单调<span class="_ _2"></span>性，所以我<span class="_ _2"></span>们要设<span class="_ _2"></span>置一个<span class="_ _4"> </span><span class="ff4">K</span>，<span class="_ _2"></span>既要考虑合<span class="_ _2"></span>理性</div><div class="t m0 x0 h7 y207 ff5 fs4 fc0 sc0 ls0 ws0">能<span class="_ _5"></span>又<span class="_ _5"></span>要<span class="_ _5"></span>考<span class="_ _5"></span>虑<span class="_ _5"></span>计<span class="_ _2"></span>算<span class="_ _5"></span>效<span class="_ _5"></span>率<span class="_ _5"></span>。<span class="_ _5"></span>正<span class="_ _5"></span>因<span class="_ _5"></span>为<span class="_ _5"></span>如<span class="_ _5"></span>此<span class="_ _5"></span>，<span class="_ _5"></span><span class="ff4">beam<span class="_ _6"> </span>search<span class="_ _6"> </span></span>是<span class="_ _5"></span>在<span class="_ _0"> </span><span class="ff4">NMT</span></div><div class="t m0 x0 h8 y208 ff5 fs4 fc0 sc0 ls0 ws0">中最常见的方<span class="_ _2"></span>法。</div><div class="t m0 x0 hf y209 ff8 fs3 fc0 sc0 ls0 ws0">5.<span class="_ _20"> </span>Evaluation<span class="_ _4"> </span>of<span class="_ _4"> </span>Machine<span class="_ _3"> </span>Translation<span class="_ _4"> </span>Systems</div><div class="t m0 x0 h8 y20a ff5 fs4 fc0 sc0 ls0 ws0">现在我们知道<span class="_ _2"></span>有关机器翻译<span class="_ _2"></span>系统的基<span class="_ _2"></span>础知识，我们<span class="_ _2"></span>将讨论一些评</div><div class="t m0 x0 h8 y20b ff5 fs4 fc0 sc0 ls0 ws0">估<span class="_ _2"></span>这<span class="_ _5"></span>些<span class="_ _5"></span>模<span class="_ _2"></span>型<span class="_ _5"></span>的<span class="_ _2"></span>方<span class="_ _5"></span>法<span class="_ _2"></span>。<span class="_ _5"></span>评<span class="_ _5"></span>估<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _5"></span>质<span class="_ _5"></span>量<span class="_ _2"></span>是<span class="_ _5"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>非<span class="_ _2"></span>常<span class="_ _5"></span>棘<span class="_ _5"></span>手<span class="_ _2"></span>和<span class="_ _5"></span>主<span class="_ _5"></span>观<span class="_ _2"></span>的<span class="_ _2"></span>任</div><div class="t m0 x0 h8 y20c ff5 fs4 fc0 sc0 ls0 ws0">务。在现实生<span class="_ _2"></span>活中，如果您<span class="_ _2"></span>给十个不<span class="_ _2"></span>同的翻译者提<span class="_ _2"></span>供一段相同的</div><div class="t m0 x0 h8 y20d ff5 fs4 fc0 sc0 ls0 ws0">文字，您将获<span class="_ _2"></span>得十个不同的<span class="_ _2"></span>翻译结果<span class="_ _2"></span>。翻译在实践<span class="_ _2"></span>中是不完美和</div><div class="t m0 x0 h8 yca ff5 fs4 fc0 sc0 ls0 ws0">有噪声的。他<span class="_ _2"></span>们关注不同的<span class="_ _2"></span>信息，强<span class="_ _2"></span>调不同的含义<span class="_ _2"></span>。一种翻译可</div><div class="t m0 x0 h8 ycb ff5 fs4 fc0 sc0 ls0 ws0">以保存隐喻和<span class="_ _2"></span>长期思想的完<span class="_ _2"></span>整性，而<span class="_ _2"></span>而另一种翻译<span class="_ _2"></span>可以更忠实地</div><div class="t m0 x0 h8 ycc ff5 fs4 fc0 sc0 ls0 ws0">重<span class="_ _2"></span>构<span class="_ _5"></span>句<span class="_ _5"></span>法<span class="_ _2"></span>和<span class="_ _5"></span>风<span class="_ _2"></span>格<span class="_ _5"></span>，<span class="_ _2"></span>尝<span class="_ _5"></span>试<span class="_ _5"></span>逐<span class="_ _2"></span>字<span class="_ _2"></span>翻<span class="_ _5"></span>译<span class="_ _5"></span>。<span class="_ _2"></span>注<span class="_ _5"></span>意<span class="_ _5"></span>，<span class="_ _2"></span>这<span class="_ _2"></span>种<span class="_ _5"></span>灵<span class="_ _5"></span>活<span class="_ _2"></span>性<span class="_ _5"></span>并<span class="_ _5"></span>不<span class="_ _2"></span>是<span class="_ _2"></span>负</div><div class="t m0 x0 h8 y20e ff5 fs4 fc0 sc0 ls0 ws0">担；这证明了<span class="_ _2"></span>语言的复杂性<span class="_ _2"></span>和我们解<span class="_ _2"></span>码和解释意思<span class="_ _2"></span>的能力，也是</div><div class="t m0 x0 h8 y20f ff5 fs4 fc0 sc0 ls0 ws0">我们交流能力<span class="_ _2"></span>的一个奇妙方<span class="_ _2"></span>面。</div><div class="t m0 x0 h8 y210 ff5 fs4 fc0 sc0 ls0 ws0">在这一点上，<span class="_ _2"></span>应该注意的是<span class="_ _2"></span>，模型的<span class="_ _2"></span>目标损失函数<span class="_ _2"></span>与我们将要讨</div><div class="t m0 x0 h8 y211 ff5 fs4 fc0 sc0 ls0 ws0">论的评估方法<span class="_ _2"></span>之间存在差异<span class="_ _2"></span>。由于损<span class="_ _2"></span>失函数本质上<span class="_ _2"></span>是对模型预测</div><div class="t m0 x0 h8 y7a ff5 fs4 fc0 sc0 ls0 ws0">的一个评估，<span class="_ _2"></span>所以很容易混<span class="_ _2"></span>淆这两个<span class="_ _2"></span>概念。前面的<span class="_ _2"></span>评估指标针对</div><div class="t m0 x0 h8 y7b ff5 fs4 fc0 sc0 ls0 ws0">一些度量标准<span class="_ _2"></span>为模型提供了<span class="_ _2"></span>一个最终<span class="_ _2"></span>的、总结性的<span class="_ _2"></span>评价，没有一</div><div class="t m0 x0 h8 y212 ff5 fs4 fc0 sc0 ls0 ws0">个度量方法优<span class="_ _2"></span>于所有其他方<span class="_ _2"></span>法，虽然<span class="_ _2"></span>有些具有明显<span class="_ _2"></span>的优势和多数</div><div class="t m0 x0 h8 y7d ff5 fs4 fc0 sc0 ls0 ws0">偏好。</div><div class="t m0 x0 h8 y213 ff5 fs4 fc0 sc0 ls0 ws0">评估机器学习<span class="_ _2"></span>翻译的质量已<span class="_ _2"></span>经自成体<span class="_ _2"></span>系为一个研究<span class="_ _2"></span>领域，已经提</div><div class="t m0 x0 h7 y214 ff5 fs4 fc0 sc0 ls0 ws0">出了<span class="_ _2"></span>许<span class="_ _2"></span>多评<span class="_ _2"></span>估的<span class="_ _2"></span>方<span class="_ _2"></span>法<span class="_ _d"> </span><span class="ff4">TER,<span class="_ _4"> </span>METE<span class="_ _2"></span>OR,<span class="_ _4"> </span>MaxS<span class="_ _2"></span>im,<span class="_ _4"> </span>SEPIA<span class="_ _d"> </span></span>和<span class="_ _d"> </span><span class="ff4">RTE-</span></div><div class="t m0 x0 h7 y215 ff4 fs4 fc0 sc0 ls0 ws0">MT<span class="_ _4"> </span><span class="ff5">。我们将重点<span class="_ _2"></span>关注两个基准<span class="_ _2"></span>评估方法<span class="_ _2"></span>和<span class="_ _4"> </span></span>BLEU<span class="ff5">。</span></div></div><div class="c x8 y216 w8 h12"><div class="t m0 x4 h13 y95 ff7 fs0 fc0 sc0 ls0 ws0">5 Notes<span class="_ _d"> </span>info.</div></div><div class="c x8 y217 w11 h14"><div class="t m0 x4 hd y97 ffa fs2 fc0 sc0 ls0 ws0">课件<span class="ff7">/Slides</span></div></div><div class="c x81 y217 w12 h14"><div class="t m0 x4 hd y97 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>P49</div></div><div class="c x8 y218 w11 h14"><div class="t m0 x4 hd y99 ffa fs2 fc0 sc0 ls0 ws0">视频<span class="ff7">/Video</span></div></div><div class="c x81 y218 w12 h14"><div class="t m0 x4 hd y99 ff7 fs2 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>8,<span class="_ _3"> </span>47:30</div></div><div class="c x8 y219 w11 h28"><div class="t m0 x4 hd y21a ff7 fs2 fc0 sc0 ls0 ws0">GitHub<span class="ffa">·代</span></div><div class="t m0 x4 h16 y21b ffa fs2 fc0 sc0 ls0 ws0">码</div></div><div class="c x81 y219 w12 h28"><div class="t m0 x4 h16 y21c ffa fs2 fc0 sc0 ls0 ws0">实时在线查阅文档</div></div><div class="c x8 y21d w11 h14"><div class="t m0 x4 hd y21e ff7 fs2 fc0 sc0 ls0 ws0">Bilibili<span class="ffa">·视频</span></div></div><div class="c x81 y21d w12 h14"><div class="t m0 x4 h16 y21f ffa fs2 fc0 sc0 ls0 ws0">中英字幕课程视频</div></div><div class="c x8 y220 w8 h17"><div class="t m0 xa hd y21e ff7 fs6 fc0 sc0 ls0 ws0">Stanford<span class="_ _c"> </span>University<span class="_ _7"> </span>X ShowMeA<span class="fs2">I</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfb" class="pf w0 h0" data-page-no="b"><div class="pc pcb w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bgb.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w13 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">11</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h11 y118 ff9 fs0 fc0 sc0 ls0 ws0">5.1<span class="_ _4"> </span>Human<span class="_ _6"> </span>Evaluation</div><div class="t m0 x0 h8 y119 ff5 fs4 fc0 sc0 ls0 ws0">第<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _5"></span>也<span class="_ _2"></span>是<span class="_ _5"></span>最<span class="_ _2"></span>不<span class="_ _5"></span>令<span class="_ _2"></span>人<span class="_ _5"></span>惊<span class="_ _5"></span>讶<span class="_ _2"></span>的<span class="_ _2"></span>方<span class="_ _5"></span>法<span class="_ _5"></span>是<span class="_ _2"></span>让<span class="_ _5"></span>人<span class="_ _5"></span>们<span class="_ _2"></span>手<span class="_ _2"></span>动<span class="_ _5"></span>评<span class="_ _5"></span>估<span class="_ _2"></span>系<span class="_ _5"></span>统<span class="_ _5"></span>的<span class="_ _2"></span>正<span class="_ _2"></span>确</div><div class="t m0 x0 h8 y11a ff5 fs4 fc0 sc0 ls0 ws0">性<span class="_ _2"></span>、<span class="_ _5"></span>充<span class="_ _5"></span>分<span class="_ _2"></span>性<span class="_ _5"></span>和<span class="_ _2"></span>流<span class="_ _5"></span>畅<span class="_ _2"></span>性<span class="_ _5"></span>。<span class="_ _5"></span>就<span class="_ _2"></span>像<span class="_ _2"></span>图<span class="_ _5"></span>灵<span class="_ _5"></span>测<span class="_ _2"></span>试<span class="_ _5"></span>一<span class="_ _5"></span>样<span class="_ _2"></span>，<span class="_ _2"></span>如<span class="_ _5"></span>果<span class="_ _5"></span>你<span class="_ _2"></span>能<span class="_ _5"></span>骗<span class="_ _5"></span>过<span class="_ _2"></span>一<span class="_ _2"></span>个</div><div class="t m0 x0 h8 y11b ff5 fs4 fc0 sc0 ls0 ws0">人，让他无法<span class="_ _2"></span>区分人工翻译<span class="_ _2"></span>和系统翻<span class="_ _2"></span>译，那么你的<span class="_ _2"></span>模型就通过了</div><div class="t m0 x0 h8 y11c ff5 fs4 fc0 sc0 ls0 ws0">看起来像真实<span class="_ _2"></span>句子的测试！<span class="_ _2"></span>这种方法<span class="_ _2"></span>的一个明显问<span class="_ _2"></span>题是成本高且</div><div class="t m0 x0 h8 y11f ff5 fs4 fc0 sc0 ls0 ws0">效率低，尽管<span class="_ _2"></span>它仍然是机器<span class="_ _2"></span>翻译的黄<span class="_ _2"></span>金标准。</div><div class="t m0 x0 h11 y221 ff9 fs0 fc0 sc0 ls0 ws0">5.2<span class="_ _4"> </span>E<span class="_ _2"></span>valuation<span class="_ _4"> </span>a<span class="_ _2"></span>gainst<span class="_ _d"> </span>another<span class="_ _d"> </span>task</div><div class="t m0 x0 h8 y222 ff5 fs4 fc0 sc0 ls0 ws0">评估机器学习<span class="_ _2"></span>模型的一种常<span class="_ _2"></span>见方法是<span class="_ _2"></span>输出有用的表<span class="_ _2"></span>示数据（表示</div><div class="t m0 x0 h8 y223 ff5 fs4 fc0 sc0 ls0 ws0">为翻译或摘要<span class="_ _2"></span>），如果您的<span class="_ _2"></span>预测对解<span class="_ _2"></span>决某些具有挑<span class="_ _2"></span>战性的任务很</div><div class="t m0 x0 h8 y224 ff5 fs4 fc0 sc0 ls0 ws0">帮助，那么模<span class="_ _2"></span>型必须在预测<span class="_ _2"></span>中编码相<span class="_ _2"></span>关信息。例如<span class="_ _2"></span>，您可能会考</div><div class="t m0 x0 h8 y164 ff5 fs4 fc0 sc0 ls0 ws0">虑在翻译语言<span class="_ _2"></span>的问答</div><div class="t m0 x0 h8 y225 ff5 fs4 fc0 sc0 ls0 ws0">任务中训练翻<span class="_ _2"></span>译预测。也就<span class="_ _2"></span>是说，您<span class="_ _2"></span>使用系统的输<span class="_ _2"></span>出作为其他任</div><div class="t m0 x0 h7 y12c ff5 fs4 fc0 sc0 ls0 ws0">务<span class="ff4">(<span class="_ _2"></span></span>问答<span class="_ _2"></span><span class="ff4">)</span>模<span class="_ _2"></span>型<span class="_ _2"></span>的输<span class="_ _2"></span>入。<span class="_ _2"></span>如<span class="_ _2"></span>果您<span class="_ _2"></span>的第<span class="_ _2"></span>二<span class="_ _2"></span>个任务<span class="_ _2"></span>在<span class="_ _2"></span>您<span class="_ _2"></span>的预测<span class="_ _2"></span>上<span class="_ _2"></span>和<span class="_ _2"></span>在翻</div><div class="t m0 x0 h8 y226 ff5 fs4 fc0 sc0 ls0 ws0">译语言的格式<span class="_ _2"></span>良好的数据上<span class="_ _2"></span>一样出色<span class="_ _2"></span>，这意味着您<span class="_ _2"></span>的输入具有满</div><div class="t m0 x0 h8 y227 ff5 fs4 fc0 sc0 ls0 ws0">足任务需求的<span class="_ _2"></span>相关信息或模<span class="_ _2"></span>式。</div><div class="t m0 x0 h8 y19e ff5 fs4 fc0 sc0 ls0 ws0">这种方法的问<span class="_ _2"></span>题在于，第二<span class="_ _2"></span>个任务可<span class="_ _2"></span>能不会受到许<span class="_ _2"></span>多翻译细节的</div><div class="t m0 x0 h8 y19f ff5 fs4 fc0 sc0 ls0 ws0">影响。例如，<span class="_ _2"></span>如果您在查询<span class="_ _2"></span>检索任务<span class="_ _2"></span>中衡量翻译质<span class="_ _2"></span>量（例如，提</div><div class="t m0 x0 h8 y228 ff5 fs4 fc0 sc0 ls0 ws0">取搜索查询的<span class="_ _2"></span>正确网页），<span class="_ _2"></span>你会发现<span class="_ _2"></span>一个翻译有助<span class="_ _2"></span>于保护文档的</div><div class="t m0 x0 h7 y229 ff5 fs4 fc0 sc0 ls0 ws0">主<span class="_ _2"></span>题<span class="_ _2"></span>句<span class="_ _5"></span><span class="ff4">,</span>但<span class="_ _5"></span>忽<span class="_ _2"></span>略<span class="_ _2"></span>了<span class="_ _5"></span>语法<span class="_ _2"></span>和<span class="_ _5"></span>语<span class="_ _2"></span>法<span class="_ _2"></span>仍<span class="_ _5"></span>然<span class="_ _2"></span>可<span class="_ _2"></span>能<span class="_ _2"></span>适<span class="_ _2"></span>合<span class="_ _2"></span>的<span class="_ _5"></span>任<span class="_ _2"></span>务<span class="_ _2"></span>。<span class="_ _5"></span>但<span class="_ _2"></span>这并<span class="_ _5"></span>不<span class="_ _2"></span>意</div><div class="t m0 x0 h8 y22a ff5 fs4 fc0 sc0 ls0 ws0">味着翻译质量<span class="_ _2"></span>是准确可靠的<span class="_ _2"></span>。因此，<span class="_ _2"></span>确定翻译模型<span class="_ _2"></span>的质量只是为</div><div class="t m0 x0 h8 y22b ff5 fs4 fc0 sc0 ls0 ws0">了确定任务本<span class="_ _2"></span>身的质量，这<span class="_ _2"></span>可能是也<span class="_ _2"></span>可能不是一个<span class="_ _2"></span>好的标准。</div><div class="t m0 x0 h11 y22c ff9 fs0 fc0 sc0 ls0 ws0">5.3<span class="_ _4"> </span>Biling<span class="_ _2"></span>ual<span class="_ _d"> </span>Evaluation<span class="_ _d"> </span>Understudy<span class="_ _d"> </span>(BLEU)</div><div class="t m0 x0 h7 y22d ff5 fs4 fc0 sc0 ls0 ws0">在<span class="_ _1a"> </span><span class="ff4">2002 </span>年<span class="_ _4"> </span>，<span class="_ _4"> </span><span class="ff4">IBM </span>的<span class="_ _4"> </span>研<span class="_ _4"> </span>究<span class="_ _4"> </span>者<span class="_ _4"> </span>提<span class="_ _4"> </span>出<span class="_ _4"> </span>了<span class="_ _1a"> </span><span class="ff4">Bilingual Eval<span class="_ _2"></span>uation</span></div><div class="t m0 x0 h7 y22e ff4 fs4 fc0 sc0 ls0 ws0">Understudy<span class="_ _5"></span><span class="ff5">（<span class="_ _5"></span></span>BELU<span class="_ _5"></span><span class="ff5">）<span class="_ _2"></span>，<span class="_ _5"></span>时<span class="_ _5"></span>至<span class="_ _5"></span>今<span class="_ _2"></span>日<span class="_ _5"></span>，<span class="_ _5"></span>该<span class="_ _2"></span>方<span class="_ _5"></span>法<span class="_ _5"></span>的<span class="_ _5"></span>很<span class="_ _2"></span>多<span class="_ _5"></span>变<span class="_ _5"></span>体<span class="_ _2"></span>，<span class="_ _5"></span>是<span class="_ _5"></span>机</span></div><div class="t m0 x0 h8 y22f ff5 fs4 fc0 sc0 ls0 ws0">器翻译中最可<span class="_ _2"></span>靠的评估方法<span class="_ _2"></span>之一。</div><div class="t m0 x0 h7 y230 ff4 fs4 fc0 sc0 ls0 ws0">BELU<span class="_ _4"> </span><span class="ff5">算法<span class="_ _2"></span>通过参考<span class="_ _2"></span>人工翻<span class="_ _2"></span>译来评估<span class="_ _2"></span>机器翻<span class="_ _2"></span>译的精<span class="_ _2"></span>确度分<span class="_ _2"></span>数。参</span></div><div class="t m0 x0 h7 y231 ff5 fs4 fc0 sc0 ls0 ws0">考<span class="_ _2"></span>人<span class="_ _2"></span>工<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>被<span class="_ _2"></span>假<span class="_ _5"></span>定<span class="_ _2"></span>为是<span class="_ _5"></span>一个<span class="_ _5"></span>翻译<span class="_ _5"></span>的<span class="_ _2"></span>模<span class="_ _2"></span>型<span class="_ _2"></span>样<span class="_ _2"></span>例<span class="_ _2"></span>，<span class="_ _2"></span>然<span class="_ _2"></span>后<span class="_ _2"></span>我<span class="_ _5"></span>们<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _6"> </span><span class="ff4">n-</span></div><div class="t m0 x0 h7 y232 ff4 fs4 fc0 sc0 ls0 ws0">gram<span class="_ _4"> </span><span class="ff5">匹<span class="_ _2"></span>配候<span class="_ _2"></span>选<span class="_ _2"></span>翻<span class="_ _2"></span>译与<span class="_ _2"></span>人工<span class="_ _2"></span>翻<span class="_ _2"></span>译之<span class="_ _2"></span>间<span class="_ _2"></span>的相<span class="_ _2"></span>似程<span class="_ _2"></span>度<span class="_ _2"></span>作<span class="_ _2"></span>为度<span class="_ _2"></span>量标<span class="_ _2"></span>注<span class="_ _2"></span>。</span></div><div class="t m0 x0 h7 y233 ff5 fs4 fc0 sc0 ls0 ws0">考虑一个参考<span class="_ _2"></span>句子<span class="_ _4"> </span><span class="ff4">A<span class="_ _4"> </span></span>和候选翻译<span class="_ _4"> </span><span class="ff4">B</span>：</div><div class="t m1 x0 h24 y234 ff4 fsc fc0 sc0 ls0 ws0">A<span class="_ _7"> </span><span class="ff5">：<span class="_ _0"> </span></span>there<span class="_ _1e"> </span>are<span class="_ _11"> </span>many<span class="_ _21"> </span>way<span class="_ _2"></span>s<span class="_ _21"> </span>to<span class="_ _11"> </span>evaluate<span class="_ _21"> </span>th<span class="_ _2"></span>e<span class="_ _21"> </span>quality<span class="_ _11"> </span>of<span class="_ _21"> </span>a</div><div class="t m1 x0 h24 y235 ff4 fsc fc0 sc0 ls0 ws0">translation,<span class="_ _6"> </span>like<span class="_ _6"> </span>comparing<span class="_ _6"> </span>the<span class="_ _6"> </span>number<span class="_ _6"> </span>of<span class="_ _d"> </span>n-<span class="_ _2"></span>grams<span class="_ _6"> </span>between</div><div class="t m1 x0 h24 y236 ff4 fsc fc0 sc0 ls0 ws0">a<span class="_ _4"> </span>candidate<span class="_ _d"> </span>translatio<span class="_ _2"></span>n<span class="_ _4"> </span>and<span class="_ _d"> </span>reference.</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfc" class="pf w0 h0" data-page-no="c"><div class="pc pcc w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bgc.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w13 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">12</div></div><div class="c x2 y7 w3 he"><div class="t m1 x0 h24 y5b ff4 fsc fc0 sc0 ls0 ws0">B<span class="_ _1d"></span><span class="ff5">：<span class="_ _1d"> </span></span>the<span class="_ _12"> </span>quality<span class="_ _0"> </span>of<span class="_ _12"> </span>a<span class="_ _0"> </span>translation<span class="_ _12"> </span>is<span class="_ _0"> </span>evaluate<span class="_ _12"> </span>of<span class="_ _0"> </span>n-gram<span class="_ _2"></span>s<span class="_ _0"> </span>in<span class="_ _0"> </span>a</div><div class="t m1 x0 h24 y5c ff4 fsc fc0 sc0 ls0 ws0">reference<span class="_ _d"> </span>and<span class="_ _4"> </span>with<span class="_ _4"> </span>tran<span class="_ _2"></span>slation.</div><div class="t m0 x0 h7 y5e ff4 fs4 fc0 sc0 ls0 ws0">BELU<span class="_ _d"> </span><span class="ff5">分<span class="_ _2"></span>数<span class="_ _2"></span>是<span class="_ _2"></span>查<span class="_ _2"></span>找<span class="_ _2"></span>在<span class="_ _2"></span>机<span class="_ _2"></span>器<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>中<span class="_ _5"></span>是否<span class="_ _5"></span>有<span class="_ _d"> </span></span>n-grams<span class="_ _d"> </span><span class="ff5">也<span class="_ _2"></span>出<span class="_ _2"></span>现<span class="_ _2"></span>在<span class="_ _2"></span>参<span class="_ _2"></span>考</span></div><div class="t m0 x0 h8 y5f ff5 fs4 fc0 sc0 ls0 ws0">翻译中。以下<span class="_ _2"></span>彩色的翻译是<span class="_ _2"></span>参考翻译<span class="_ _2"></span>和候选翻译之<span class="_ _2"></span>间共享的不同</div><div class="t m0 x0 h7 y237 ff5 fs4 fc0 sc0 ls0 ws0">大小的<span class="_ _4"> </span><span class="ff4">n-grams<span class="_ _4"> </span></span>的一些示<span class="_ _2"></span>例。</div><div class="t m1 x0 h24 y238 ff4 fsc fc0 sc0 ls0 ws0">A<span class="_ _7"> </span><span class="ff5">：<span class="_ _0"> </span></span>there<span class="_ _1e"> </span>are<span class="_ _11"> </span>many<span class="_ _21"> </span>way<span class="_ _2"></span>s<span class="_ _21"> </span>to<span class="_ _11"> </span>evaluate<span class="_ _21"> </span>t<span class="_ _2"></span>he<span class="_ _1e"> </span>quali<span class="_ _2"></span>ty<span class="_ _1e"> </span>of<span class="_ _21"> </span>a</div><div class="t m1 x0 h24 y239 ff4 fsc fc0 sc0 ls0 ws0">trans<span class="_ _2"></span>lation,<span class="_ _d"> </span>like<span class="_ _6"> </span>comparin<span class="_ _2"></span>g<span class="_ _d"> </span>the<span class="_ _6"> </span>number<span class="_ _6"> </span>of<span class="_ _6"> </span>n-<span class="_ _2"></span>grams<span class="_ _d"> </span>betw<span class="_ _2"></span>een</div><div class="t m1 x0 h24 y23a ff4 fsc fc0 sc0 ls0 ws0">a<span class="_ _4"> </span>candidate<span class="_ _d"> </span>translatio<span class="_ _2"></span>n<span class="_ _4"> </span>and<span class="_ _d"> </span>refere<span class="_ _2"></span>nce.</div><div class="t m1 x0 h24 y23b ff4 fsc fc0 sc0 ls0 ws0">B<span class="_ _1d"></span><span class="ff5">：<span class="_ _1d"> </span></span>t<span class="_ _2"></span>he<span class="_ _0"> </span>qual<span class="_ _2"></span>ity<span class="_ _0"> </span>of<span class="_ _0"> </span>a<span class="_ _12"> </span>trans<span class="_ _2"></span>lation<span class="_ _12"> </span>is<span class="_ _0"> </span>evaluate<span class="_ _0"> </span>o<span class="_ _2"></span>f<span class="_ _0"> </span>n-<span class="_ _2"></span>grams<span class="_ _0"> </span>in<span class="_ _12"> </span>a</div><div class="t m1 x0 h24 y23c ff4 fsc fc0 sc0 ls0 ws0">refer<span class="_ _2"></span>ence<span class="_ _4"> </span>and<span class="_ _4"> </span>with<span class="_ _d"> </span>transl<span class="_ _2"></span>ation.</div><div class="t m0 x0 h7 y23d ff4 fs4 fc0 sc0 ls0 ws0">BELU<span class="_ _d"> </span><span class="ff5">算<span class="_ _2"></span>法<span class="_ _2"></span>通<span class="_ _2"></span>过<span class="_ _2"></span>识<span class="_ _2"></span>别<span class="_ _2"></span>上<span class="_ _5"></span>述<span class="_ _2"></span>所<span class="_ _2"></span>有<span class="_ _2"></span>的<span class="_ _d"> </span></span>n-<span class="_ _2"></span>grams<span class="_ _d"> </span><span class="ff5">匹<span class="_ _2"></span>配<span class="_ _2"></span>，<span class="_ _2"></span>包<span class="_ _2"></span>括<span class="_ _6"> </span></span>unigr<span class="_ _2"></span>am</div><div class="t m0 x0 h7 y23e ff5 fs4 fc0 sc0 ls0 ws0">匹<span class="_ _2"></span>配<span class="_ _2"></span>，<span class="_ _2"></span>然<span class="_ _2"></span>后<span class="_ _2"></span>用<span class="_ _2"></span>精<span class="_ _5"></span>确<span class="_ _2"></span>度分<span class="_ _5"></span>数来<span class="_ _5"></span>评估<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>的<span class="_ _2"></span>好<span class="_ _2"></span>坏<span class="_ _2"></span>。<span class="_ _2"></span>精<span class="_ _2"></span>确<span class="_ _2"></span>度<span class="_ _5"></span>分<span class="_ _2"></span>数<span class="_ _2"></span>是<span class="_ _6"> </span><span class="ff4">n-</span></div><div class="t m0 x0 h7 ya7 ff4 fs4 fc0 sc0 ls0 ws0">grams<span class="_ _4"> </span><span class="ff5">既出现在<span class="_ _2"></span>参考翻译中也<span class="_ _2"></span>出现在机器翻<span class="_ _2"></span>译中的百<span class="_ _2"></span>分比。</span></div><div class="t m0 x0 h7 y23f ff5 fs4 fc0 sc0 ls0 ws0">这个<span class="_ _2"></span>算<span class="_ _2"></span>法<span class="_ _2"></span>也<span class="_ _2"></span>满<span class="_ _2"></span>足<span class="_ _2"></span>其<span class="_ _2"></span>他的<span class="_ _2"></span>两<span class="_ _2"></span>个<span class="_ _2"></span>限<span class="_ _2"></span>制<span class="_ _2"></span>。<span class="_ _2"></span>对<span class="_ _2"></span>每<span class="_ _2"></span>个<span class="_ _d"> </span><span class="ff4">n-grams<span class="_ _d"> </span></span>的大<span class="_ _2"></span>小<span class="_ _2"></span>，<span class="_ _2"></span>参</div><div class="t m0 x0 h7 y240 ff5 fs4 fc0 sc0 ls0 ws0">考<span class="_ _2"></span>翻<span class="_ _5"></span>译<span class="_ _5"></span>中<span class="_ _5"></span>的<span class="_ _6"> </span><span class="ff4">gra<span class="_ _2"></span>m<span class="_ _d"> </span></span>不<span class="_ _5"></span>能<span class="_ _5"></span>匹<span class="_ _5"></span>配<span class="_ _2"></span>多<span class="_ _5"></span>于<span class="_ _2"></span>一<span class="_ _5"></span>次<span class="_ _5"></span>。<span class="_ _5"></span>例<span class="_ _2"></span>如<span class="_ _5"></span>，<span class="_ _2"></span><span class="ff4">un<span class="_ _2"></span>igram<span class="_ _6"> </span>“a”<span class="_ _d"> </span></span>在</div><div class="t m0 x0 h7 y241 ff4 fs4 fc0 sc0 ls0 ws0">B<span class="_ _4"> </span><span class="ff5">中<span class="_ _5"></span>出<span class="_ _2"></span>现<span class="_ _2"></span>了<span class="_ _2"></span>两<span class="_ _5"></span>次<span class="_ _2"></span>而<span class="_ _2"></span>在<span class="_ _7"> </span></span>A<span class="_ _4"> </span><span class="ff5">中<span class="_ _2"></span>只<span class="_ _5"></span>出<span class="_ _2"></span>现<span class="_ _2"></span>了<span class="_ _2"></span>一<span class="_ _5"></span>次<span class="_ _2"></span>。<span class="_ _2"></span>这<span class="_ _5"></span>只<span class="_ _2"></span>统<span class="_ _2"></span>计<span class="_ _2"></span>两<span class="_ _5"></span>个<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>句</span></div><div class="t m0 x0 h8 y242 ff5 fs4 fc0 sc0 ls0 ws0">子之间匹配一<span class="_ _2"></span>次的的次数。<span class="_ _2"></span>另外，我<span class="_ _2"></span>们强加一个简<span class="_ _2"></span>单的惩罚，使</div><div class="t m0 x0 h7 y243 ff5 fs4 fc0 sc0 ls0 ws0">得<span class="_ _2"></span>精<span class="_ _5"></span>确<span class="_ _2"></span>度<span class="_ _5"></span>分<span class="_ _2"></span>数<span class="_ _5"></span>是<span class="_ _6"> </span><span class="ff4">1.0<span class="_ _5"></span></span>（<span class="_ _2"></span><span class="ff4">“<span class="_ _5"></span></span>完<span class="_ _2"></span>美<span class="_ _5"></span><span class="ff4">”<span class="_ _2"></span></span>匹<span class="_ _5"></span>配<span class="_ _2"></span>）<span class="_ _5"></span>的<span class="_ _2"></span>短<span class="_ _5"></span>句<span class="_ _2"></span>子<span class="_ _2"></span>不<span class="_ _5"></span>被<span class="_ _5"></span>认<span class="_ _2"></span>为<span class="_ _5"></span>是<span class="_ _2"></span>一<span class="_ _5"></span>个</div><div class="t m0 x0 h7 y244 ff5 fs4 fc0 sc0 ls0 ws0">很<span class="_ _2"></span>好<span class="_ _5"></span>的<span class="_ _2"></span>翻<span class="_ _5"></span>译<span class="_ _5"></span>结<span class="_ _2"></span>果<span class="_ _5"></span>。<span class="_ _2"></span>例<span class="_ _5"></span>如<span class="_ _2"></span>，<span class="_ _5"></span>对<span class="_ _2"></span>单<span class="_ _5"></span>个<span class="_ _2"></span>单<span class="_ _5"></span>词<span class="_ _7"> </span><span class="ff4">there<span class="_ _d"> </span></span>会<span class="_ _5"></span>得<span class="_ _5"></span>到<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>精<span class="_ _5"></span>确<span class="_ _2"></span>度</div><div class="t m0 x0 h7 y245 ff5 fs4 fc0 sc0 ls0 ws0">分数为<span class="_ _4"> </span><span class="ff4">1.0<span class="_ _4"> </span></span>的匹配，但是<span class="_ _2"></span>很明显这不是<span class="_ _2"></span>一个好的<span class="_ _2"></span>匹配。</div><div class="t m0 x0 h7 y246 ff5 fs4 fc0 sc0 ls0 ws0">接<span class="_ _2"></span>下<span class="_ _5"></span>来<span class="_ _2"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>看<span class="_ _5"></span>看<span class="_ _2"></span>实<span class="_ _5"></span>际<span class="_ _2"></span>中<span class="_ _2"></span>如<span class="_ _5"></span>何<span class="_ _2"></span>计<span class="_ _2"></span>算<span class="_ _7"> </span><span class="ff4">BELU<span class="_ _d"> </span></span>分<span class="_ _2"></span>数<span class="_ _5"></span>。<span class="_ _2"></span>首<span class="_ _2"></span>先<span class="_ _5"></span>令<span class="_ _6"> </span><span class="ff4">k<span class="_ _d"> </span></span>是<span class="_ _2"></span>我<span class="_ _5"></span>们</div><div class="t m0 x0 h7 y247 ff5 fs4 fc0 sc0 ls0 ws0">要评估的<span class="_ _2"></span>分数的<span class="_ _2"></span>最大<span class="_ _4"> </span><span class="ff4">n-gram<span class="_ _4"> </span></span>。<span class="_ _2"></span>即如果<span class="_ _4"> </span><span class="ff4">k=4<span class="_ _2"></span></span>，<span class="ff4">BELU<span class="_ _4"> </span></span>分<span class="_ _2"></span>数仅计<span class="_ _2"></span>算</div><div class="t m0 x0 h8 y248 ff5 fs4 fc0 sc0 ls0 ws0">大小</div><div class="t m0 x2b h18 y249 ffb fs4 fc0 sc0 ls0 ws0">≤<span class="_ _4"></span>4</div><div class="t m0 x82 h7 y248 ff5 fs4 fc0 sc0 ls0 ws0">的<span class="_ _3"> </span><span class="ff4">n-<span class="_ _2"></span>grams<span class="_ _4"> </span></span>，并忽略<span class="_ _2"></span>大于<span class="_ _4"> </span><span class="ff4">4<span class="_ _4"> </span></span>的<span class="_ _4"> </span><span class="ff4">n-grams<span class="_ _4"> </span></span>。令</div><div class="t m0 x28 h21 y24a ffb fs1 fc0 sc0 ls0 ws0"></div><div class="t m0 x83 h23 y24b ffb fsb fc0 sc0 ls0 ws0"></div><div class="t m0 x18 h21 y24a ffb fs1 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>#<span class="ff4">matched<span class="_ _4"> </span>n-grams</span>/<span class="ff4">#<span class="_ _4"> </span>n-grams<span class="_ _4"> </span>in<span class="_ _3"> </span>cand<span class="_ _2"></span>idate<span class="_ _3"> </span>trans<span class="_ _2"></span>lation</span></div><div class="t m0 x0 h7 y24c ff5 fs4 fc0 sc0 ls0 ws0">为对<span class="_ _2"></span>长<span class="_ _2"></span>度<span class="_ _5"></span>是<span class="_ _4"> </span><span class="ff4">n<span class="_ _d"> </span></span>的<span class="_ _d"> </span><span class="ff4">gram<span class="_ _2"></span>s<span class="_ _4"> </span></span>的<span class="_ _2"></span>精<span class="_ _2"></span>确<span class="_ _2"></span>度<span class="_ _2"></span>分<span class="_ _2"></span>数<span class="_ _2"></span>。<span class="_ _2"></span>最后<span class="_ _2"></span>，<span class="_ _2"></span>令</div><div class="t m0 x10 h18 y24d ffb fs4 fc0 sc0 ls0 ws0">w</div><div class="t m0 x48 h1c y24e ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x6f h18 y24d ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>1/2</div><div class="t m0 x84 h1c y24f ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x22 h8 y24c ff5 fs4 fc0 sc0 ls0 ws0">是</div><div class="t m0 x0 h7 y250 ff5 fs4 fc0 sc0 ls0 ws0">第<span class="_ _3"> </span><span class="ff4">n<span class="_ _4"> </span></span>个<span class="_ _4"> </span><span class="ff4">gram<span class="_ _4"> </span></span>的几<span class="_ _2"></span>何加权。我们<span class="_ _2"></span>简单惩罚的定<span class="_ _2"></span>义为</div><div class="t m0 x2e h18 y251 ffb fs4 fc0 sc0 ls0 ws0">β<span class="_ _4"></span>=</div><div class="t m0 x40 h18 y252 ffb fs4 fc0 sc0 ls0 ws0">e</div><div class="t m0 x7d h1c y253 ffb fs8 fc0 sc0 ls0 ws0">min</div><div class="t m0 x39 h1c y254 ffb fs8 fc0 sc0 ls0 ws0">0,1−</div><div class="t m0 x3a h1c y255 ffb fs8 fc0 sc0 ls0 ws0">len</div><div class="t m0 x41 h26 y256 ffb fsd fc0 sc0 ls0 ws0">ref</div><div class="t m0 x3a h1c y257 ffb fs8 fc0 sc0 ls0 ws0">len</div><div class="t m0 x41 h26 y258 ffb fsd fc0 sc0 ls0 ws0">MT</div><div class="t m0 x0 h8 y259 ff5 fs4 fc0 sc0 ls0 ws0">其中</div><div class="t m0 x2b h18 y25a ffb fs4 fc0 sc0 ls0 ws0">len</div><div class="t m0 x85 h1c y25b ffb fs8 fc0 sc0 ls0 ws0">ref</div><div class="t m0 x25 h8 y259 ff5 fs4 fc0 sc0 ls0 ws0">是参<span class="_ _2"></span>考<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>的<span class="_ _2"></span>句<span class="_ _2"></span>子长<span class="_ _2"></span>度<span class="_ _2"></span>，</div><div class="t m0 x5f h18 y25a ffb fs4 fc0 sc0 ls0 ws0">len</div><div class="t m0 x7f h1c y25b ffb fs8 fc0 sc0 ls0 ws0">MT</div><div class="t m0 x86 h8 y259 ff5 fs4 fc0 sc0 ls0 ws0">是机<span class="_ _2"></span>器<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>的<span class="_ _2"></span>句<span class="_ _2"></span>子长</div><div class="t m0 x0 h8 y25c ff5 fs4 fc0 sc0 ls0 ws0">度。</div><div class="t m0 x0 h7 y25d ff4 fs4 fc0 sc0 ls0 ws0">BELU<span class="_ _4"> </span><span class="ff5">分数然后定义<span class="_ _2"></span>为：</span></div><div class="t m0 x87 h18 y25e ffb fs4 fc0 sc0 ls0 ws0">BELU<span class="_ _4"></span>=<span class="_ _6"></span>β</div><div class="t m0 x33 h1c y25f ffb fs8 fc0 sc0 ls0 ws0">i=1</div><div class="t m0 x71 h1c y260 ffb fs8 fc0 sc0 ls0 ws0">k</div><div class="t m0 x5f h18 y261 ffb fs4 fc0 sc0 ls0 ws0">p</div><div class="t m0 x36 h1c y262 ffb fs8 fc0 sc0 ls0 ws0">n</div><div class="t m0 x36 h1c y263 ffb fs8 fc0 sc0 ls0 ws0">w</div><div class="t m0 x60 h26 y264 ffb fsd fc0 sc0 ls0 ws0">n</div><div class="t m0 x7e h1f y25e ffb fs9 fc0 sc0 ls0 ws0"></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfd" class="pf w0 h0" data-page-no="d"><div class="pc pcd w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bgd.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w14 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">13</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h7 y5b ff4 fs4 fc0 sc0 ls0 ws0">BLEU<span class="_ _4"> </span><span class="ff5">评分<span class="_ _2"></span>与人类对<span class="_ _2"></span>优秀翻<span class="_ _2"></span>译的判断<span class="_ _2"></span>密切相<span class="_ _2"></span>关，因<span class="_ _2"></span>此仍然<span class="_ _2"></span>是所有</span></div><div class="t m0 x0 h8 y5c ff5 fs4 fc0 sc0 ls0 ws0">评估指标的基<span class="_ _2"></span>准。然而，它<span class="_ _2"></span>还是有许<span class="_ _2"></span>多限制的。它<span class="_ _2"></span>只能在语料库</div><div class="t m0 x0 h8 y9f ff5 fs4 fc0 sc0 ls0 ws0">级<span class="_ _1d"> </span>别<span class="_ _1d"> </span>上<span class="_ _1d"> </span>工<span class="_ _c"> </span>作<span class="_ _1d"> </span>得<span class="_ _1d"> </span>很<span class="_ _1d"> </span>好<span class="_ _1d"> </span>，<span class="_ _c"> </span>因<span class="_ _1d"> </span>为<span class="_ _1d"> </span>精<span class="_ _1d"> </span>度<span class="_ _c"> </span>得<span class="_ _1d"> </span>分<span class="_ _1d"> </span>中<span class="_ _1d"> </span>的<span class="_ _1d"> </span>任<span class="_ _c"> </span>何<span class="_ _1d"> </span>零<span class="_ _1d"> </span>都<span class="_ _1d"> </span>将<span class="_ _c"> </span>使<span class="_ _1d"> </span>整<span class="_ _1d"> </span>个</div><div class="t m0 x0 h7 ya0 ff4 fs4 fc0 sc0 ls0 ws0">BLEU<span class="_ _24"> </span><span class="ff5">得<span class="_ _5"></span>分<span class="_ _2"></span>为<span class="_ _5"></span>零<span class="_ _5"></span>。<span class="_ _2"></span>另<span class="_ _5"></span>外<span class="_ _5"></span>，<span class="_ _5"></span></span>BLEU<span class="_ _d"> </span><span class="ff5">得<span class="_ _5"></span>分<span class="_ _2"></span>仅<span class="_ _5"></span>仅<span class="_ _5"></span>将<span class="_ _2"></span>机<span class="_ _5"></span>器<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _5"></span>与<span class="_ _5"></span>单<span class="_ _2"></span>个<span class="_ _5"></span>人</span></div><div class="t m0 x0 h7 ya1 ff5 fs4 fc0 sc0 ls0 ws0">工<span class="_ _5"></span>翻<span class="_ _5"></span>译<span class="_ _e"></span>进<span class="_ _5"></span>行<span class="_ _5"></span>比<span class="_ _5"></span>较<span class="_ _e"></span>，<span class="_ _5"></span>这<span class="_ _5"></span>肯<span class="_ _e"></span>定<span class="_ _5"></span>需<span class="_ _5"></span>要<span class="_ _5"></span>匹<span class="_ _e"></span>配<span class="_ _5"></span>相<span class="_ _5"></span>关<span class="_ _e"></span>的<span class="_ _0"> </span><span class="ff4">n-grams<span class="_ _6"> </span></span>的<span class="_ _e"></span>噪<span class="_ _5"></span>声<span class="_ _5"></span>表</div><div class="t m0 x0 h7 ya2 ff5 fs4 fc0 sc0 ls0 ws0">示。<span class="ff4">BLE<span class="_ _2"></span>U<span class="_ _4"> </span></span>的变体已<span class="_ _2"></span>经将<span class="_ _2"></span>这个算法<span class="_ _2"></span>修改为<span class="_ _2"></span>可以将候<span class="_ _2"></span>选机<span class="_ _2"></span>器翻译与</div><div class="t m0 x0 h7 ya3 ff5 fs4 fc0 sc0 ls0 ws0">多<span class="_ _2"></span>个<span class="_ _5"></span>人<span class="_ _2"></span>工<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>进<span class="_ _5"></span>行<span class="_ _2"></span>比<span class="_ _5"></span>较<span class="_ _2"></span>。<span class="_ _5"></span>此<span class="_ _2"></span>外<span class="_ _5"></span>，<span class="_ _2"></span><span class="ff4">BLEU<span class="_ _24"> </span></span>分<span class="_ _5"></span>数<span class="_ _2"></span>可<span class="_ _5"></span>能<span class="_ _2"></span>只<span class="_ _5"></span>是<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>必<span class="_ _2"></span>要</div><div class="t m0 x0 h8 ya4 ff5 fs4 fc0 sc0 ls0 ws0">的，但并不足<span class="_ _2"></span>以通过一个良<span class="_ _2"></span>好的机器<span class="_ _2"></span>翻译系统的基<span class="_ _2"></span>准。许多研究</div><div class="t m0 x0 h7 y265 ff5 fs4 fc0 sc0 ls0 ws0">人<span class="_ _2"></span>员<span class="_ _5"></span>对<span class="_ _6"> </span><span class="ff4">BLEU<span class="_ _d"> </span></span>的<span class="_ _5"></span>分<span class="_ _2"></span>数<span class="_ _5"></span>进<span class="_ _2"></span>行<span class="_ _2"></span>了<span class="_ _5"></span>优<span class="_ _2"></span>化<span class="_ _5"></span>，<span class="_ _2"></span>直<span class="_ _5"></span>到<span class="_ _2"></span>他<span class="_ _2"></span>们<span class="_ _5"></span>开<span class="_ _2"></span>始<span class="_ _5"></span>接<span class="_ _2"></span>近<span class="_ _2"></span>参<span class="_ _5"></span>考<span class="_ _2"></span>译<span class="_ _5"></span>文</div><div class="t m0 x0 h7 y266 ff5 fs4 fc0 sc0 ls0 ws0">之<span class="_ _5"></span>间<span class="_ _5"></span>相<span class="_ _5"></span>同<span class="_ _5"></span>的<span class="_ _16"> </span><span class="ff4">BLE<span class="_ _2"></span>U<span class="_ _16"> </span></span>分<span class="_ _5"></span>数<span class="_ _5"></span>，<span class="_ _e"></span>但<span class="_ _5"></span>真<span class="_ _5"></span>正<span class="_ _5"></span>的<span class="_ _5"></span>质<span class="_ _e"></span>量<span class="_ _5"></span>仍<span class="_ _5"></span>然<span class="_ _5"></span>远<span class="_ _5"></span>远<span class="_ _5"></span>低<span class="_ _e"></span>于<span class="_ _5"></span>人<span class="_ _5"></span>类<span class="_ _5"></span>译</div><div class="t m0 x0 h8 y267 ff5 fs4 fc0 sc0 ls0 ws0">文。</div><div class="t m0 x0 hf y268 ff8 fs3 fc0 sc0 ls0 ws0">6.<span class="_ _1c"> </span>Dealing<span class="_ _4"> </span>with<span class="_ _3"> </span>the<span class="_ _4"> </span>large<span class="_ _4"> </span>output<span class="_ _4"> </span>vocabulary</div><div class="t m0 x0 h7 y269 ff5 fs4 fc0 sc0 ls0 ws0">尽管现<span class="_ _2"></span>代<span class="_ _2"></span>的<span class="_ _4"> </span><span class="ff4">NMT<span class="_ _d"> </span></span>系统<span class="_ _2"></span>取得<span class="_ _2"></span>了成<span class="_ _2"></span>功<span class="_ _2"></span>，但是<span class="_ _2"></span>他<span class="_ _2"></span>们很<span class="_ _2"></span>难处<span class="_ _2"></span>理大<span class="_ _2"></span>量的<span class="_ _2"></span>词</div><div class="t m0 x0 h7 y26a ff5 fs4 fc0 sc0 ls0 ws0">汇<span class="_ _2"></span>量<span class="_ _5"></span>。<span class="_ _2"></span>特<span class="_ _5"></span>别<span class="_ _2"></span>地<span class="_ _5"></span>，<span class="_ _2"></span>这<span class="_ _5"></span>些<span class="_ _6"> </span><span class="ff4">Seq2<span class="_ _2"></span>Seq<span class="_ _d"> </span></span>模<span class="_ _5"></span>型<span class="_ _2"></span>通<span class="_ _5"></span>过<span class="_ _5"></span>使<span class="_ _2"></span>用<span class="_ _6"> </span><span class="ff4">softma<span class="_ _2"></span>x<span class="_ _d"> </span></span>计<span class="_ _5"></span>算<span class="_ _2"></span>整</div><div class="t m0 x0 h8 y26b ff5 fs4 fc0 sc0 ls0 ws0">个词汇表上的<span class="_ _2"></span>目标概率分布<span class="_ _2"></span>来预测序<span class="_ _2"></span>列中的下一个<span class="_ _2"></span>单词。事实证</div><div class="t m0 x0 h7 y209 ff5 fs4 fc0 sc0 ls0 ws0">明<span class="_ _2"></span>，<span class="_ _2"></span>使<span class="_ _5"></span>用<span class="_ _2"></span>大<span class="_ _2"></span>量<span class="_ _2"></span>词<span class="_ _5"></span>汇<span class="_ _2"></span>表<span class="_ _2"></span>来<span class="_ _2"></span>计<span class="_ _5"></span>算<span class="_ _d"> </span><span class="ff4">s<span class="_ _2"></span>oftmax<span class="_ _d"> </span></span>可<span class="_ _2"></span>能<span class="_ _5"></span>相<span class="_ _2"></span>当<span class="_ _2"></span>耗<span class="_ _2"></span>费<span class="_ _5"></span>计<span class="_ _2"></span>算<span class="_ _2"></span>资<span class="_ _5"></span>源<span class="_ _2"></span>，</div><div class="t m0 x0 h8 y26c ff5 fs4 fc0 sc0 ls0 ws0">而且时间复杂<span class="_ _2"></span>度也会与词汇<span class="_ _2"></span>大小成正<span class="_ _2"></span>比。我们现在<span class="_ _2"></span>将研究一些解</div><div class="t m0 x0 h8 y26d ff5 fs4 fc0 sc0 ls0 ws0">决这个问题的<span class="_ _2"></span>方法。</div><div class="t m0 x0 h11 y26e ff9 fs0 fc0 sc0 ls0 ws0">6.1<span class="_ _d"> </span>Scaling<span class="_ _d"> </span>softmax</div><div class="t m0 x0 h7 y26f ff5 fs4 fc0 sc0 ls0 ws0">一个<span class="_ _2"></span>非<span class="_ _2"></span>常<span class="_ _2"></span>自然<span class="_ _2"></span>的想<span class="_ _2"></span>法<span class="_ _2"></span>是<span class="_ _2"></span>问<span class="ff4">“<span class="_ _2"></span></span>我<span class="_ _2"></span>们能<span class="_ _2"></span>找<span class="_ _2"></span>到<span class="_ _2"></span>更有<span class="_ _2"></span>效<span class="_ _2"></span>的<span class="_ _2"></span>方法<span class="_ _2"></span>来<span class="_ _2"></span>计算<span class="_ _2"></span>目<span class="_ _2"></span>标</div><div class="t m0 x0 h7 y270 ff5 fs4 fc0 sc0 ls0 ws0">概率<span class="_ _2"></span>分<span class="_ _2"></span>布<span class="_ _2"></span>吗？<span class="_ _2"></span><span class="ff4">”</span>答<span class="_ _2"></span>案<span class="_ _2"></span>是<span class="_ _2"></span>可以<span class="_ _2"></span>的<span class="_ _2"></span>！实<span class="_ _2"></span>际<span class="_ _2"></span>上，<span class="_ _2"></span>我<span class="_ _2"></span>们已<span class="_ _2"></span>经<span class="_ _2"></span>学<span class="_ _2"></span>会<span class="_ _2"></span>了两<span class="_ _2"></span>种<span class="_ _2"></span>可</div><div class="t m0 x0 h7 y271 ff5 fs4 fc0 sc0 ls0 ws0">以<span class="_ _2"></span>降<span class="_ _5"></span>低<span class="_ _5"></span><span class="ff4">“softmax”<span class="_ _5"></span></span>复<span class="_ _2"></span>杂<span class="_ _5"></span>度<span class="_ _5"></span>的<span class="_ _2"></span>方<span class="_ _5"></span>法<span class="_ _5"></span>，<span class="_ _2"></span>我<span class="_ _5"></span>们<span class="_ _2"></span>将<span class="_ _5"></span>在<span class="_ _5"></span>下<span class="_ _2"></span>面<span class="_ _5"></span>回<span class="_ _5"></span>顾<span class="_ _2"></span>一<span class="_ _5"></span>下<span class="_ _2"></span>（<span class="_ _5"></span>更</div><div class="t m0 x0 h7 y272 ff5 fs4 fc0 sc0 ls0 ws0">多细节请看<span class="_ _4"> </span><span class="ff4">lecture<span class="_ _d"> </span>one<span class="_ _4"> </span></span>中的相关方法<span class="_ _2"></span>的介绍）。</div><div class="t m0 x0 h7 y92 ff4 fs4 fc0 sc0 ls0 ws0">1)<span class="_ _23"> </span>Noise<span class="_ _4"> </span>Contr<span class="_ _2"></span>astive<span class="_ _4"> </span>Est<span class="_ _2"></span>imation</div><div class="t m0 x0 h7 y273 ff4 fs4 fc0 sc0 ls0 ws0">NCE<span class="_ _7"> </span><span class="ff5">的<span class="_ _1d"></span>想<span class="_ _e"></span>法<span class="_ _e"></span>是<span class="_ _1d"> </span>通<span class="_ _1d"></span>过<span class="_ _e"></span>随<span class="_ _e"></span>机<span class="_ _1d"> </span>地<span class="_ _e"></span>从<span class="_ _1d"> </span>负<span class="_ _e"></span>样<span class="_ _1d"></span>本<span class="_ _e"></span>中<span class="_ _1d"></span>抽<span class="_ _e"></span>取<span class="_ _1f"> </span></span>K<span class="_ _7"> </span><span class="ff5">个<span class="_ _1d"></span>单<span class="_ _e"></span>词<span class="_ _1d"></span>来<span class="_ _e"></span>近<span class="_ _1d"></span>似</span></div><div class="t m0 x0 h7 y274 ff4 fs4 fc0 sc0 ls0 ws0">“softmax”<span class="_ _5"></span><span class="ff5">。<span class="_ _5"></span>因<span class="_ _2"></span>此<span class="_ _5"></span>，<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _5"></span>将<span class="_ _5"></span>计<span class="_ _5"></span>算<span class="_ _2"></span>复<span class="_ _5"></span>杂<span class="_ _5"></span>度<span class="_ _2"></span>降<span class="_ _5"></span>低<span class="_ _5"></span>了</span></div><div class="t m0 x88 h1c y275 ffb fs8 fc0 sc0 ls0 ws0">|V|</div><div class="t m0 xf h1c y276 ffb fs8 fc0 sc0 ls0 ws0">K</div><div class="t m0 x58 h8 y274 ff5 fs4 fc0 sc0 ls0 ws0">倍<span class="_ _2"></span>，<span class="_ _5"></span>其<span class="_ _5"></span>中</div><div class="t m0 x62 h18 y277 ffb fs4 fc0 sc0 ls0 ws0">|V|</div><div class="t m0 x0 h7 y1e4 ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>词<span class="_ _5"></span>汇<span class="_ _5"></span>表<span class="_ _2"></span>的<span class="_ _5"></span>大<span class="_ _2"></span>小<span class="_ _5"></span>。<span class="_ _5"></span>这<span class="_ _2"></span>个<span class="_ _5"></span>方<span class="_ _5"></span>法<span class="_ _2"></span>在<span class="_ _7"> </span><span class="ff4">word2vec<span class="_ _6"> </span></span>中<span class="_ _5"></span>证<span class="_ _2"></span>明<span class="_ _5"></span>了<span class="_ _2"></span>非<span class="_ _5"></span>常<span class="_ _5"></span>有<span class="_ _2"></span>效<span class="_ _5"></span>。</div><div class="t m0 x0 h7 yf4 ff4 fs4 fc0 sc0 ls0 ws0">Zoph<span class="_ _d"> </span><span class="ff5">等<span class="_ _5"></span>人<span class="_ _5"></span>最<span class="_ _2"></span>近<span class="_ _5"></span>的<span class="_ _2"></span>一<span class="_ _5"></span>项<span class="_ _5"></span>工<span class="_ _2"></span>作<span class="_ _5"></span>是<span class="_ _5"></span>应<span class="_ _2"></span>用<span class="_ _5"></span>这<span class="_ _2"></span>种<span class="_ _5"></span>技<span class="_ _5"></span>术<span class="_ _2"></span>来<span class="_ _5"></span>学<span class="_ _5"></span>习<span class="_ _6"> </span></span>LSTM<span class="_ _6"> </span><span class="ff5">语<span class="_ _5"></span>言</span></div><div class="t m0 x0 h7 yf5 ff5 fs4 fc0 sc0 ls0 ws0">模<span class="_ _2"></span>型<span class="_ _2"></span>，<span class="_ _5"></span>他<span class="_ _2"></span>们<span class="_ _2"></span>还<span class="_ _2"></span>通<span class="_ _5"></span>过<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _2"></span>每<span class="_ _5"></span>个<span class="_ _6"> </span><span class="ff4">mini<span class="_ _d"> </span>batch<span class="_ _d"> </span></span>的<span class="_ _5"></span>相<span class="_ _2"></span>同<span class="_ _2"></span>样<span class="_ _2"></span>本<span class="_ _5"></span>来<span class="_ _2"></span>引<span class="_ _2"></span>入<span class="_ _5"></span>一<span class="_ _2"></span>个</div><div class="t m0 x0 h7 y278 ff5 fs4 fc0 sc0 ls0 ws0">技巧，使<span class="_ _4"> </span><span class="ff4">GPU<span class="_ _4"> </span></span>的训练效<span class="_ _2"></span>率更高。</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pfe" class="pf w0 h0" data-page-no="e"><div class="pc pce w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bge.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w15 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">14</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h7 y5b ff4 fs4 fc0 sc0 ls0 ws0">2)<span class="_ _23"> </span>Hierarch<span class="_ _2"></span>ical<span class="_ _4"> </span>Softmax</div><div class="t m0 x0 h7 y279 ff4 fs4 fc0 sc0 ls0 ws0">Morin<span class="_ _d"> </span><span class="ff5">等<span class="_ _2"></span>人<span class="_ _5"></span>提<span class="_ _2"></span>出<span class="_ _5"></span>了<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>二<span class="_ _5"></span>叉<span class="_ _2"></span>树<span class="_ _2"></span>结<span class="_ _5"></span>构<span class="_ _2"></span>从<span class="_ _5"></span>而<span class="_ _2"></span>能<span class="_ _5"></span>够<span class="_ _2"></span>更<span class="_ _2"></span>有<span class="_ _5"></span>效<span class="_ _2"></span>率<span class="_ _5"></span>地<span class="_ _2"></span>计<span class="_ _2"></span>算<span class="_ _7"> </span>目</span></div><div class="t m0 x0 h8 y27a ff5 fs4 fc0 sc0 ls0 ws0">标<span class="_ _1d"> </span>分<span class="_ _1d"> </span>布<span class="_ _1d"> </span>中<span class="_ _c"> </span>的<span class="_ _1d"> </span>每<span class="_ _1d"> </span>个<span class="_ _1d"> </span>概<span class="_ _1d"> </span>率<span class="_ _c"> </span>都<span class="_ _1d"> </span>是<span class="_ _1d"> </span>通<span class="_ _1d"> </span>过<span class="_ _c"> </span>将<span class="_ _1d"> </span>树<span class="_ _1d"> </span>上<span class="_ _1d"> </span>的<span class="_ _1d"> </span>一<span class="_ _c"> </span>个<span class="_ _1d"> </span>路<span class="_ _1d"> </span>径<span class="_ _1d"> </span>计<span class="_ _c"> </span>算<span class="_ _1d"> </span>出<span class="_ _1d"> </span>来</div><div class="t m0 x0 h18 y1ee ff4 fs4 fc0 sc0 ls0 ws0">“softmax”<span class="_ _2"></span><span class="ff5">，<span class="_ _2"></span>该<span class="_ _2"></span>计<span class="_ _2"></span>算<span class="_ _2"></span>该<span class="_ _2"></span>路径<span class="_ _2"></span>只<span class="_ _2"></span>需<span class="_ _2"></span>要<span class="_ _6"> </span><span class="ffb">O(log|V|)<span class="_ _d"></span></span>步<span class="_ _2"></span>长<span class="_ _2"></span>。<span class="_ _2"></span>值<span class="_ _2"></span>得<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>的</span></div><div class="t m0 x0 h7 y27b ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _2"></span>，<span class="_ _5"></span>尽<span class="_ _2"></span>管<span class="_ _6"> </span><span class="ff4">Hierar<span class="_ _2"></span>chical<span class="_ _d"> </span>Softm<span class="_ _2"></span>ax<span class="_ _d"> </span></span>可<span class="_ _2"></span>以<span class="_ _5"></span>节<span class="_ _2"></span>省<span class="_ _5"></span>计<span class="_ _2"></span>算<span class="_ _2"></span>量<span class="_ _5"></span>，<span class="_ _2"></span>但<span class="_ _5"></span>是<span class="_ _2"></span>它<span class="_ _5"></span>不<span class="_ _2"></span>能</div><div class="t m0 x0 h7 y27c ff5 fs4 fc0 sc0 ls0 ws0">在<span class="_ _3"> </span><span class="ff4">GPU<span class="_ _d"> </span></span>上并行运<span class="_ _2"></span>算。</div><div class="t m0 x0 h8 y27d ff5 fs4 fc0 sc0 ls0 ws0">这两种方法的<span class="_ _2"></span>一个限制是它<span class="_ _2"></span>们仅在训<span class="_ _2"></span>练阶段中节省<span class="_ _2"></span>计算量（当目</div><div class="t m0 x0 h8 y27e ff5 fs4 fc0 sc0 ls0 ws0">标词已知时）<span class="_ _2"></span>。在测试阶段<span class="_ _2"></span>，我们还<span class="_ _2"></span>需要计算词汇<span class="_ _2"></span>表中的所有单</div><div class="t m0 x0 h8 y27f ff5 fs4 fc0 sc0 ls0 ws0">词的概率，然<span class="_ _2"></span>后做出预测。</div><div class="t m0 x0 h11 y9 ff9 fs0 fc0 sc0 ls0 ws0">6.2<span class="_ _d"> </span>Reducing<span class="_ _d"> </span>vocabulary</div><div class="t m0 x0 h7 y280 ff5 fs4 fc0 sc0 ls0 ws0">除<span class="_ _2"></span>了<span class="_ _5"></span>优<span class="_ _5"></span>化<span class="_ _2"></span><span class="ff4">“s<span class="_ _2"></span>oftmax”<span class="_ _5"></span></span>，<span class="_ _2"></span>我<span class="_ _5"></span>们<span class="_ _5"></span>还<span class="_ _2"></span>可<span class="_ _5"></span>以<span class="_ _2"></span>尝<span class="_ _5"></span>试<span class="_ _5"></span>减<span class="_ _2"></span>少<span class="_ _5"></span>有<span class="_ _5"></span>效<span class="_ _2"></span>的<span class="_ _5"></span>词<span class="_ _2"></span>汇<span class="_ _5"></span>量<span class="_ _5"></span>，<span class="_ _2"></span>这</div><div class="t m0 x0 h8 y281 ff5 fs4 fc0 sc0 ls0 ws0">将加快训练和<span class="_ _2"></span>测试过程。一<span class="_ _2"></span>种简单的<span class="_ _2"></span>方法是将词汇<span class="_ _2"></span>量限制在一个</div><div class="t m0 x0 h8 y282 ff5 fs4 fc0 sc0 ls0 ws0">很小的数<span class="_ _2"></span>量上，<span class="_ _2"></span>用一个标签</div><div class="t m0 x50 h18 y283 ffb fs4 fc0 sc0 ls0 ws0">&lt;UNK&gt;</div><div class="t m0 x4e h8 y282 ff5 fs4 fc0 sc0 ls0 ws0">替换限制<span class="_ _2"></span>后的词<span class="_ _2"></span>汇表外的单</div><div class="t m0 x0 h8 y284 ff5 fs4 fc0 sc0 ls0 ws0">词。现在，无<span class="_ _2"></span>论是训练和测<span class="_ _2"></span>试时间可<span class="_ _2"></span>以显着地降低<span class="_ _2"></span>了，但这显然</div><div class="t m0 x0 h8 y285 ff5 fs4 fc0 sc0 ls0 ws0">是不理想的，<span class="_ _2"></span>因为我们可能<span class="_ _2"></span>会产生很<span class="_ _2"></span>多</div><div class="t m0 x37 h18 y286 ffb fs4 fc0 sc0 ls0 ws0">&lt;UNK&gt;</div><div class="t m0 xb h8 y285 ff5 fs4 fc0 sc0 ls0 ws0">的输出。</div><div class="t m0 x0 h7 y287 ff4 fs4 fc0 sc0 ls0 ws0">Jean<span class="_ _4"> </span><span class="ff5">等人<span class="_ _2"></span>提<span class="_ _2"></span>出<span class="_ _2"></span>了一<span class="_ _2"></span>种保<span class="_ _2"></span>持<span class="_ _2"></span>固定<span class="_ _2"></span>词汇<span class="_ _2"></span>大<span class="_ _2"></span>小</span></div><div class="t m0 x68 h18 y288 ffb fs4 fc0 sc0 ls0 ws0">V</div><div class="t m0 x86 h1c y289 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x89 h8 y287 ff5 fs4 fc0 sc0 ls0 ws0">的方<span class="_ _2"></span>法，<span class="_ _d"> </span>通<span class="_ _2"></span>过<span class="_ _2"></span>将训</div><div class="t m0 x0 h8 y28a ff5 fs4 fc0 sc0 ls0 ws0">练数<span class="_ _2"></span>据分<span class="_ _2"></span>成<span class="_ _2"></span>具有</div><div class="t m0 x78 h18 y28b ffb fs4 fc0 sc0 ls0 ws0">τ</div><div class="t m0 x72 h8 y28a ff5 fs4 fc0 sc0 ls0 ws0">个唯<span class="_ _2"></span>一目<span class="_ _2"></span>标<span class="_ _2"></span>单词<span class="_ _2"></span>的<span class="_ _2"></span>子集<span class="_ _2"></span>，其<span class="_ _2"></span>中</div><div class="t m0 x49 h18 y28b ffb fs4 fc0 sc0 ls0 ws0">τ<span class="_ _4"></span>=<span class="_ _21"> </span>V</div><div class="t m0 x1d h1c y28c ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x5a h8 y28a ff5 fs4 fc0 sc0 ls0 ws0">。可<span class="_ _2"></span>以</div><div class="t m0 x0 h18 y28d ff5 fs4 fc0 sc0 ls0 ws0">通过依次扫<span class="_ _2"></span>描原始<span class="_ _2"></span>数据集直到<span class="_ _2"></span>检测<span class="_ _4"> </span><span class="ffb">τ<span class="_ _3"></span></span>个<span class="_ _2"></span>唯一的目<span class="_ _2"></span>标单词，从<span class="_ _2"></span>而形</div><div class="t m0 x0 h8 y28e ff5 fs4 fc0 sc0 ls0 ws0">成一个子集（<span class="_ _2"></span>如右图所示<span class="_ _2"></span>）</div><div class="t m0 x0 h7 y28f ff5 fs4 fc0 sc0 ls0 ws0">然<span class="_ _2"></span>后<span class="_ _2"></span>按<span class="_ _5"></span>照<span class="_ _2"></span>上<span class="_ _2"></span>述<span class="_ _2"></span>过<span class="_ _2"></span>程<span class="_ _5"></span>遍<span class="_ _2"></span>历<span class="_ _2"></span>整<span class="_ _2"></span>个<span class="_ _5"></span>数<span class="_ _2"></span>据<span class="_ _2"></span>集<span class="_ _2"></span>，<span class="_ _2"></span>以<span class="_ _5"></span>产<span class="_ _2"></span>生<span class="_ _2"></span>所<span class="_ _2"></span>有<span class="_ _5"></span>的<span class="_ _d"> </span><span class="ff4">mini-<span class="_ _2"></span>batch</span></div><div class="t m0 x0 h8 y290 ff5 fs4 fc0 sc0 ls0 ws0">子<span class="_ _2"></span>集<span class="_ _2"></span>。<span class="_ _5"></span>实<span class="_ _2"></span>际<span class="_ _2"></span>中<span class="_ _2"></span>，<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>可<span class="_ _2"></span>以<span class="_ _2"></span>通<span class="_ _5"></span>过<span class="_ _2"></span>这<span class="_ _2"></span>个<span class="_ _2"></span>方<span class="_ _5"></span>法<span class="_ _2"></span>词<span class="_ _2"></span>汇<span class="_ _2"></span>量<span class="_ _5"></span>为</div><div class="t m0 xc h18 y291 ffb fs4 fc0 sc0 ls0 ws0">|V|<span class="_ _4"></span>=<span class="_ _d"></span>50<span class="_ _2"></span>0K</div><div class="t m0 x22 h8 y290 ff5 fs4 fc0 sc0 ls0 ws0">实</div><div class="t m0 x0 h7 y13f ff5 fs4 fc0 sc0 ls0 ws0">现了<span class="_ _4"> </span><span class="ff4">10<span class="_ _4"> </span></span>倍以上的节省（</div><div class="t m0 x3f h18 y140 ffb fs4 fc0 sc0 ls0 ws0">V</div><div class="t m0 x8a h1c y292 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x8b h18 y13f ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>30K<span class="_ _2"></span>,<span class="_ _c"></span>50K<span class="_ _4"></span><span class="ff5">）。</span></div><div class="t m0 x0 h7 y293 ff5 fs4 fc0 sc0 ls0 ws0">这个<span class="_ _2"></span>概<span class="_ _2"></span>念<span class="_ _2"></span>和<span class="_ _4"> </span><span class="ff4">NCE<span class="_ _d"> </span></span>非<span class="_ _2"></span>常类<span class="_ _2"></span>似<span class="_ _2"></span>，<span class="_ _2"></span>对任<span class="_ _2"></span>意<span class="_ _2"></span>给<span class="_ _2"></span>定的<span class="_ _2"></span>单<span class="_ _2"></span>词，<span class="_ _2"></span>输<span class="_ _2"></span>出的<span class="_ _2"></span>词<span class="_ _2"></span>汇<span class="_ _2"></span>包</div><div class="t m0 x0 h8 y294 ff5 fs4 fc0 sc0 ls0 ws0">含目<span class="_ _2"></span>标<span class="_ _2"></span>单词<span class="_ _2"></span>和</div><div class="t m0 x8c h18 y295 ffb fs4 fc0 sc0 ls0 ws0">V</div><div class="t m0 x6c h1c y296 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x6d h18 y294 ffb fs4 fc0 sc0 ls0 ws0">−<span class="_ _3"></span>1<span class="_ _d"></span><span class="ff5">个负<span class="_ _2"></span>（<span class="_ _2"></span>噪声<span class="_ _2"></span>）<span class="_ _2"></span>样例<span class="_ _2"></span>。<span class="_ _2"></span>然<span class="_ _2"></span>而，<span class="_ _2"></span>这<span class="_ _2"></span>两个<span class="_ _2"></span>方法<span class="_ _2"></span>主</span></div><div class="t m0 x0 h8 y297 ff5 fs4 fc0 sc0 ls0 ws0">要的<span class="_ _2"></span>不同<span class="_ _2"></span>是<span class="_ _2"></span>，对<span class="_ _2"></span>每个<span class="_ _2"></span>子<span class="_ _2"></span>集</div><div class="t m0 x53 h18 y298 ffb fs4 fc0 sc0 ls0 ws0">V</div><div class="t m0 x50 h1c y299 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x5e h8 y297 ff5 fs4 fc0 sc0 ls0 ws0">，是<span class="_ _2"></span>从偏<span class="_ _2"></span>置<span class="_ _2"></span>分布</div><div class="t m0 x8d h18 y298 ffb fs4 fc0 sc0 ls0 ws0">|Q|</div><div class="t m0 x8e h8 y297 ff5 fs4 fc0 sc0 ls0 ws0">中采<span class="_ _2"></span>样这<span class="_ _2"></span>些<span class="_ _2"></span>负</div><div class="t m0 x0 h8 y29a ff5 fs4 fc0 sc0 ls0 ws0">样例，其中</div><div class="t m0 x65 h18 y29b ffb fs4 fc0 sc0 ls0 ws0"></div><div class="t m0 x4c h1c y29c ffb fs8 fc0 sc0 ls0 ws0"></div><div class="t m0 x87 h26 y29d ffb fsd fc0 sc0 ls0 ws0"></div><div class="t m0 x3e h18 y29b ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x4f h18 y29e ffb fs4 fc0 sc0 ls0 ws0">1</div><div class="t m0 x8b h18 y29f ffb fs4 fc0 sc0 ls0 ws0"></div><div class="t m0 x74 h1c y2a0 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x8f h18 y2a1 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _3"></span><span class="ff4">if<span class="_ _4"> </span></span></div><div class="t m0 x4e h1c y2a2 ffb fs8 fc0 sc0 ls0 ws0"></div><div class="t m0 x35 h18 y2a1 ffb fs4 fc0 sc0 ls0 ws0">∈</div><div class="t m0 x7f h18 y2a3 ffb fs4 fc0 sc0 ls0 ws0"></div><div class="t m0 x68 h1c y2a4 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x7d h18 y2a5 ffb fs4 fc0 sc0 ls0 ws0">0,<span class="_ _3"></span><span class="ff4">otherwi<span class="_ _2"></span>se</span></div><div class="t m0 x0 h7 y2a6 ff5 fs4 fc0 sc0 ls0 ws0">在<span class="_ _2"></span>测<span class="_ _2"></span>试<span class="_ _2"></span>阶<span class="_ _2"></span>段<span class="_ _2"></span>，<span class="_ _5"></span>也可<span class="_ _5"></span>以从<span class="_ _5"></span>整<span class="_ _2"></span>个词<span class="_ _5"></span>汇表<span class="_ _5"></span>中<span class="_ _2"></span>选<span class="_ _2"></span>择<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>子<span class="_ _5"></span>集<span class="ff4">(<span class="_ _2"></span></span>称<span class="_ _2"></span>为<span class="_ _2"></span>候<span class="_ _5"></span>选列</div><div class="t m0 x0 h7 y7f ff5 fs4 fc0 sc0 ls0 ws0">表<span class="ff4">)<span class="_ _2"></span></span>来<span class="_ _5"></span>预测<span class="_ _5"></span>目标<span class="_ _5"></span>单词<span class="_ _5"></span>。<span class="_ _2"></span>挑战<span class="_ _5"></span>在于<span class="_ _5"></span>，正<span class="_ _5"></span>确<span class="_ _2"></span>的<span class="_ _2"></span>目<span class="_ _2"></span>标<span class="_ _2"></span>词<span class="_ _2"></span>是<span class="_ _2"></span>未<span class="_ _2"></span>知<span class="_ _2"></span>的<span class="_ _5"></span>，<span class="_ _2"></span>我<span class="_ _2"></span>们</div><div class="t m0 x0 h7 y2a7 ff5 fs4 fc0 sc0 ls0 ws0">必须<span class="ff4">“</span>猜测<span class="ff4">”</span>目标<span class="_ _2"></span>词可能是<span class="_ _2"></span>什么。</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 y2a8 ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _4"> </span>7<span class="_ _2"></span>:<span class="_ _3"> </span>Training<span class="_ _4"> </span>data<span class="_ _4"> </span>partition</span></div><div class="t m0 x12 h1a y2a9 ffa fs1 fc0 sc0 ls0 ws0">【图<span class="_ _14"> </span><span class="ffd">7</span>：训<span class="_ _2"></span>练数据分区】</div><div class="t m0 x12 h19 y2aa ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _16"> </span>8:<span class="_ _24"> </span>Candidate<span class="_ _16"> </span>list<span class="_ _7"> </span><span class="ffa">【<span class="_ _7"> </span>图</span></span></div><div class="t m0 x12 h1a y2ab ffd fs1 fc0 sc0 ls0 ws0">8<span class="ffa">：候选名单<span class="_ _2"></span>】</span></div><div class="t m0 x12 h19 y2ac ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _f"> </span>9:<span class="_ _10"> </span>Po<span class="_ _2"></span>inter<span class="_ _10"> </span>network</span></div><div class="t m0 x12 h1a y18f ffd fs1 fc0 sc0 ls0 ws0">Architectur<span class="_ _2"></span>e<span class="ffa">【<span class="_ _2"></span>图<span class="_ _15"> </span></span>9<span class="ffa">：<span class="_ _2"></span>指<span class="_ _2"></span>针<span class="_ _2"></span>网<span class="_ _2"></span>络<span class="_ _2"></span>体系</span></div><div class="t m0 x12 h1b y2ad ffa fs1 fc0 sc0 ls0 ws0">结构】</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pff" class="pf w0 h0" data-page-no="f"><div class="pc pcf w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bgf.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w16 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">15</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h8 y5b ff5 fs4 fc0 sc0 ls0 ws0">在<span class="_ _2"></span>论<span class="_ _2"></span>文<span class="_ _2"></span>中<span class="_ _2"></span>，<span class="_ _2"></span>作<span class="_ _2"></span>者<span class="_ _5"></span>提<span class="_ _2"></span>出使<span class="_ _5"></span>用</div><div class="t m0 x90 h18 y2ae ffb fs4 fc0 sc0 ls0 ws0">K</div><div class="t m0 x7d h7 y5b ff5 fs4 fc0 sc0 ls0 ws0">个<span class="_ _2"></span>最<span class="_ _2"></span>常<span class="_ _2"></span>用<span class="_ _2"></span>的<span class="_ _2"></span>单<span class="_ _2"></span>词<span class="_ _5"></span>（<span class="_ _2"></span>基于<span class="_ _6"> </span><span class="ff4">unigram<span class="_ _d"> </span></span>概</div><div class="t m0 x0 h8 y5c ff5 fs4 fc0 sc0 ls0 ws0">率<span class="_ _2"></span>）<span class="_ _2"></span>和</div><div class="t m0 x19 h18 y2af ffb fs4 fc0 sc0 ls0 ws0">K&apos;</div><div class="t m0 x5b h8 y5c ff5 fs4 fc0 sc0 ls0 ws0">个<span class="_ _2"></span>可<span class="_ _2"></span>能<span class="_ _2"></span>的<span class="_ _2"></span>目<span class="_ _2"></span>标<span class="_ _2"></span>词<span class="_ _5"></span>为每<span class="_ _2"></span>个<span class="_ _2"></span>源<span class="_ _5"></span>句构<span class="_ _5"></span>建一<span class="_ _5"></span>个候<span class="_ _5"></span>选列<span class="_ _2"></span>表<span class="_ _2"></span>。<span class="_ _5"></span>在<span class="_ _2"></span>右</div><div class="t m0 x0 h8 y9f ff5 fs4 fc0 sc0 ls0 ws0">图<span class="_ _2"></span>中<span class="_ _2"></span>展<span class="_ _5"></span>示<span class="_ _2"></span>了<span class="_ _2"></span>一<span class="_ _5"></span>个</div><div class="t m0 x91 h18 y9e ffb fs4 fc0 sc0 ls0 ws0">K</div><div class="t m0 x72 h1c y2b0 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x73 h18 y9f ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>3<span class="_ _7"></span><span class="ff5">的<span class="_ _2"></span>例<span class="_ _5"></span>子<span class="_ _2"></span>和<span class="_ _2"></span>候<span class="_ _2"></span>选<span class="_ _5"></span>列<span class="_ _2"></span>表<span class="_ _5"></span>由<span class="_ _2"></span>紫<span class="_ _5"></span>色<span class="_ _2"></span>框<span class="_ _2"></span>中<span class="_ _2"></span>的<span class="_ _5"></span>所<span class="_ _2"></span>有<span class="_ _2"></span>单</span></div><div class="t m0 x0 h8 ya0 ff5 fs4 fc0 sc0 ls0 ws0">词<span class="_ _c"> </span>组<span class="_ _1"> </span>成<span class="_ _1"> </span>。<span class="_ _c"> </span>在<span class="_ _1"> </span>实<span class="_ _1"> </span>际<span class="_ _c"> </span>中<span class="_ _1"> </span>，<span class="_ _1"> </span>我<span class="_ _c"> </span>们<span class="_ _1"> </span>可<span class="_ _c"> </span>以<span class="_ _1"> </span>选<span class="_ _1"> </span>择<span class="_ _c"> </span>以<span class="_ _1"> </span>下<span class="_ _1"> </span>的<span class="_ _c"> </span>参<span class="_ _1"> </span>数<span class="_ _1"> </span>值<span class="_ _c"> </span>：</div><div class="t m0 x84 h18 y2b1 ffb fs4 fc0 sc0 ls0 ws0">K<span class="_ _4"></span>=</div><div class="t m0 x0 h18 ya1 ffb fs4 fc0 sc0 ls0 ws0">15k,<span class="_ _c"></span>30k<span class="_ _2"></span>,<span class="_ _c"></span>50k<span class="_ _2"></span>,</div><div class="t m0 x27 h18 y2b2 ffb fs4 fc0 sc0 ls0 ws0">K</div><div class="t m0 x8c h1c y2b3 ffb fs8 fc0 sc0 ls0 ws0">&apos;</div><div class="t m0 x6c h18 ya1 ffb fs4 fc0 sc0 ls0 ws0">=<span class="_ _4"></span>10,2<span class="_ _2"></span>0<span class="_ _4"></span><span class="ff5">。</span></div><div class="t m0 x0 h11 y2b4 ff9 fs0 fc0 sc0 ls0 ws0">6.3<span class="_ _4"> </span>Handling<span class="_ _6"> </span>unknown<span class="_ _d"> </span>words</div><div class="t m0 x0 h7 y122 ff5 fs4 fc0 sc0 ls0 ws0">当<span class="_ _4"> </span><span class="ff4">NMT<span class="_ _4"> </span></span>系<span class="_ _2"></span>统使<span class="_ _2"></span>用<span class="_ _2"></span>上面提<span class="_ _2"></span>到<span class="_ _2"></span>的方<span class="_ _2"></span>法来<span class="_ _2"></span>以降<span class="_ _2"></span>低<span class="_ _2"></span>有效词<span class="_ _2"></span>汇<span class="_ _2"></span>量，<span class="_ _2"></span>不可避</div><div class="t m0 x0 h8 y2b5 ff5 fs4 fc0 sc0 ls0 ws0">免地<span class="_ _2"></span>，<span class="_ _2"></span>某些<span class="_ _2"></span>单词<span class="_ _2"></span>将<span class="_ _2"></span>被<span class="_ _2"></span>映射<span class="_ _2"></span>到</div><div class="t m0 x7d h18 y2b6 ffb fs4 fc0 sc0 ls0 ws0">&lt;UNK&gt;</div><div class="t m0 x4e h8 y2b5 ff5 fs4 fc0 sc0 ls0 ws0">。例<span class="_ _2"></span>如<span class="_ _2"></span>，当<span class="_ _2"></span>预测<span class="_ _2"></span>词<span class="_ _2"></span>（<span class="_ _2"></span>通常<span class="_ _2"></span>是</div><div class="t m0 x0 h8 y2b7 ff5 fs4 fc0 sc0 ls0 ws0">罕<span class="_ _2"></span>见<span class="_ _5"></span>词<span class="_ _5"></span>）<span class="_ _2"></span>不<span class="_ _5"></span>在<span class="_ _2"></span>候<span class="_ _5"></span>选<span class="_ _2"></span>列<span class="_ _5"></span>表<span class="_ _5"></span>中<span class="_ _2"></span>或<span class="_ _2"></span>当<span class="_ _5"></span>我<span class="_ _5"></span>们<span class="_ _2"></span>在<span class="_ _5"></span>测<span class="_ _5"></span>试<span class="_ _2"></span>阶<span class="_ _2"></span>段<span class="_ _5"></span>遇<span class="_ _5"></span>到<span class="_ _2"></span>未<span class="_ _5"></span>知<span class="_ _5"></span>的<span class="_ _2"></span>单<span class="_ _2"></span>词</div><div class="t m0 x0 h8 y2b8 ff5 fs4 fc0 sc0 ls0 ws0">时，可能会发<span class="_ _2"></span>生这种情况。<span class="_ _2"></span>我们需要<span class="_ _2"></span>新的机制来解<span class="_ _2"></span>决罕见和未知</div><div class="t m0 x0 h8 y2b9 ff5 fs4 fc0 sc0 ls0 ws0">的单词问题。</div><div class="t m0 x0 h7 y2ba ff4 fs4 fc0 sc0 ls0 ws0">Gulcehre<span class="_ _d"> </span><span class="ff5">等人<span class="_ _5"></span>提出<span class="_ _5"></span>了一<span class="_ _5"></span>个想<span class="_ _2"></span>法<span class="_ _5"></span>来处<span class="_ _2"></span>理<span class="_ _2"></span>这<span class="_ _2"></span>些<span class="_ _5"></span>问题<span class="_ _2"></span>：<span class="_ _2"></span>学<span class="_ _5"></span>习从<span class="_ _2"></span>源<span class="_ _5"></span>文本</span></div><div class="t m0 x0 h7 y2bb ff5 fs4 fc0 sc0 ls0 ws0">中<span class="ff4">“<span class="_ _5"></span></span>复制<span class="_ _2"></span><span class="ff4">”<span class="_ _2"></span></span>。<span class="_ _2"></span>该<span class="_ _5"></span>模型<span class="_ _5"></span>应用<span class="_ _2"></span>了<span class="_ _2"></span>注<span class="_ _5"></span>意力<span class="_ _5"></span>分布</div><div class="t m0 x51 h18 y2bc ffb fs4 fc0 sc0 ls0 ws0">l</div><div class="t m0 x37 h1c y2bd ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x61 h8 y2bb ff5 fs4 fc0 sc0 ls0 ws0">来决<span class="_ _5"></span>定源<span class="_ _5"></span>文本<span class="_ _5"></span>中的<span class="_ _5"></span>指向</div><div class="t m0 x0 h18 y2be ff5 fs4 fc0 sc0 ls0 ws0">位置<span class="_ _2"></span>，<span class="_ _2"></span>并<span class="_ _2"></span>使用<span class="_ _2"></span>解<span class="_ _2"></span>码<span class="_ _2"></span>器<span class="_ _2"></span>的隐<span class="_ _2"></span>藏<span class="_ _2"></span>状<span class="_ _2"></span>态<span class="_ _d"> </span><span class="ffb">S</span></div><div class="t m0 x69 h1c y2bf ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x75 h18 y2be ff5 fs4 fc0 sc0 ls0 ws0">来预<span class="_ _2"></span>测<span class="_ _2"></span>二<span class="_ _2"></span>分类<span class="_ _2"></span>变<span class="_ _2"></span>量<span class="_ _d"> </span><span class="ffb">Z</span></div><div class="t m0 x92 h1c y2bf ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x5a h8 y2be ff5 fs4 fc0 sc0 ls0 ws0">，从<span class="_ _2"></span>而</div><div class="t m0 x0 h8 y2c0 ff5 fs4 fc0 sc0 ls0 ws0">决定何时从源<span class="_ _2"></span>文本中复制。</div><div class="t m0 x0 h8 y2c1 ff5 fs4 fc0 sc0 ls0 ws0">最<span class="_ _2"></span>后<span class="_ _2"></span>的<span class="_ _2"></span>预<span class="_ _2"></span>测<span class="_ _2"></span>结<span class="_ _5"></span>果<span class="_ _2"></span>是<span class="_ _2"></span>根<span class="_ _2"></span>据</div><div class="t m0 x3d h18 y2c2 ffb fs4 fc0 sc0 ls0 ws0">Z</div><div class="t m0 x30 h1c y2c3 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x53 h8 y2c1 ff5 fs4 fc0 sc0 ls0 ws0">的<span class="_ _2"></span>值<span class="_ _2"></span>，<span class="_ _2"></span>在<span class="_ _2"></span>候<span class="_ _2"></span>选<span class="_ _5"></span>列<span class="_ _2"></span>表<span class="_ _2"></span>中<span class="_ _2"></span>由<span class="_ _2"></span>前<span class="_ _2"></span>面<span class="_ _5"></span>介<span class="_ _2"></span>绍的<span class="_ _5"></span>方</div><div class="t m0 x0 h7 y2c4 ff5 fs4 fc0 sc0 ls0 ws0">法<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _7"> </span><span class="ff4">softmax<span class="_ _d"> </span></span>选<span class="_ _2"></span>择<span class="_ _5"></span>的<span class="_ _2"></span>词</div><div class="t m0 x8a h18 y2c5 ffb fs4 fc0 sc0 ls0 ws0">y</div><div class="t m0 x7d h1c y2c6 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x7d h1c y2c7 ffb fs8 fc0 sc0 ls0 ws0">w</div><div class="t m0 x31 h8 y2c4 ff5 fs4 fc0 sc0 ls0 ws0">，<span class="_ _2"></span>或<span class="_ _2"></span>者<span class="_ _5"></span>从<span class="_ _2"></span>源<span class="_ _2"></span>文<span class="_ _5"></span>本<span class="_ _2"></span>复<span class="_ _2"></span>制<span class="_ _5"></span>的</div><div class="t m0 xe h18 y2c5 ffb fs4 fc0 sc0 ls0 ws0">y</div><div class="t m0 x59 h1c y2c6 ffb fs8 fc0 sc0 ls0 ws0">t</div><div class="t m0 x59 h1c y2c8 ffb fs8 fc0 sc0 ls0 ws0">l</div><div class="t m0 x5a h8 y2c4 ff5 fs4 fc0 sc0 ls0 ws0">。<span class="_ _2"></span>他<span class="_ _2"></span>们</div><div class="t m0 x0 h8 yac ff5 fs4 fc0 sc0 ls0 ws0">在论文中的结<span class="_ _2"></span>果表明，该方<span class="_ _2"></span>法提高了<span class="_ _2"></span>机器翻译和文<span class="_ _2"></span>本摘要等任务</div><div class="t m0 x0 h8 yad ff5 fs4 fc0 sc0 ls0 ws0">的表现。</div><div class="t m0 x0 h8 y2c9 ff5 fs4 fc0 sc0 ls0 ws0">然而可以想到<span class="_ _2"></span>的是，这种方<span class="_ _2"></span>法也是有<span class="_ _2"></span>局限性的。这<span class="_ _2"></span>是要重点指出</div><div class="t m0 x0 h7 y2ca ff5 fs4 fc0 sc0 ls0 ws0">的<span class="_ _2"></span>是<span class="_ _5"></span>在<span class="_ _7"> </span><span class="ff4">Google<span class="_ _6"> </span>NMT<span class="_ _d"> </span></span>论<span class="_ _5"></span>文<span class="_ _5"></span>中<span class="_ _2"></span>对<span class="_ _5"></span>这<span class="_ _5"></span>个<span class="_ _5"></span>方<span class="_ _2"></span>法<span class="_ _5"></span>的<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _5"></span>评<span class="_ _2"></span>论<span class="_ _5"></span>：<span class="_ _5"></span><span class="ff4">“<span class="_ _2"></span></span>这<span class="_ _5"></span>种<span class="_ _5"></span>做</div><div class="t m0 x0 h7 yb0 ff5 fs4 fc0 sc0 ls0 ws0">法在规模很大<span class="_ _2"></span>时是不可靠的<span class="_ _2"></span><span class="ff4">——</span>当网<span class="_ _2"></span>络是很深的时<span class="_ _2"></span>候，注意<span class="_ _2"></span>力机</div><div class="t m0 x0 h7 yb1 ff5 fs4 fc0 sc0 ls0 ws0">制是不稳定的<span class="_ _2"></span><span class="ff4">——</span>而复制机<span class="_ _2"></span>制可能不<span class="_ _2"></span>是最适合处理<span class="_ _2"></span>罕见单词<span class="_ _2"></span>的策</div><div class="t m0 x0 h7 yb2 ff5 fs4 fc0 sc0 ls0 ws0">略<span class="ff4">——</span>有时<span class="_ _2"></span>音译更合适<span class="ff4">”</span>。</div><div class="t m0 x0 hf y2cb ff8 fs3 fc0 sc0 ls0 ws0">7.<span class="_ _26"> </span>Word<span class="_ _4"> </span>and<span class="_ _4"> </span>character<span class="_ _9"></span>-based<span class="_ _4"> </span>models</div><div class="t m0 x0 h7 y2cc ff5 fs4 fc0 sc0 ls0 ws0">如<span class="_ _2"></span>上<span class="_ _2"></span>一<span class="_ _2"></span>部<span class="_ _2"></span>分<span class="_ _5"></span>所<span class="_ _2"></span>述<span class="_ _2"></span>，<span class="_ _2"></span><span class="ff4">“<span class="_ _2"></span></span>复<span class="_ _5"></span>制<span class="_ _2"></span><span class="ff4">”</span>机<span class="_ _5"></span>制<span class="_ _2"></span>在<span class="_ _2"></span>处<span class="_ _2"></span>理<span class="_ _2"></span>罕<span class="_ _5"></span>见或<span class="_ _5"></span>未<span class="_ _2"></span>知<span class="_ _2"></span>词<span class="_ _2"></span>语<span class="_ _2"></span>上<span class="_ _5"></span>仍<span class="_ _2"></span>然<span class="_ _2"></span>存</div><div class="t m0 x0 h7 y2cd ff5 fs4 fc0 sc0 ls0 ws0">在<span class="_ _2"></span>不<span class="_ _5"></span>足<span class="_ _5"></span>。<span class="_ _2"></span>解<span class="_ _5"></span>决<span class="_ _2"></span>这<span class="_ _5"></span>些<span class="_ _5"></span>问<span class="_ _2"></span>题<span class="_ _5"></span>的<span class="_ _5"></span>另<span class="_ _2"></span>一<span class="_ _5"></span>个<span class="_ _2"></span>思<span class="_ _5"></span>路<span class="_ _5"></span>是<span class="_ _2"></span>在<span class="_ _7"> </span><span class="ff4">sub-wor<span class="_ _2"></span>d<span class="_ _d"> </span></span>的<span class="_ _5"></span>级<span class="_ _5"></span>别<span class="_ _2"></span>进</div><div class="t m0 x0 h7 y2ce ff5 fs4 fc0 sc0 ls0 ws0">行操作。<span class="_ _2"></span>一个趋<span class="_ _2"></span>势是使用<span class="_ _2"></span>相同<span class="_ _2"></span>的<span class="_ _4"> </span><span class="ff4">Seq2Seq<span class="_ _4"> </span></span>架构，<span class="_ _2"></span>但是<span class="_ _2"></span>在更小的</div><div class="t m0 x0 h7 y2cf ff5 fs4 fc0 sc0 ls0 ws0">单元上操作<span class="_ _2"></span><span class="ff4">——</span>基于字符<span class="_ _2"></span>的分词模<span class="_ _2"></span>型。另一个趋<span class="_ _2"></span>势是对单<span class="_ _2"></span>词和字</div><div class="t m0 x0 h8 y2d0 ff5 fs4 fc0 sc0 ls0 ws0">符采用混合架<span class="_ _2"></span>构。</div><div class="t m0 x0 h11 y2d1 ff9 fs0 fc0 sc0 ls0 ws0">7.1<span class="_ _d"> </span>Word<span class="_ _d"> </span>segmentation</div><div class="t m0 x0 h7 y260 ff4 fs4 fc0 sc0 ls0 ws0">Sennrich<span class="_ _7"> </span><span class="ff5">等<span class="_ _5"></span>人<span class="_ _e"></span>提<span class="_ _5"></span>出<span class="_ _e"></span>了<span class="_ _e"></span>一<span class="_ _e"></span>种<span class="_ _5"></span>通<span class="_ _e"></span>过<span class="_ _5"></span>将<span class="_ _e"></span>罕<span class="_ _e"></span>见<span class="_ _5"></span>和<span class="_ _e"></span>未<span class="_ _e"></span>知<span class="_ _5"></span>的<span class="_ _e"></span>单<span class="_ _5"></span>词<span class="_ _e"></span>作<span class="_ _e"></span>为<span class="_ _5"></span>一<span class="_ _e"></span>个</span></div><div class="t m0 x0 h7 y2d2 ff4 fs4 fc0 sc0 ls0 ws0">subword<span class="_ _4"> </span>units<span class="_ _4"> </span><span class="ff5">的序列来<span class="_ _2"></span>实现开放词汇<span class="_ _2"></span>翻译的方法。</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf10" class="pf w0 h0" data-page-no="10"><div class="pc pc10 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg10.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w17 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">16</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h7 y5b ff5 fs4 fc0 sc0 ls0 ws0">这<span class="_ _2"></span>通<span class="_ _2"></span>过<span class="_ _5"></span>调<span class="_ _2"></span>整<span class="_ _2"></span>称<span class="_ _2"></span>为<span class="_ _6"> </span><span class="ff4">Byte<span class="_ _6"> </span>Pair<span class="_ _d"> </span>Encoding<span class="_ _d"> </span></span>的<span class="_ _5"></span>压<span class="_ _2"></span>缩<span class="_ _2"></span>算<span class="_ _2"></span>法<span class="_ _5"></span>来<span class="_ _2"></span>实<span class="_ _2"></span>现<span class="_ _2"></span>。<span class="_ _5"></span>基<span class="_ _2"></span>本</div><div class="t m0 x0 h7 y5c ff5 fs4 fc0 sc0 ls0 ws0">思<span class="_ _2"></span>想<span class="_ _2"></span>是<span class="_ _2"></span>从<span class="_ _2"></span>字<span class="_ _2"></span>符<span class="_ _2"></span>词<span class="_ _5"></span>汇<span class="_ _2"></span>表开<span class="_ _5"></span>始，<span class="_ _5"></span>并且<span class="_ _5"></span>继<span class="_ _2"></span>续<span class="_ _2"></span>扩<span class="_ _2"></span>展<span class="_ _2"></span>数<span class="_ _2"></span>据<span class="_ _2"></span>集<span class="_ _2"></span>中<span class="_ _2"></span>最<span class="_ _5"></span>常<span class="_ _2"></span>见<span class="_ _2"></span>的<span class="_ _6"> </span><span class="ff4">n-</span></div><div class="t m0 x0 h7 y9f ff4 fs4 fc0 sc0 ls0 ws0">gram<span class="_ _4"> </span><span class="ff5">对。例<span class="_ _2"></span>如<span class="_ _2"></span>，在<span class="_ _2"></span>右图<span class="_ _2"></span>中，<span class="_ _2"></span>我<span class="_ _2"></span>们的数<span class="_ _2"></span>据集<span class="_ _2"></span>包<span class="_ _2"></span>含<span class="_ _4"> </span></span>4<span class="_ _4"> </span><span class="ff5">个<span class="_ _2"></span>单词<span class="_ _2"></span>，图<span class="_ _2"></span>中</span></div><div class="t m0 x0 h18 ya0 ff5 fs4 fc0 sc0 ls0 ws0">的<span class="_ _2"></span>左<span class="_ _2"></span>边<span class="_ _2"></span>的<span class="_ _2"></span>表<span class="_ _2"></span>示<span class="_ _2"></span>单<span class="_ _5"></span>词频<span class="_ _2"></span>率<span class="_ _2"></span>，<span class="_ _5"></span>例如<span class="_ _5"></span><span class="ff4">“low”<span class="_ _2"></span></span>出<span class="_ _2"></span>现<span class="_ _2"></span>了<span class="_ _6"> </span><span class="ff4">5<span class="_ _d"> </span></span>次<span class="_ _2"></span>。<span class="_ _2"></span>用<span class="_ _d"> </span><span class="ffb">(p,<span class="_ _c"></span>q<span class="_ _2"></span>,<span class="_ _c"></span>f)<span class="_ _6"></span></span>来</div><div class="t m0 x0 h7 ya1 ff5 fs4 fc0 sc0 ls0 ws0">表示一<span class="_ _2"></span>个<span class="_ _4"> </span><span class="ff4">n-gram<span class="_ _d"> </span></span>对</div><div class="t m0 x6a h18 y2b2 ffb fs4 fc0 sc0 ls0 ws0">p,<span class="_ _c"></span>q</div><div class="t m0 x30 h18 ya1 ff5 fs4 fc0 sc0 ls0 ws0">和出现<span class="_ _2"></span>的频<span class="_ _2"></span>率<span class="_ _4"> </span><span class="ffb">f<span class="_ _4"></span></span>。<span class="_ _2"></span>如图中<span class="_ _2"></span>所示<span class="_ _2"></span>，我<span class="_ _2"></span>们已</div><div class="t m0 x0 h7 ya2 ff5 fs4 fc0 sc0 ls0 ws0">经<span class="_ _2"></span>选<span class="_ _2"></span>择<span class="_ _5"></span>的<span class="_ _2"></span>频<span class="_ _2"></span>率<span class="_ _2"></span>最<span class="_ _2"></span>高<span class="_ _5"></span>的<span class="_ _2"></span>的<span class="_ _6"> </span><span class="ff4">n-gram<span class="_ _d"> </span></span>对</div><div class="t m0 x3a h18 y2d3 ffb fs4 fc0 sc0 ls0 ws0">(e,<span class="_ _c"></span>s,<span class="_ _c"></span>9<span class="_ _2"></span>)</div><div class="t m0 x86 h8 ya2 ff5 fs4 fc0 sc0 ls0 ws0">，<span class="_ _2"></span>然<span class="_ _2"></span>后<span class="_ _5"></span>我<span class="_ _2"></span>们<span class="_ _2"></span>现<span class="_ _2"></span>在<span class="_ _2"></span>增<span class="_ _5"></span>加</div><div class="t m0 x0 h18 ya3 ff5 fs4 fc0 sc0 ls0 ws0">当前频率<span class="_ _2"></span>最高的<span class="_ _2"></span>的<span class="_ _4"> </span><span class="ff4">n-gram<span class="_ _4"> </span></span>对<span class="_ _4"> </span><span class="ffb">(es,<span class="_ _c"></span>t,<span class="_ _c"></span>9<span class="_ _2"></span>)<span class="_ _4"></span></span>。重复<span class="_ _2"></span>此过程<span class="_ _2"></span>，直到所<span class="_ _2"></span>有</div><div class="t m0 x0 h7 ya4 ff4 fs4 fc0 sc0 ls0 ws0">n-gram<span class="_ _4"> </span><span class="ff5">对被选择<span class="_ _2"></span>过或词汇大小<span class="_ _2"></span>达到某个阈值<span class="_ _2"></span>。</span></div><div class="t m0 x0 h8 ya5 ff5 fs4 fc0 sc0 ls0 ws0">我们可以选择<span class="_ _2"></span>为训练集和测<span class="_ _2"></span>试集构建<span class="_ _2"></span>单独的词汇表<span class="_ _2"></span>，或者共同构</div><div class="t m0 x0 h7 ya6 ff5 fs4 fc0 sc0 ls0 ws0">建一个词<span class="_ _2"></span>汇表。<span class="_ _2"></span>在构建词<span class="_ _2"></span>汇表<span class="_ _2"></span>之后，一<span class="_ _2"></span>个带有<span class="_ _4"> </span><span class="ff4">Seq<span class="_ _2"></span>2Seq<span class="_ _4"> </span></span>体系结</div><div class="t m0 x0 h7 y8 ff5 fs4 fc0 sc0 ls0 ws0">构的<span class="_ _4"> </span><span class="ff4">NMT<span class="_ _4"> </span></span>系<span class="_ _2"></span>统（<span class="_ _2"></span><span class="ff4">Bahdan<span class="_ _2"></span>au<span class="_ _4"> </span></span>等人在<span class="_ _2"></span>论文<span class="_ _2"></span>中<span class="_ _2"></span>使用的<span class="_ _2"></span>），<span class="_ _2"></span>可以<span class="_ _2"></span>直接</div><div class="t m0 x0 h7 y9 ff5 fs4 fc0 sc0 ls0 ws0">训练<span class="_ _2"></span>这<span class="_ _2"></span>些<span class="_ _2"></span>词段<span class="_ _2"></span>。<span class="_ _2"></span>值<span class="_ _2"></span>得<span class="_ _2"></span>注<span class="_ _2"></span>意<span class="_ _2"></span>的<span class="_ _2"></span>是<span class="_ _2"></span>，这<span class="_ _2"></span>种<span class="_ _2"></span>方<span class="_ _2"></span>法赢<span class="_ _2"></span>得<span class="_ _2"></span>了<span class="_ _d"> </span><span class="ff4">WMT<span class="_ _d"> </span>2016<span class="_ _d"> </span></span>的</div><div class="t m0 x0 h8 ya ff5 fs4 fc0 sc0 ls0 ws0">第一名。</div><div class="t m0 x0 h11 y2d4 ff9 fs0 fc0 sc0 ls0 ws0">7.2<span class="_ _d"> </span>Character-based<span class="_ _d"> </span>model</div><div class="t m0 x0 h7 y2c0 ff4 fs4 fc0 sc0 ls0 ws0">Ling<span class="_ _d"> </span><span class="ff5">等<span class="_ _2"></span>人<span class="_ _5"></span>提<span class="_ _2"></span>出<span class="_ _5"></span>了<span class="_ _2"></span>一<span class="_ _2"></span>种<span class="_ _5"></span>基<span class="_ _2"></span>于<span class="_ _5"></span>字<span class="_ _2"></span>符<span class="_ _2"></span>的<span class="_ _5"></span>模<span class="_ _2"></span>型<span class="_ _5"></span>来<span class="_ _2"></span>实<span class="_ _2"></span>现<span class="_ _5"></span>开<span class="_ _2"></span>放<span class="_ _5"></span>词<span class="_ _2"></span>汇<span class="_ _2"></span>表<span class="_ _5"></span>示<span class="_ _2"></span>。<span class="_ _5"></span>对</span></div><div class="t m0 x0 h7 y2d5 ff5 fs4 fc0 sc0 ls0 ws0">于<span class="_ _5"></span>具<span class="_ _5"></span>有<span class="_ _16"> </span><span class="ff4">m<span class="_ _6"> </span></span>个<span class="_ _5"></span>字<span class="_ _5"></span>符<span class="_ _5"></span>的<span class="_ _5"></span>每<span class="_ _5"></span>个<span class="_ _5"></span>单<span class="_ _5"></span>词<span class="_ _0"> </span><span class="ff4">w<span class="_ _5"></span></span>，<span class="_ _5"></span>该<span class="_ _5"></span>模<span class="_ _5"></span>型<span class="_ _5"></span>不<span class="_ _5"></span>是<span class="_ _5"></span>存<span class="_ _5"></span>储<span class="_ _5"></span>单<span class="_ _5"></span>词<span class="_ _e"></span>的<span class="_ _5"></span>词<span class="_ _5"></span>向</div><div class="t m0 x0 h8 y2d6 ff5 fs4 fc0 sc0 ls0 ws0">量<span class="_ _2"></span>，<span class="_ _5"></span>而<span class="_ _5"></span>是<span class="_ _5"></span>遍<span class="_ _5"></span>历<span class="_ _2"></span>所<span class="_ _5"></span>有<span class="_ _2"></span>字<span class="_ _5"></span>符</div><div class="t m0 x3e h18 y2d7 ffb fs4 fc0 sc0 ls0 ws0">c</div><div class="t m0 x3f h1c y2d8 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x90 h18 y2d7 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>c</div><div class="t m0 x7d h1c y2d8 ffb fs8 fc0 sc0 ls0 ws0">2</div><div class="t m0 x4f h18 y2d7 ffb fs4 fc0 sc0 ls0 ws0">…c</div><div class="t m0 x8f h1c y2d8 ffb fs8 fc0 sc0 ls0 ws0">m</div><div class="t m0 x69 h8 y2d6 ff5 fs4 fc0 sc0 ls0 ws0">查<span class="_ _2"></span>找<span class="_ _5"></span>字<span class="_ _5"></span>符<span class="_ _5"></span>嵌<span class="_ _5"></span>入</div><div class="t m0 x49 h18 y2d7 ffb fs4 fc0 sc0 ls0 ws0">e</div><div class="t m0 x8e h1c y2d8 ffb fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x7a h18 y2d7 ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>e</div><div class="t m0 x93 h1c y2d8 ffb fs8 fc0 sc0 ls0 ws0">2</div><div class="t m0 x6f h18 y2d7 ffb fs4 fc0 sc0 ls0 ws0">…e</div><div class="t m0 x5a h1c y2d8 ffb fs8 fc0 sc0 ls0 ws0">m</div><div class="t m0 x1f h8 y2d6 ff5 fs4 fc0 sc0 ls0 ws0">。<span class="_ _2"></span>然</div><div class="t m0 x0 h7 y2d9 ff5 fs4 fc0 sc0 ls0 ws0">后<span class="_ _2"></span>将<span class="_ _5"></span>这<span class="_ _2"></span>些<span class="_ _5"></span>字<span class="_ _2"></span>符<span class="_ _5"></span>嵌<span class="_ _2"></span>入<span class="_ _5"></span>作<span class="_ _2"></span>为<span class="_ _7"> </span><span class="ff4">biLSTM<span class="_ _d"> </span></span>输<span class="_ _5"></span>入<span class="_ _2"></span>，<span class="_ _5"></span>以<span class="_ _2"></span>分<span class="_ _2"></span>别<span class="_ _5"></span>获<span class="_ _2"></span>得<span class="_ _5"></span>用<span class="_ _2"></span>于<span class="_ _5"></span>前<span class="_ _2"></span>向<span class="_ _5"></span>和</div><div class="t m0 x0 h8 y2da ff5 fs4 fc0 sc0 ls0 ws0">后向<span class="_ _2"></span>的<span class="_ _2"></span>最终<span class="_ _2"></span>隐<span class="_ _2"></span>藏状<span class="_ _2"></span>态</div><div class="t m0 x6a h18 y2db ffb fs4 fc0 sc0 ls0 ws0">ℎ</div><div class="t m0 x5 h1c y2dc ffb fs8 fc0 sc0 ls0 ws0">f</div><div class="t m0 x2e h18 y2db ffb fs4 fc0 sc0 ls0 ws0">,<span class="_ _c"></span>ℎ</div><div class="t m0 x30 h1c y2dc ffb fs8 fc0 sc0 ls0 ws0">b</div><div class="t m0 x8a h8 y2da ff5 fs4 fc0 sc0 ls0 ws0">。最<span class="_ _2"></span>终<span class="_ _2"></span>的词<span class="_ _2"></span>向<span class="_ _2"></span>量是<span class="_ _2"></span>由<span class="_ _2"></span>两<span class="_ _2"></span>个隐<span class="_ _2"></span>藏<span class="_ _2"></span>状<span class="_ _2"></span>态的</div><div class="t m0 x0 h8 y2dd ff5 fs4 fc0 sc0 ls0 ws0">仿射变换来计<span class="_ _2"></span>算而得：</div><div class="t m0 x65 h18 y2de ffb fs4 fc0 sc0 ls0 ws0">e</div><div class="t m0 x6a h1c y2df ffb fs8 fc0 sc0 ls0 ws0">w</div><div class="t m0 x3d h18 y2e0 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x7b h18 y2de ffb fs4 fc0 sc0 ls0 ws0">W</div><div class="t m0 x94 h1c y2df ffb fs8 fc0 sc0 ls0 ws0">f</div><div class="t m0 x8b h18 y2de ffb fs4 fc0 sc0 ls0 ws0">H</div><div class="t m0 x31 h1c y2df ffb fs8 fc0 sc0 ls0 ws0">f</div><div class="t m0 x38 h18 y2de ffb fs4 fc0 sc0 ls0 ws0">+<span class="_ _3"></span>W</div><div class="t m0 x3a h1c y2e1 ffb fs8 fc0 sc0 ls0 ws0">b</div><div class="t m0 x95 h18 y2de ffb fs4 fc0 sc0 ls0 ws0">H</div><div class="t m0 x36 h1c y2e1 ffb fs8 fc0 sc0 ls0 ws0">b</div><div class="t m0 x60 h18 y2de ffb fs4 fc0 sc0 ls0 ws0">+<span class="_ _1"></span>b</div><div class="t m0 x0 h11 y13c ff9 fs0 fc0 sc0 ls0 ws0">7.3<span class="_ _d"> </span>Hybrid<span class="_ _d"> </span>NMT</div><div class="t m0 x0 h7 y2e2 ff4 fs4 fc0 sc0 ls0 ws0">Luong<span class="_ _d"> </span><span class="ff5">等<span class="_ _5"></span>人<span class="_ _2"></span>提<span class="_ _5"></span>出<span class="_ _2"></span>了<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>混<span class="_ _2"></span>合<span class="_ _5"></span>词<span class="_ _2"></span>字<span class="_ _5"></span>模<span class="_ _5"></span>型<span class="_ _2"></span>来<span class="_ _2"></span>处<span class="_ _5"></span>理<span class="_ _5"></span>未<span class="_ _2"></span>知<span class="_ _5"></span>词<span class="_ _2"></span>，<span class="_ _5"></span>从<span class="_ _2"></span>而<span class="_ _5"></span>实<span class="_ _2"></span>现</span></div><div class="t m0 x0 h7 y2e3 ff5 fs4 fc0 sc0 ls0 ws0">开放<span class="_ _2"></span>词<span class="_ _2"></span>汇<span class="_ _6"> </span><span class="ff4">NMT<span class="_ _2"></span></span>。<span class="_ _2"></span>系<span class="_ _2"></span>统<span class="_ _2"></span>主要<span class="_ _2"></span>进<span class="_ _2"></span>行<span class="_ _2"></span>单<span class="_ _2"></span>词<span class="_ _2"></span>级<span class="_ _2"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>，<span class="_ _2"></span>并<span class="_ _2"></span>查<span class="_ _2"></span>阅罕<span class="_ _2"></span>见<span class="_ _2"></span>单<span class="_ _2"></span>词<span class="_ _2"></span>的</div><div class="t m0 x0 h8 y2e4 ff5 fs4 fc0 sc0 ls0 ws0">字<span class="_ _2"></span>符<span class="_ _5"></span>组<span class="_ _5"></span>成<span class="_ _2"></span>。<span class="_ _5"></span>在<span class="_ _2"></span>高<span class="_ _5"></span>层<span class="_ _2"></span>次<span class="_ _5"></span>上<span class="_ _5"></span>，<span class="_ _2"></span>字<span class="_ _2"></span>符<span class="_ _5"></span>级<span class="_ _5"></span>循<span class="_ _2"></span>环<span class="_ _5"></span>神<span class="_ _5"></span>经<span class="_ _2"></span>网<span class="_ _2"></span>络<span class="_ _5"></span>计<span class="_ _5"></span>算<span class="_ _2"></span>源<span class="_ _5"></span>单<span class="_ _5"></span>词<span class="_ _2"></span>词<span class="_ _2"></span>表</div><div class="t m0 x0 h8 y2e5 ff5 fs4 fc0 sc0 ls0 ws0">示，并在需要<span class="_ _2"></span>时重新获得未<span class="_ _2"></span>知目标单<span class="_ _2"></span>词。这种混合<span class="_ _2"></span>方法的双重优</div><div class="t m0 x0 h8 y2e6 ff5 fs4 fc0 sc0 ls0 ws0">点在于，它的<span class="_ _2"></span>训练比基于字<span class="_ _2"></span>符的方法<span class="_ _2"></span>要快得多，而<span class="_ _2"></span>且更容易进行</div><div class="t m0 x0 h8 y2e7 ff5 fs4 fc0 sc0 ls0 ws0">训练；同时，<span class="_ _2"></span>它不会像基于<span class="_ _2"></span>单词的模<span class="_ _2"></span>型，产生未知<span class="_ _2"></span>的单词。</div><div class="t m0 x0 h7 y2e8 ff5 fs4 fc0 sc0 ls0 ws0">基<span class="_ _2"></span>于<span class="_ _5"></span>单<span class="_ _2"></span>词<span class="_ _5"></span>的<span class="_ _5"></span>翻<span class="_ _2"></span>译<span class="_ _2"></span>作<span class="_ _5"></span>为<span class="_ _5"></span>主<span class="_ _2"></span>干<span class="_ _7"> </span>：<span class="_ _2"></span>混<span class="_ _5"></span>合<span class="_ _7"> </span><span class="ff4">NMT<span class="_ _4"> </span></span>的<span class="_ _5"></span>核<span class="_ _5"></span>心<span class="_ _2"></span>是<span class="_ _5"></span>一<span class="_ _2"></span>个<span class="_ _5"></span>单<span class="_ _2"></span>词<span class="_ _5"></span>级<span class="_ _2"></span>翻</div><div class="t m0 x0 h7 y2e9 ff5 fs4 fc0 sc0 ls0 ws0">译的深<span class="_ _2"></span>度<span class="_ _4"> </span><span class="ff4">L<span class="_ _2"></span>STM<span class="_ _4"> </span></span>编码<span class="_ _2"></span>器<span class="ff4">—</span>解<span class="_ _2"></span>码器<span class="_ _2"></span>。我<span class="_ _2"></span>们对<span class="_ _2"></span>每种<span class="_ _2"></span>语言维<span class="_ _2"></span>护<span class="_ _2"></span>大小</div><div class="t m0 x62 h18 y2ea ffb fs4 fc0 sc0 ls0 ws0">|V|</div><div class="t m0 x0 h8 y2eb ff5 fs4 fc0 sc0 ls0 ws0">的词汇表和使<span class="_ _2"></span>用</div><div class="t m0 x6c h18 y2ec ffb fs4 fc0 sc0 ls0 ws0">&lt;UNK&gt;</div><div class="t m0 x5d h7 y2eb ff5 fs4 fc0 sc0 ls0 ws0">来表示<span class="_ _4"> </span><span class="ff4">OOV<span class="_ _4"> </span></span>词汇。</div><div class="t m0 x0 h7 y2ed ff5 fs4 fc0 sc0 ls0 ws0">基于字<span class="_ _2"></span>符<span class="_ _2"></span>表示<span class="_ _d"> </span>：在<span class="_ _2"></span>常规<span class="_ _2"></span>的基<span class="_ _2"></span>于单<span class="_ _2"></span>词的<span class="_ _d"> </span><span class="ff4">NMT<span class="_ _2"></span></span>，是<span class="_ _2"></span>使用<span class="_ _2"></span>一个<span class="_ _2"></span>通用<span class="_ _2"></span>的</div><div class="t m0 x0 h18 y2ee ffb fs4 fc0 sc0 ls0 ws0">&lt;UNK&gt;</div><div class="t m0 x2a h7 y2ef ff5 fs4 fc0 sc0 ls0 ws0">词向<span class="_ _5"></span>量来<span class="_ _2"></span>表<span class="_ _5"></span>示全<span class="_ _2"></span>部<span class="_ _6"> </span><span class="ff4">OOV<span class="_ _4"> </span></span>词<span class="_ _2"></span>汇<span class="_ _2"></span>。<span class="_ _2"></span>这<span class="_ _2"></span>是<span class="_ _2"></span>有<span class="_ _2"></span>问<span class="_ _2"></span>题<span class="_ _5"></span>的，<span class="_ _2"></span>因<span class="_ _2"></span>为<span class="_ _2"></span>它</div><div class="t m0 x0 h8 y2f0 ff5 fs4 fc0 sc0 ls0 ws0">丢弃了关于源<span class="_ _2"></span>单词的有价值<span class="_ _2"></span>的信息。<span class="_ _2"></span>相反，我们学<span class="_ _2"></span>习了一个关于</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 y2f1 ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _7"> </span>10:<span class="_ _6"> </span>Byte<span class="_ _7"> </span>P<span class="_ _2"></span>air<span class="_ _6"> </span>Encod<span class="_ _2"></span>ing</span></div><div class="t m0 x12 h1a y2f2 ffa fs1 fc0 sc0 ls0 ws0">【图<span class="_ _14"> </span><span class="ffd">10</span>：字节对编<span class="_ _2"></span>码】</div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf11" class="pf w0 h0" data-page-no="11"><div class="pc pc11 w0 h0"><img class="bi x0 y0 w6 h1" alt="" src="bg11.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w14 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">17</div></div><div class="c x2 y7 w3 he"><div class="t m0 x0 h7 y5b ff5 fs4 fc0 sc0 ls0 ws0">罕见<span class="_ _2"></span>单<span class="_ _2"></span>词<span class="_ _2"></span>的字<span class="_ _2"></span>符<span class="_ _2"></span>的<span class="_ _2"></span>深层<span class="_ _d"> </span><span class="ff4">LSTM<span class="_ _d"> </span></span>模<span class="_ _2"></span>型，<span class="_ _2"></span>并<span class="_ _2"></span>使<span class="_ _2"></span>用<span class="_ _d"> </span><span class="ff4">LSTM<span class="_ _4"> </span></span>的<span class="_ _2"></span>最<span class="_ _2"></span>终<span class="_ _2"></span>隐藏</div><div class="t m0 x0 h8 y5c ff5 fs4 fc0 sc0 ls0 ws0">状态作为罕见<span class="_ _2"></span>单词的表示（<span class="_ _2"></span>如右图<span class="_ _2"></span>所示）。</div><div class="t m0 x0 h7 y27a ff5 fs4 fc0 sc0 ls0 ws0">目<span class="_ _2"></span>标<span class="_ _5"></span>字<span class="_ _2"></span>符<span class="_ _5"></span>级<span class="_ _5"></span>别<span class="_ _2"></span>生<span class="_ _2"></span>成<span class="_ _7"> </span>：<span class="_ _5"></span>一<span class="_ _2"></span>般<span class="_ _5"></span>基<span class="_ _2"></span>于<span class="_ _5"></span>单<span class="_ _2"></span>词<span class="_ _5"></span>的<span class="_ _7"> </span><span class="ff4">NMT<span class="_ _d"> </span></span>允<span class="_ _5"></span>许<span class="_ _2"></span>目<span class="_ _2"></span>标<span class="_ _5"></span>输<span class="_ _5"></span>出<span class="_ _2"></span>生<span class="_ _5"></span>成</div><div class="t m0 x0 h8 y1ee ff5 fs4 fc0 sc0 ls0 ws0">的</div><div class="t m0 x96 h18 y2f3 ffb fs4 fc0 sc0 ls0 ws0">&lt;UNK&gt;</div><div class="t m0 x1a h8 y1ee ff5 fs4 fc0 sc0 ls0 ws0">。相反，<span class="_ _2"></span>这里的<span class="_ _2"></span>目标是创建<span class="_ _2"></span>一个处<span class="_ _2"></span>理无限输<span class="_ _2"></span>出词汇<span class="_ _2"></span>表</div><div class="t m0 x0 h8 y27b ff5 fs4 fc0 sc0 ls0 ws0">的连贯框架。<span class="_ _2"></span>解决方案是，<span class="_ _2"></span>在给定当<span class="_ _2"></span>前单词级别的<span class="_ _2"></span>状态下，使用</div><div class="t m0 x0 h7 y27c ff5 fs4 fc0 sc0 ls0 ws0">一个<span class="_ _2"></span>单<span class="_ _2"></span>独<span class="_ _2"></span>的深<span class="_ _2"></span>层<span class="_ _d"> </span><span class="ff4">LSTM<span class="_ _d"> </span></span>来<span class="_ _2"></span>进行<span class="_ _2"></span>字<span class="_ _2"></span>符<span class="_ _2"></span>级别<span class="_ _2"></span>的<span class="_ _2"></span><span class="ff4">“<span class="_ _2"></span></span>翻译<span class="_ _2"></span><span class="ff4">”<span class="_ _2"></span></span>。<span class="_ _2"></span>注意<span class="_ _2"></span>，<span class="_ _2"></span>当<span class="_ _2"></span>前</div><div class="t m0 x0 h8 y2f4 ff5 fs4 fc0 sc0 ls0 ws0">单词上下文用<span class="_ _2"></span>于初始化字符<span class="_ _2"></span>级编码器<span class="_ _2"></span>。该系统的训<span class="_ _2"></span>练方法是，每</div><div class="t m0 x0 h18 y2f5 ff5 fs4 fc0 sc0 ls0 ws0">当单<span class="_ _2"></span>词级<span class="_ _2"></span>别<span class="_ _2"></span>的<span class="_ _4"> </span><span class="ff4">NMT<span class="_ _d"> </span></span>产生<span class="_ _2"></span>一<span class="_ _2"></span>个<span class="_ _2"></span>的<span class="_ _4"> </span><span class="ffb">&lt;UNK&gt;<span class="_ _d"></span></span>时<span class="_ _2"></span>候<span class="_ _2"></span>，字<span class="_ _2"></span>符级<span class="_ _2"></span>的<span class="_ _2"></span>解<span class="_ _2"></span>码器</div><div class="t m0 x0 h7 ya5 ff5 fs4 fc0 sc0 ls0 ws0">就被要求重新<span class="_ _2"></span>未知目标单词<span class="_ _2"></span>的正确的<span class="_ _4"> </span><span class="ff4">surfac<span class="_ _2"></span>e<span class="_ _4"> </span>form</span>。</div></div><div class="c x11 y7 wc he"><div class="t m0 x12 h19 y2f6 ffc fs7 fc0 sc0 ls0 ws0">❐<span class="_ _7"> </span><span class="ffd fs1">Figure<span class="_ _12"> </span>11:<span class="_ _12"> </span>Hybrid<span class="_ _0"> </span>NMT <span class="ffa">【<span class="_ _1"> </span>图</span></span></div><div class="t m0 x12 h1a y2f7 ffd fs1 fc0 sc0 ls0 ws0">11<span class="ffa">：混<span class="_ _2"></span>合<span class="_ _1f"> </span></span>NMT<span class="_ _2"></span><span class="ffa">】</span></div></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
<div id="pf12" class="pf w0 h0" data-page-no="12"><div class="pc pc12 w0 h0"><img class="bi x0 y0 w18 h1" alt="" src="bg12.png"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">CS224n<span class="_ _0"> </span><span class="ff2 fs1">|<span class="_ _1"> </span>Natural<span class="_ _1"> </span>Langua<span class="_ _2"></span>ge<span class="_ _1"> </span>Processing<span class="_ _1"> </span>wit<span class="_ _2"></span>h<span class="_ _1"> </span>Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span><span class="ff3">•<span class="_ _1"> </span></span>Stanford<span class="_ _1"> </span>U<span class="_ _2"></span>niversity</span></div><div class="t m0 x0 h2 y2 ff2 fs1 fc0 sc0 ls0 ws0">Lecture<span class="_ _1"> </span>Notes:<span class="_ _3"> </span>Part<span class="_ _1"> </span><span class="ff1">VI<span class="_ _1"> </span></span>-<span class="_ _1"> </span>Neural<span class="_ _1"> </span>Machine<span class="_ _3"> </span>Translation,<span class="_ _1"> </span>Se<span class="_ _2"></span>q2seq<span class="_ _1"> </span>and<span class="_ _1"> </span>Atte<span class="_ _2"></span>ntion</div><div class="c x77 y3 w13 h3"><div class="t m0 x2 h4 y4 ff4 fs2 fc0 sc0 ls0 ws0">18</div></div><div class="c x0 y2f8 w19 h29"><div class="t m0 x4 h2a y2f9 ff7 fs1 fc0 sc0 ls0 ws0">机器学习</div></div><div class="c x73 y2f8 w1a h29"><div class="t m0 x4 h2a y2fa ff7 fs1 fc0 sc0 ls0 ws0">深度学习</div></div><div class="c x97 y2f8 w1b h29"><div class="t m0 x4 h2a y2f9 ff7 fs1 fc0 sc0 ls0 ws0">自然语言处<span class="_ _2"></span>理</div></div><div class="c x98 y2f8 w1c h29"><div class="t m0 x4 h2a y2fa ff7 fs1 fc0 sc0 ls0 ws0">计算机视觉</div></div><div class="c x99 y2f8 w5 h29"><div class="t m0 x4 h2a y2f9 ff7 fs1 fc0 sc0 ls0 ws0">知识图谱</div></div><div class="c x0 y2fb w19 h29"><div class="t m0 x4 h4 y2fc ff4 fs2 fc0 sc0 ls0 ws0">Machine<span class="_ _1"> </span>Le<span class="_ _2"></span>arning</div></div><div class="c x73 y2fb w1a h29"><div class="t m0 x4 h4 y2fd ff4 fs2 fc0 sc0 ls0 ws0">Deep<span class="_ _1"> </span>Le<span class="_ _2"></span>arning</div></div><div class="c x97 y2fb w1b h29"><div class="t m0 x4 h4 y2fc ff4 fs2 fc0 sc0 ls0 ws0">Natural<span class="_ _1"> </span>Language<span class="_ _3"> </span>Processing</div></div><div class="c x98 y2fb w1c h29"><div class="t m0 x4 h4 y2fd ff4 fs2 fc0 sc0 ls0 ws0">Computer<span class="_ _1"> </span>Vision</div></div><div class="c x99 y2fb w5 h29"><div class="t m0 x4 h4 y2fc ff4 fs2 fc0 sc0 ls0 ws0">Knowledge<span class="_ _1"> </span>Graph<span class="_ _2"></span>s</div></div><div class="c x0 y2fe w19 h29"><div class="t m0 x4 h4 y2ff ff4 fs2 fc0 sc0 ls0 ws0">Stanford<span class="_ _1"> </span>·<span class="_ _3"> </span>CS229</div></div><div class="c x73 y2fe w1a h29"><div class="t m0 x4 h4 y300 ff4 fs2 fc0 sc0 ls0 ws0">Stanford<span class="_ _1"> </span>·<span class="_ _3"> </span>CS230</div></div><div class="c x97 y2fe w1b h29"><div class="t m0 x4 h4 y2ff ff4 fs2 fc0 sc0 ls0 ws0">Stanford<span class="_ _12"> </span>·<span class="_ _3"> </span>CS224n</div></div><div class="c x98 y2fe w1c h29"><div class="t m0 x4 h4 y300 ff4 fs2 fc0 sc0 ls0 ws0">Stanford<span class="_ _1"> </span>·<span class="_ _3"> </span>CS231n</div></div><div class="c x99 y2fe w5 h29"><div class="t m0 x4 h4 y2ff ff4 fs2 fc0 sc0 ls0 ws0">Stanford<span class="_ _1"> </span>·<span class="_ _3"> </span>CS520</div></div><div class="c x0 y301 w1d h2b"><div class="t m0 x27 h13 y302 ff7 fs0 fc0 sc0 ls0 ws0">#<span class="_ _4"> </span>系列内容<span class="_ _d"> </span>A<span class="_ _2"></span>wesome<span class="_ _d"> </span>AI<span class="_ _d"> </span>Courses<span class="_ _d"> </span>Notes<span class="_ _d"> </span>Cheatsheets</div></div><div class="c x0 y303 w1e h29"><div class="t m0 x4 h2a y2f9 ff7 fs1 fc0 sc0 ls0 ws0">图机器学习</div></div><div class="c x97 y303 w1b h29"><div class="t m0 x4 h2a y2fa ff7 fs1 fc0 sc0 ls0 ws0">深度强化学<span class="_ _2"></span>习</div></div><div class="c x98 y303 w1f h29"><div class="t m0 x4 h2a y2fa ff7 fs1 fc0 sc0 ls0 ws0">自动驾驶</div></div><div class="c x0 y304 w1e h29"><div class="t m0 x4 h4 y2fc ff4 fs2 fc0 sc0 ls0 ws0">Machine<span class="_ _1"> </span>Le<span class="_ _2"></span>arning<span class="_ _1"> </span>with<span class="_ _1"> </span>Grap<span class="_ _2"></span>hs</div></div><div class="c x97 y304 w1b h29"><div class="t m0 x4 h4 y2fd ff4 fs2 fc0 sc0 ls0 ws0">Deep<span class="_ _1"> </span>Rei<span class="_ _2"></span>nforcement<span class="_ _1"> </span>Learning</div></div><div class="c x98 y304 w1f h29"><div class="t m0 x4 h4 y2fd ff4 fs2 fc0 sc0 ls0 ws0">Deep<span class="_ _1"> </span>Learning<span class="_ _3"> </span>for<span class="_ _1"> </span>Se<span class="_ _2"></span>lf-Driving<span class="_ _1"> </span>Cars</div></div><div class="c x0 y305 w1e h29"><div class="t m0 x4 h4 y2ff ff4 fs2 fc0 sc0 ls0 ws0">Stanford<span class="_ _1"> </span>·<span class="_ _3"> </span>CS224W</div></div><div class="c x97 y305 w1b h29"><div class="t m0 x4 h4 y300 ff4 fs2 fc0 sc0 ls0 ws0">UCBerkeley<span class="_ _1"> </span>·<span class="_ _3"> </span>CS285</div></div><div class="c x98 y305 w1f h29"><div class="t m0 x4 h4 y300 ff4 fs2 fc0 sc0 ls0 ws0">MIT<span class="_ _1"> </span>·<span class="_ _3"> </span>6.S094</div></div><div class="c x0 y306 w1e h2c"><div class="t m0 x4 h2d y307 ff4 fs1 fc0 sc0 ls0 ws0">...</div></div><div class="c x97 y306 w1b h2c"><div class="t m0 x4 h2d y307 ff4 fs1 fc0 sc0 ls0 ws0">...</div></div><div class="c x98 y306 w1f h2c"><div class="t m0 x4 h2d y307 ff4 fs1 fc0 sc0 ls0 ws0">...</div></div><div class="t m0 x0 h7 y308 ff5 fs4 fc0 sc0 ls0 ws0">是<span class="_ _d"> </span><span class="ff4">ShowMeAI<span class="_ _d"> </span></span>资<span class="_ _2"></span>料<span class="_ _2"></span>库<span class="_ _2"></span>的分<span class="_ _2"></span>支<span class="_ _2"></span>系<span class="_ _2"></span>列<span class="_ _2"></span>，<span class="_ _2"></span>覆盖<span class="_ _2"></span>最<span class="_ _2"></span>具<span class="_ _2"></span>知名<span class="_ _2"></span>度<span class="_ _2"></span>的 <span class="ff4">TOP2<span class="_ _2"></span>0+<span class="_ _2"></span></span>门<span class="_ _15"> </span><span class="ff4">A<span class="_ _2"></span>I </span>课程<span class="_ _2"></span>，<span class="_ _2"></span>旨<span class="_ _2"></span>在为<span class="_ _2"></span>读<span class="_ _2"></span>者<span class="_ _2"></span>和<span class="_ _2"></span>学<span class="_ _2"></span>习者<span class="_ _2"></span>提<span class="_ _2"></span>供<span class="_ _2"></span>一<span class="_ _2"></span>整<span class="_ _2"></span>套</div><div class="t m0 x0 h8 y309 ff5 fs4 fc0 sc0 ls0 ws0">高品质中文学<span class="_ _2"></span>习笔记和速查<span class="_ _2"></span>表。</div><div class="t m0 x0 h7 y30a ff5 fs4 fc0 sc0 ls0 ws0">斯坦<span class="_ _2"></span>福<span class="_ _2"></span>大<span class="_ _2"></span>学<span class="_ _2"></span><span class="ff4">(Stanfor<span class="_ _2"></span>d<span class="_ _4"> </span>Univer<span class="_ _2"></span>sity)<span class="_ _4"> </span>Natu<span class="_ _2"></span>ral<span class="_ _4"> </span>L<span class="_ _2"></span>anguage<span class="_ _d"> </span>Proces<span class="_ _2"></span>sing<span class="_ _4"> </span>with<span class="_ _d"> </span>Deep<span class="_ _d"> </span>Learning<span class="_ _d"> </span>(CS224n<span class="_ _2"></span>)<span class="_ _4"> </span></span>课<span class="_ _2"></span>程<span class="_ _2"></span>，<span class="_ _2"></span>是<span class="_ _2"></span>本</div><div class="t m0 x0 h8 y30b ff5 fs4 fc0 sc0 ls0 ws0">系列的第三门<span class="_ _2"></span>产出。</div><div class="t m0 x0 h7 y30c ff5 fs4 fc0 sc0 ls0 ws0">课程<span class="_ _2"></span>版本<span class="_ _2"></span>为<span class="_ _24"> </span><span class="ff4">2019<span class="_ _4"> </span>Winter<span class="_ _2"></span></span>，核<span class="_ _2"></span>心深<span class="_ _2"></span>度<span class="_ _2"></span>内<span class="_ _2"></span>容<span class="ff4">(trans<span class="_ _2"></span>former<span class="_ _2"></span></span>、<span class="ff4">bert<span class="_ _2"></span></span>、<span class="_ _2"></span>问答<span class="_ _2"></span>、<span class="_ _2"></span>摘要<span class="_ _2"></span>、文<span class="_ _2"></span>本<span class="_ _2"></span>生成<span class="_ _2"></span>等<span class="_ _2"></span><span class="ff4">)</span>在当<span class="_ _2"></span>前<span class="_ _2"></span><span class="ff4">(2021 </span>年<span class="_ _2"></span><span class="ff4">)</span>工</div><div class="t m0 x0 h8 y30d ff5 fs4 fc0 sc0 ls0 ws0">业界和研究界<span class="_ _2"></span>依旧是前沿的<span class="_ _2"></span>方法。最<span class="_ _2"></span>新版课程的笔<span class="_ _2"></span>记生产已在规<span class="_ _2"></span>划中，也<span class="_ _2"></span>敬请期待。</div><div class="t m0 x0 h13 y30e ff5 fs4 fc0 sc0 ls0 ws0">笔记内<span class="_ _2"></span>容经<span class="_ _2"></span>由深度<span class="_ _2"></span>加工<span class="_ _2"></span>整合<span class="_ _2"></span>，以 <span class="ff7 fs0">5 </span>个部<span class="_ _2"></span>分构<span class="_ _2"></span>建起完<span class="_ _2"></span>整的<span class="_ _2"></span>“<span class="ff4">CS224<span class="_ _2"></span>n </span>内容世<span class="_ _2"></span>界”，<span class="_ _2"></span>并依<span class="_ _2"></span>托 <span class="ff4">GitHub </span>创<span class="_ _2"></span>建了汇<span class="_ _2"></span>总</div><div class="t m0 x0 h7 y30f ff5 fs4 fc0 sc0 ls0 ws0">页。快扫描二<span class="_ _2"></span>维码，跳转进<span class="_ _2"></span>入吧！有<span class="_ _2"></span>任何建议和反<span class="_ _2"></span>馈，也欢迎通<span class="_ _2"></span>过下方渠<span class="_ _2"></span>道和我们联络<span class="_ _4"> </span><span class="ff4">(*</span>￣<span class="_ _2"></span><span class="ff4">3</span>￣<span class="ff4">)~</span></div><a class="l" href="http://show-me-ai.com/"><div class="d m2" style="border-style:none;position:absolute;left:55.950000px;bottom:509.700000px;width:53.900000px;height:18.800000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
</div>
<div class="loading-indicator">
<img alt="" src="pdf2htmlEX-64x64.png"/>
</div>
</body>
</html>
